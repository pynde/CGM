"use strict";(self.webpackChunkcardgamemaker=self.webpackChunkcardgamemaker||[]).push([[914],{2067:(e,t,r)=>{r.d(t,{Ls:()=>n,_Q:()=>s,mA:()=>a});const n={name:"local-uniform-bit",vertex:{header:"\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "}},s={...n,vertex:{...n.vertex,header:n.vertex.header.replace("group(1)","group(2)")}},a={name:"local-uniform-bit",vertex:{header:"\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "}}},3391:(e,t,r)=>{r.d(t,{R:()=>n,m:()=>s});const n={name:"texture-bit",vertex:{header:"\n\n        struct TextureUniforms {\n            uTextureMatrix:mat3x3<f32>,\n        }\n\n        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;\n        ",main:"\n            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n            @group(2) @binding(0) var uTexture: texture_2d<f32>;\n            @group(2) @binding(1) var uSampler: sampler;\n\n\n        ",main:"\n            outColor = textureSample(uTexture, uSampler, vUV);\n        "}},s={name:"texture-bit",vertex:{header:"\n            uniform mat3 uTextureMatrix;\n        ",main:"\n            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n        uniform sampler2D uTexture;\n\n\n        ",main:"\n            outColor = texture(uTexture, vUV);\n        "}}},7084:(e,t,r)=>{r.d(t,{q:()=>a});var n=r(268),s=r(8306);function a(e,t){for(const r in e.attributes){const s=e.attributes[r],a=t[r];a?(s.format??(s.format=a.format),s.offset??(s.offset=a.offset),s.instance??(s.instance=a.instance)):(0,n.R)(`Attribute ${r} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}!function(e){const{buffers:t,attributes:r}=e,n={},a={};for(const e in t){const r=t[e];n[r.uid]=0,a[r.uid]=0}for(const e in r){const t=r[e];n[t.buffer.uid]+=(0,s.m)(t.format).stride}for(const e in r){const t=r[e];t.stride??(t.stride=n[t.buffer.uid]),t.start??(t.start=a[t.buffer.uid]),a[t.buffer.uid]+=(0,s.m)(t.format).stride}}(e)}},1172:(e,t,r)=>{r.d(t,{g:()=>s});var n=r(1957);const s=[];s[n.K.NONE]=void 0,s[n.K.DISABLED]={stencilWriteMask:0,stencilReadMask:0},s[n.K.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}},s[n.K.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}},s[n.K.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}},s[n.K.INVERSE_MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"not-equal",passOp:"keep"},stencilBack:{compare:"not-equal",passOp:"keep"}}},581:(e,t,r)=>{r.d(t,{d:()=>a});var n=r(8875),s=r(133);class a extends n.A{constructor({buffer:e,offset:t,size:r}){super(),this.uid=(0,s.L)("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=(0,s.L)("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=e,this.offset=0|t,this.size=r,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=(0,s.L)("resource"),this.emit("change",this)}destroy(e=!1){this.destroyed=!0,e&&this.buffer.destroy(),this.emit("change",this),this.buffer=null}}},279:(e,t,r)=>{r.d(t,{O:()=>o});var n=r(133),s=r(583),a=r(4492);const i=class e{constructor(t={}){if(this.uid=(0,n.L)("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,t={...e.defaultOptions,...t},this.stencil=t.stencil,this.depth=t.depth,this.isRoot=t.isRoot,"number"==typeof t.colorTextures){this._managedColorTextures=!0;for(let e=0;e<t.colorTextures;e++)this.colorTextures.push(new s.v({width:t.width,height:t.height,resolution:t.resolution,antialias:t.antialias}))}else{this.colorTextures=[...t.colorTextures.map((e=>e.source))];const e=this.colorTexture.source;this.resize(e.width,e.height,e._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(t.depthStencilTexture||this.stencil)&&(t.depthStencilTexture instanceof a.g||t.depthStencilTexture instanceof s.v?this.depthStencilTexture=t.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const e=this._size;return e[0]=this.pixelWidth,e[1]=this.pixelHeight,e}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(e){this.resize(e.width,e.height,e._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new s.v({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(e,t,r=this.resolution,n=!1){this.dirtyId++,this.colorTextures.forEach(((s,a)=>{n&&0===a||s.source.resize(e,t,r)})),this.depthStencilTexture&&this.depthStencilTexture.source.resize(e,t,r)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach((e=>{e.destroy()})),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};i.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let o=i},7238:(e,t,r)=>{r.d(t,{l:()=>h});var n=r(9313),s=r(9252),a=r(1257),i=r(7729),o=r(4884),u=r(583),d=r(4492),l=r(8725),c=r(279);class h{constructor(e){this.rootViewPort=new s.M,this.viewport=new s.M,this.onRenderTargetChange=new i.C("onRenderTargetChange"),this.projectionMatrix=new n.u,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuRenderTargetHash")}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:e,clear:t,clearColor:r,frame:n}){this._renderTargetStack.length=0,this.push(e,t,r,n),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=function(e){const t=e.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement&&document.body.contains(t)}(this.rootRenderTarget),this.adaptor.prerender?.(this.rootRenderTarget)}postrender(){this.adaptor.postrender?.(this.rootRenderTarget)}bind(e,t=!0,r,n){const s=this.getRenderTarget(e),a=this.renderTarget!==s;this.renderTarget=s,this.renderSurface=e;const i=this.getGpuRenderTarget(s);s.pixelWidth===i.width&&s.pixelHeight===i.height||(this.adaptor.resizeGpuRenderTarget(s),i.width=s.pixelWidth,i.height=s.pixelHeight);const o=s.colorTexture,u=this.viewport,l=o.pixelWidth,c=o.pixelHeight;if(!n&&e instanceof d.g&&(n=e.frame),n){const e=o._resolution;u.x=n.x*e+.5|0,u.y=n.y*e+.5|0,u.width=n.width*e+.5|0,u.height=n.height*e+.5|0}else u.x=0,u.y=0,u.width=l,u.height=c;return function(e,t,r,n,s,a){const i=a?1:-1;e.identity(),e.a=1/n*2,e.d=i*(1/s*2),e.tx=-1-0*e.a,e.ty=-i-0*e.d}(this.projectionMatrix,0,0,u.width/o.resolution,u.height/o.resolution,!s.isRoot),this.adaptor.startRenderPass(s,t,r,u),a&&this.onRenderTargetChange.emit(s),s}clear(e,t=a.u.ALL,r){t&&(e&&(e=this.getRenderTarget(e)),this.adaptor.clear(e||this.renderTarget,t,r,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(e,t=a.u.ALL,r,n){const s=this.bind(e,t,r,n);return this._renderTargetStack.push({renderTarget:s,frame:n}),s}pop(){this._renderTargetStack.pop();const e=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(e.renderTarget,!1,null,e.frame)}getRenderTarget(e){return e.isTexture&&(e=e.source),this._renderSurfaceToRenderTargetHash.get(e)??this._initRenderTarget(e)}copyToTexture(e,t,r,n,s){r.x<0&&(n.width+=r.x,s.x-=r.x,r.x=0),r.y<0&&(n.height+=r.y,s.y-=r.y,r.y=0);const{pixelWidth:a,pixelHeight:i}=e;return n.width=Math.min(n.width,a-r.x),n.height=Math.min(n.height,i-r.y),this.adaptor.copyToTexture(e,t,r,n,s)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach(((e,t)=>{e!==t&&e.destroy()})),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(e){let t=null;return o.q.test(e)&&(e=(0,l.c)(e).source),e instanceof c.O?t=e:e instanceof u.v&&(t=new c.O({colorTextures:[e]}),e.source instanceof o.q&&(t.isRoot=!0),e.once("destroy",(()=>{t.destroy(),this._renderSurfaceToRenderTargetHash.delete(e);const r=this._gpuRenderTargetHash[t.uid];r&&(this._gpuRenderTargetHash[t.uid]=null,this.adaptor.destroyGpuRenderTarget(r))}))),this._renderSurfaceToRenderTargetHash.set(e,t),t}getGpuRenderTarget(e){return this._gpuRenderTargetHash[e.uid]||(this._gpuRenderTargetHash[e.uid]=this.adaptor.initGpuRenderTarget(e))}resetState(){this.renderTarget=null,this.renderSurface=null}}},7047:(e,t,r)=>{r.d(t,{W:()=>i});var n=r(4577),s=r(949),a=r(1132);class i{constructor(e){this._syncFunctionHash=Object.create(null),this._adaptor=e,this._systemCheck()}_systemCheck(){if(!(0,n.f)())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(e){const t=this.getUniformGroupData(e);e.buffer||(e.buffer=new s.h({data:new Float32Array(t.layout.size/4),usage:a.S.UNIFORM|a.S.COPY_DST}))}getUniformGroupData(e){return this._syncFunctionHash[e._signature]||this._initUniformGroup(e)}_initUniformGroup(e){const t=e._signature;let r=this._syncFunctionHash[t];if(!r){const n=Object.keys(e.uniformStructures).map((t=>e.uniformStructures[t])),s=this._adaptor.createUboElements(n),a=this._generateUboSync(s.uboElements);r=this._syncFunctionHash[t]={layout:s,syncFunction:a}}return this._syncFunctionHash[t]}_generateUboSync(e){return this._adaptor.generateUboSync(e)}syncUniformGroup(e,t,r){const n=this.getUniformGroupData(e);e.buffer||(e.buffer=new s.h({data:new Float32Array(n.layout.size/4),usage:a.S.UNIFORM|a.S.COPY_DST}));let i=null;return t||(t=e.buffer.data,i=e.buffer.dataInt32),r||(r=0),n.syncFunction(e.uniforms,t,i,r),!0}updateUniformGroup(e){if(e.isStatic&&!e._dirtyId)return!1;e._dirtyId=0;const t=this.syncUniformGroup(e);return e.buffer.update(),t}destroy(){this._syncFunctionHash=null}}},6423:(e,t,r)=>{r.d(t,{E:()=>s});var n=r(8166);function s(e,t,r,s){const a=["\n        var v = null;\n        var v2 = null;\n        var t = 0;\n        var index = 0;\n        var name = null;\n        var arrayOffset = null;\n    "];let i=0;for(let o=0;o<e.length;o++){const u=e[o],d=u.data.name;let l=!1,c=0;for(let e=0;e<n.$.length;e++)if(n.$[e].test(u.data)){c=u.offset/4,a.push(`name = "${d}";`,`offset += ${c-i};`,n.$[e][t]||n.$[e].ubo),l=!0;break}if(!l)if(u.data.size>1)c=u.offset/4,a.push(r(u,c-i));else{const e=s[u.data.type];c=u.offset/4,a.push(`\n                    v = uv.${d};\n                    offset += ${c-i};\n                    ${e};\n                `)}i=c}const o=a.join("\n");return new Function("uv","data","dataInt32","offset",o)}},1266:(e,t,r)=>{function n(e,t){return`\n        for (let i = 0; i < ${e*t}; i++) {\n            data[offset + (((i / ${e})|0) * 4) + (i % ${e})] = v[i];\n        }\n    `}r.d(t,{_:()=>a,g:()=>s});const s={f32:"\n        data[offset] = v;",i32:"\n        dataInt32[offset] = v;","vec2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];","vec3<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];","vec4<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];","vec2<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];","vec3<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];\n        dataInt32[offset + 2] = v[2];","vec4<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];\n        dataInt32[offset + 2] = v[2];\n        dataInt32[offset + 3] = v[3];","mat2x2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 4] = v[2];\n        data[offset + 5] = v[3];","mat3x3<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];","mat4x4<f32>":"\n        for (let i = 0; i < 16; i++) {\n            data[offset + i] = v[i];\n        }","mat3x2<f32>":n(3,2),"mat4x2<f32>":n(4,2),"mat2x3<f32>":n(2,3),"mat4x3<f32>":n(4,3),"mat2x4<f32>":n(2,4),"mat3x4<f32>":n(3,4)},a={...s,"mat2x2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];\n    "}},8166:(e,t,r)=>{r.d(t,{$:()=>n});const n=[{type:"mat3x3<f32>",test:e=>void 0!==e.value.a,ubo:"\n            var matrix = uv[name].toArray(true);\n            data[offset] = matrix[0];\n            data[offset + 1] = matrix[1];\n            data[offset + 2] = matrix[2];\n            data[offset + 4] = matrix[3];\n            data[offset + 5] = matrix[4];\n            data[offset + 6] = matrix[5];\n            data[offset + 8] = matrix[6];\n            data[offset + 9] = matrix[7];\n            data[offset + 10] = matrix[8];\n        ",uniform:"\n            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));\n        "},{type:"vec4<f32>",test:e=>"vec4<f32>"===e.type&&1===e.size&&void 0!==e.value.width,ubo:"\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n            data[offset + 2] = v.width;\n            data[offset + 3] = v.height;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                cv[2] = v.width;\n                cv[3] = v.height;\n                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);\n            }\n        "},{type:"vec2<f32>",test:e=>"vec2<f32>"===e.type&&1===e.size&&void 0!==e.value.x,ubo:"\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                gl.uniform2f(ud[name].location, v.x, v.y);\n            }\n        "},{type:"vec4<f32>",test:e=>"vec4<f32>"===e.type&&1===e.size&&void 0!==e.value.red,ubo:"\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n            data[offset + 3] = v.alpha;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                cv[3] = v.alpha;\n                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);\n            }\n        "},{type:"vec3<f32>",test:e=>"vec3<f32>"===e.type&&1===e.size&&void 0!==e.value.red,ubo:"\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);\n            }\n        "}]},7547:(e,t,r)=>{r.d(t,{U:()=>a});const n={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},s=class e{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}set cullMode(e){"none"!==e?(this.culling=!0,this.clockwiseFrontFace="front"===e):this.culling=!1}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend="none"!==e,this._blendMode=e,this._blendModeId=n[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new e;return t.depthTest=!1,t.blend=!0,t}};s.default2d=s.for2d();let a=s},5008:(e,t,r)=>{r.d(t,{f:()=>Ee,i:()=>Fe});var n=r(8507);class s{constructor(e){this._renderer=e}updateRenderable(){}destroyRenderable(){}validateRenderable(){return!1}addRenderable(e,t){this._renderer.renderPipes.batch.break(t),t.add(e)}execute(e){e.isRenderable&&e.render(this._renderer)}destroy(){this._renderer=null}}s.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"customRender"};var a=r(9313),i=r(8218),o=r(8422);function u(e,t){const r=e.instructionSet,n=r.instructions;for(let e=0;e<r.instructionSize;e++){const r=n[e];t[r.renderPipeId].execute(r)}}const d=new a.u;class l{constructor(e){this._renderer=e}addRenderGroup(e,t){e.isCachedAsTexture?this._addRenderableCacheAsTexture(e,t):this._addRenderableDirect(e,t)}execute(e){e.isRenderable&&(e.isCachedAsTexture?this._executeCacheAsTexture(e):this._executeDirect(e))}destroy(){this._renderer=null}_addRenderableDirect(e,t){this._renderer.renderPipes.batch.break(t),e._batchableRenderGroup&&(i.Z.return(e._batchableRenderGroup),e._batchableRenderGroup=null),t.add(e)}_addRenderableCacheAsTexture(e,t){const r=e._batchableRenderGroup??(e._batchableRenderGroup=i.Z.get(o.K));r.renderable=e.root,r.transform=e.root.relativeGroupTransform,r.texture=e.texture,r.bounds=e._textureBounds,t.add(e),this._renderer.renderPipes.batch.addToBatch(r,t)}_executeCacheAsTexture(e){if(e.textureNeedsUpdate){e.textureNeedsUpdate=!1;const t=d.identity().translate(-e._textureBounds.x,-e._textureBounds.y);this._renderer.renderTarget.push(e.texture,!0,null,e.texture.frame),this._renderer.globalUniforms.push({worldTransformMatrix:t,worldColor:4294967295}),u(e,this._renderer.renderPipes),this._renderer.renderTarget.finishRenderPass(),this._renderer.renderTarget.pop(),this._renderer.globalUniforms.pop()}e._batchableRenderGroup._batcher.updateElement(e._batchableRenderGroup),e._batchableRenderGroup._batcher.geometry.buffers[0].update()}_executeDirect(e){this._renderer.globalUniforms.push({worldTransformMatrix:e.inverseParentTextureTransform,worldColor:e.worldColorAlpha}),u(e,this._renderer.renderPipes),this._renderer.globalUniforms.pop()}}l.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"renderGroup"};var c=r(2437),h=r(218),p=r(9636);function f(e,t){t||(t=0);for(let r=t;r<e.length&&e[r];r++)e[r]=null}var m=r(5815),g=r(753);const v=new m.mc,x=m.fR|m.ig|m.u;function _(e,t=!1){!function(e){const t=e.root;let r;if(e.renderGroupParent){const n=e.renderGroupParent;e.worldTransform.appendFrom(t.relativeGroupTransform,n.worldTransform),e.worldColor=(0,g.j)(t.groupColor,n.worldColor),r=t.groupAlpha*n.worldAlpha}else e.worldTransform.copyFrom(t.localTransform),e.worldColor=t.localColor,r=t.localAlpha;r=r<0?0:r>1?1:r,e.worldAlpha=r,e.worldColorAlpha=e.worldColor+(255*r<<24)}(e);const r=e.childrenToUpdate,n=e.updateTick++;for(const t in r){const s=Number(t),a=r[t],i=a.list,o=a.index;for(let t=0;t<o;t++){const r=i[t];r.parentRenderGroup===e&&r.relativeRenderGroupDepth===s&&b(r,n,0)}f(i,o),a.index=0}if(t)for(let r=0;r<e.renderGroupChildren.length;r++)_(e.renderGroupChildren[r],t)}function b(e,t,r){if(t===e.updateTick)return;e.updateTick=t,e.didChange=!1;const n=e.localTransform;e.updateLocalTransform();const s=e.parent;if(s&&!s.renderGroup?(r|=e._updateFlags,e.relativeGroupTransform.appendFrom(n,s.relativeGroupTransform),r&x&&T(e,s,r)):(r=e._updateFlags,e.relativeGroupTransform.copyFrom(n),r&x&&T(e,v,r)),!e.renderGroup){const n=e.children,s=n.length;for(let e=0;e<s;e++)b(n[e],t,r);const a=e.parentRenderGroup,i=e;i.renderPipeId&&!a.structureDidChange&&a.updateRenderable(i)}}function T(e,t,r){if(r&m.ig){e.groupColor=(0,g.j)(e.localColor,t.groupColor);let r=e.localAlpha*t.groupAlpha;r=r<0?0:r>1?1:r,e.groupAlpha=r,e.groupColorAlpha=e.groupColor+(255*r<<24)}r&m.u&&(e.groupBlendMode="inherit"===e.localBlendMode?t.groupBlendMode:e.localBlendMode),r&m.fR&&(e.globalDisplayStatus=e.localDisplayStatus&t.globalDisplayStatus),e._updateFlags=0}const y=new a.u;class k{constructor(e){this._renderer=e}render({container:e,transform:t}){const r=e.parent,n=e.renderGroup.renderGroupParent;e.parent=null,e.renderGroup.renderGroupParent=null;const s=this._renderer;let a=y;t&&(a=a.copyFrom(e.renderGroup.localTransform),e.renderGroup.localTransform.copyFrom(t));const i=s.renderPipes;this._updateCachedRenderGroups(e.renderGroup,null),this._updateRenderGroups(e.renderGroup),s.globalUniforms.start({worldTransformMatrix:t?e.renderGroup.localTransform:e.renderGroup.worldTransform,worldColor:e.renderGroup.worldColorAlpha}),u(e.renderGroup,i),i.uniformBatch&&i.uniformBatch.renderEnd(),t&&e.renderGroup.localTransform.copyFrom(a),e.parent=r,e.renderGroup.renderGroupParent=n}destroy(){this._renderer=null}_updateCachedRenderGroups(e,t){if(e.isCachedAsTexture){if(!e.updateCacheTexture)return;t=e}e._parentCacheAsTextureRenderGroup=t;for(let r=e.renderGroupChildren.length-1;r>=0;r--)this._updateCachedRenderGroups(e.renderGroupChildren[r],t);if(e.invalidateMatrices(),e.isCachedAsTexture){if(e.textureNeedsUpdate){const t=e.root.getLocalBounds();t.ceil();const r=e.texture;e.texture&&c.W.returnTexture(e.texture,!0);const n=this._renderer,s=e.textureOptions.resolution||n.view.resolution,a=e.textureOptions.antialias??n.view.antialias,i=e.textureOptions.scaleMode??"linear",o=c.W.getOptimalTexture(t.width,t.height,s,a);o._source.style=new h.n({scaleMode:i}),e.texture=o,e._textureBounds||(e._textureBounds=new p.c),e._textureBounds.copyFrom(t),r!==e.texture&&e.renderGroupParent&&(e.renderGroupParent.structureDidChange=!0)}}else e.texture&&(c.W.returnTexture(e.texture,!0),e.texture=null)}_updateRenderGroups(e){const t=this._renderer,r=t.renderPipes;if(e.runOnRender(t),e.instructionSet.renderPipes=r,e.structureDidChange?f(e.childrenRenderablesToUpdate.list,0):function(e,t){const{list:r,index:n}=e.childrenRenderablesToUpdate;let s=!1;for(let e=0;e<n;e++){const n=r[e];if(s=t[n.renderPipeId].validateRenderable(n),s)break}e.structureDidChange=s}(e,r),_(e),e.structureDidChange?(e.structureDidChange=!1,this._buildInstructions(e,t)):this._updateRenderables(e),e.childrenRenderablesToUpdate.index=0,t.renderPipes.batch.upload(e.instructionSet),!e.isCachedAsTexture||e.textureNeedsUpdate)for(let t=0;t<e.renderGroupChildren.length;t++)this._updateRenderGroups(e.renderGroupChildren[t])}_updateRenderables(e){const{list:t,index:r}=e.childrenRenderablesToUpdate;for(let n=0;n<r;n++){const r=t[n];r.didViewUpdate&&e.updateRenderable(r)}f(t,r)}_buildInstructions(e,t){const r=e.root,n=e.instructionSet;n.reset();const s=t.renderPipes?t:t.batch.renderer,a=s.renderPipes;a.batch.buildStart(n),a.blendMode.buildStart(),a.colorMask.buildStart(),r.sortableChildren&&r.sortChildren(),r.collectRenderablesWithEffects(n,s,null),a.batch.buildEnd(n),a.blendMode.buildEnd(n)}}k.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"renderGroup"};class M{constructor(e){this._renderer=e}addRenderable(e,t){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,t),t._batcher.updateElement(t)}validateRenderable(e){const t=this._getGpuSprite(e);return!t._batcher.checkAndUpdateTexture(t,e._texture)}_updateBatchableSprite(e,t){t.bounds=e.visualBounds,t.texture=e._texture}_getGpuSprite(e){return e._gpuData[this._renderer.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=new o.K;return t.renderable=e,t.transform=e.groupTransform,t.texture=e._texture,t.bounds=e.visualBounds,t.roundPixels=this._renderer._roundPixels|e._roundPixels,e._gpuData[this._renderer.uid]=t,t}destroy(){this._renderer=null}}M.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"sprite"};var C=r(7073),w=r(7547),S=r(3721);const G=class e{constructor(e,t){this.state=w.U.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=e,this._adaptor=t,this._adaptor.init?.(this)}static getBatcher(e){return new this._availableBatchers[e]}buildStart(e){let t=this._batchersByInstructionSet[e.uid];t||(t=this._batchersByInstructionSet[e.uid]=Object.create(null),t.default||(t.default=new S.J({maxTextures:this.renderer.limits.maxBatchableTextures}))),this._activeBatches=t,this._activeBatch=this._activeBatches.default;for(const e in this._activeBatches)this._activeBatches[e].begin()}addToBatch(t,r){if(this._activeBatch.name!==t.batcherName){this._activeBatch.break(r);let n=this._activeBatches[t.batcherName];n||(n=this._activeBatches[t.batcherName]=e.getBatcher(t.batcherName),n.begin()),this._activeBatch=n}this._activeBatch.add(t)}break(e){this._activeBatch.break(e)}buildEnd(e){this._activeBatch.break(e);const t=this._activeBatches;for(const e in t){const r=t[e],n=r.geometry;n.indexBuffer.setDataWithSize(r.indexBuffer,r.indexSize,!0),n.buffers[0].setDataWithSize(r.attributeBuffer.float32View,r.attributeSize,!1)}}upload(e){const t=this._batchersByInstructionSet[e.uid];for(const e in t){const r=t[e],n=r.geometry;r.dirty&&(r.dirty=!1,n.buffers[0].update(4*r.attributeSize))}}execute(e){if("startBatch"===e.action){const t=e.batcher,r=t.geometry,n=t.shader;this._adaptor.start(this,r,n)}this._adaptor.execute(this,e)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(const e in this._activeBatches)this._activeBatches[e].destroy();this._activeBatches=null}};G.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"batch"},G._availableBatchers=Object.create(null);let P=G;n.XO.handleByMap(n.Ag.Batcher,P._availableBatchers),n.XO.add(S.J);var A=r(9049),R=r(9113),U=r(3012),B=r(5811),I=r(1196),O=r(8475);const F=class e extends O.M{constructor(t){super(t={...e.defaultOptions,...t}),this.enabled=!0,this._state=w.U.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,"boolean"==typeof t.antialias?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1)}apply(e,t,r,n){e.applyFilter(this,t,r,n)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(t){const{gpu:r,gl:n,...s}=t;let a,i;return r&&(a=U.B.from(r)),n&&(i=R.M.from(n)),new e({gpuProgram:a,glProgram:i,...s})}};F.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let E=F;var z="struct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct MaskUniforms {\n  uFilterMatrix:mat3x3<f32>,\n  uMaskClamp:vec4<f32>,\n  uAlpha:f32,\n  uInverse:f32,\n};\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;\n@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) filterUv : vec2<f32>,\n};\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);\n}\n\nfn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}\n\nfn getSize() -> vec2<f32>\n{\n  return gfu.uGlobalFrame.zw;\n}\n\n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>,\n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition),\n   getFilterCoord(aPosition)\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) filterUv: vec2<f32>,\n  @builtin(position) position: vec4<f32>\n) -> @location(0) vec4<f32> {\n\n    var maskClamp = filterUniforms.uMaskClamp;\n    var uAlpha = filterUniforms.uAlpha;\n\n    var clip = step(3.5,\n      step(maskClamp.x, filterUv.x) +\n      step(maskClamp.y, filterUv.y) +\n      step(filterUv.x, maskClamp.z) +\n      step(filterUv.y, maskClamp.w));\n\n    var mask = textureSample(uMaskTexture, uSampler, filterUv);\n    var source = textureSample(uTexture, uSampler, uv);\n    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);\n\n    var a: f32 = alphaMul * mask.r * uAlpha * clip;\n\n    if (filterUniforms.uInverse == 1.0) {\n        a = 1.0 - a;\n    }\n\n    return source * a;\n}\n";class D extends E{constructor(e){const{sprite:t,...r}=e,n=new I.N(t.texture),s=new B.k({uFilterMatrix:{value:new a.u,type:"mat3x3<f32>"},uMaskClamp:{value:n.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:e.inverse?1:0,type:"f32"}});super({...r,gpuProgram:U.B.from({vertex:{source:z,entryPoint:"mainVertex"},fragment:{source:z,entryPoint:"mainFragment"}}),glProgram:R.M.from({vertex:"in vec2 aPosition;\n\nout vec2 vTextureCoord;\nout vec2 vMaskCoord;\n\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\nuniform mat3 uFilterMatrix;\n\nvec4 filterVertexPosition(  vec2 aPosition )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n       \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord(  vec2 aPosition )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvec2 getFilterCoord( vec2 aPosition )\n{\n    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}   \n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition(aPosition);\n    vTextureCoord = filterTextureCoord(aPosition);\n    vMaskCoord = getFilterCoord(aPosition);\n}\n",fragment:"in vec2 vMaskCoord;\nin vec2 vTextureCoord;\n\nuniform sampler2D uTexture;\nuniform sampler2D uMaskTexture;\n\nuniform float uAlpha;\nuniform vec4 uMaskClamp;\nuniform float uInverse;\n\nout vec4 finalColor;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(uMaskClamp.x, vMaskCoord.x) +\n        step(uMaskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, uMaskClamp.z) +\n        step(vMaskCoord.y, uMaskClamp.w));\n\n    // TODO look into why this is needed\n    float npmAlpha = uAlpha;\n    vec4 original = texture(uTexture, vTextureCoord);\n    vec4 masky = texture(uMaskTexture, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    float a = alphaMul * masky.r * npmAlpha * clip;\n\n    if (uInverse == 1.0) {\n        a = 1.0 - a;\n    }\n\n    finalColor = original * a;\n}\n",name:"mask-filter"}),clipToViewport:!1,resources:{filterUniforms:s,uMaskTexture:t.texture.source}}),this.sprite=t,this._textureMatrix=n}set inverse(e){this.resources.filterUniforms.uniforms.uInverse=e?1:0}get inverse(){return 1===this.resources.filterUniforms.uniforms.uInverse}apply(e,t,r,n){this._textureMatrix.texture=this.sprite.texture,e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,e.applyFilter(this,t,r,n)}}var W=r(9443),L=r(6844),H=r(4492),V=r(5099);const j=new p.c;class N extends A.a{constructor(){super(),this.filters=[new D({sprite:new L.k(H.g.EMPTY),inverse:!1,resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(e){this.filters[0].sprite=e}get inverse(){return this.filters[0].inverse}set inverse(e){this.filters[0].inverse=e}}class ${constructor(e){this._activeMaskStage=[],this._renderer=e}push(e,t,r){const n=this._renderer;if(n.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:e,inverse:t._maskOptions.inverse,canBundle:!1,maskedContainer:t}),e.inverse=t._maskOptions.inverse,e.renderMaskToTexture){const t=e.mask;t.includeInBuild=!0,t.collectRenderables(r,n,null),t.includeInBuild=!1}n.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:e,maskedContainer:t,inverse:t._maskOptions.inverse,canBundle:!1})}pop(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:e,inverse:t._maskOptions.inverse,canBundle:!1})}execute(e){const t=this._renderer,r=e.mask.renderMaskToTexture;if("pushMaskBegin"===e.action){const n=i.Z.get(N);if(n.inverse=e.inverse,r){e.mask.mask.measurable=!0;const r=(0,W.f)(e.mask.mask,!0,j);e.mask.mask.measurable=!1,r.ceil();const s=t.renderTarget.renderTarget.colorTexture.source,a=c.W.getOptimalTexture(r.width,r.height,s._resolution,s.antialias);t.renderTarget.push(a,!0),t.globalUniforms.push({offset:r,worldColor:4294967295});const i=n.sprite;i.texture=a,i.worldTransform.tx=r.minX,i.worldTransform.ty=r.minY,this._activeMaskStage.push({filterEffect:n,maskedContainer:e.maskedContainer,filterTexture:a})}else n.sprite=e.mask.mask,this._activeMaskStage.push({filterEffect:n,maskedContainer:e.maskedContainer})}else if("pushMaskEnd"===e.action){const e=this._activeMaskStage[this._activeMaskStage.length-1];r&&(t.type===V.W.WEBGL&&t.renderTarget.finishRenderPass(),t.renderTarget.pop(),t.globalUniforms.pop()),t.filter.push({renderPipeId:"filter",action:"pushFilter",container:e.maskedContainer,filterEffect:e.filterEffect,canBundle:!1})}else if("popMaskEnd"===e.action){t.filter.pop();const e=this._activeMaskStage.pop();r&&c.W.returnTexture(e.filterTexture),i.Z.return(e.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}$.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"alphaMask"};class q{constructor(e){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=e}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(e,t,r){this._renderer.renderPipes.batch.break(r);const n=this._colorStack;n[this._colorStackIndex]=n[this._colorStackIndex-1]&e.mask;const s=this._colorStack[this._colorStackIndex];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1})),this._colorStackIndex++}pop(e,t,r){this._renderer.renderPipes.batch.break(r);const n=this._colorStack;this._colorStackIndex--;const s=n[this._colorStackIndex-1];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1}))}execute(e){this._renderer.colorMask.setMask(e.colorMask)}destroy(){this._colorStack=null}}q.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"colorMask"};var K=r(1257),Q=r(1957);class Y{constructor(e){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=e}push(e,t,r){var n;const s=e,a=this._renderer;a.renderPipes.batch.break(r),a.renderPipes.blendMode.setBlendMode(s.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:e,inverse:t._maskOptions.inverse,canBundle:!1});const i=s.mask;i.includeInBuild=!0,this._maskHash.has(s)||this._maskHash.set(s,{instructionsStart:0,instructionsLength:0});const o=this._maskHash.get(s);o.instructionsStart=r.instructionSize,i.collectRenderables(r,a,null),i.includeInBuild=!1,a.renderPipes.batch.break(r),r.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:e,inverse:t._maskOptions.inverse,canBundle:!1});const u=r.instructionSize-o.instructionsStart-1;o.instructionsLength=u;const d=a.renderTarget.renderTarget.uid;(n=this._maskStackHash)[d]??(n[d]=0)}pop(e,t,r){const n=e,s=this._renderer;s.renderPipes.batch.break(r),s.renderPipes.blendMode.setBlendMode(n.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"popMaskBegin",inverse:t._maskOptions.inverse,canBundle:!1});const a=this._maskHash.get(e);for(let e=0;e<a.instructionsLength;e++)r.instructions[r.instructionSize++]=r.instructions[a.instructionsStart++];r.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(e){var t;const r=this._renderer,n=r.renderTarget.renderTarget.uid;let s=(t=this._maskStackHash)[n]??(t[n]=0);"pushMaskBegin"===e.action?(r.renderTarget.ensureDepthStencil(),r.stencil.setStencilMode(Q.K.RENDERING_MASK_ADD,s),s++,r.colorMask.setMask(0)):"pushMaskEnd"===e.action?(e.inverse?r.stencil.setStencilMode(Q.K.INVERSE_MASK_ACTIVE,s):r.stencil.setStencilMode(Q.K.MASK_ACTIVE,s),r.colorMask.setMask(15)):"popMaskBegin"===e.action?(r.colorMask.setMask(0),0!==s?r.stencil.setStencilMode(Q.K.RENDERING_MASK_REMOVE,s):(r.renderTarget.clear(null,K.u.STENCIL),r.stencil.setStencilMode(Q.K.DISABLED,s)),s--):"popMaskEnd"===e.action&&(e.inverse?r.stencil.setStencilMode(Q.K.INVERSE_MASK_ACTIVE,s):r.stencil.setStencilMode(Q.K.MASK_ACTIVE,s),r.colorMask.setMask(15)),this._maskStackHash[n]=s}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}Y.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"stencilMask"};var J=r(2577),X=r(268);const Z=class e{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new J.Q(0),this.color=this._backgroundColor,this.alpha=1}init(t){t={...e.defaultOptions,...t},this.clearBeforeRender=t.clearBeforeRender,this.color=t.background||t.backgroundColor||this._backgroundColor,this.alpha=t.backgroundAlpha,this._backgroundColor.setAlpha(t.backgroundAlpha)}get color(){return this._backgroundColor}set color(e){J.Q.shared.setValue(e).alpha<1&&1===this._backgroundColor.alpha&&(0,X.R)("Cannot set a transparent background on an opaque canvas. To enable transparency, set backgroundAlpha < 1 when initializing your Application."),this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};Z.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"background",priority:0},Z.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let ee=Z;const te={};n.XO.handle(n.Ag.BlendMode,(e=>{if(!e.name)throw new Error("BlendMode extension must have a name property");te[e.name]=e.ref}),(e=>{delete te[e.name]}));class re{constructor(e){this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=e,this._renderer.runners.prerender.add(this)}prerender(){this._activeBlendMode="normal",this._isAdvanced=!1}setBlendMode(e,t,r){this._activeBlendMode!==t?(this._activeBlendMode=t,this._isAdvanced&&this._endAdvancedBlendMode(r),this._isAdvanced=!!te[t],this._isAdvanced&&(this._beginAdvancedBlendMode(r),this._renderableList.push(e))):this._isAdvanced&&this._renderableList.push(e)}_beginAdvancedBlendMode(e){this._renderer.renderPipes.batch.break(e);const t=this._activeBlendMode;if(!te[t])return void(0,X.R)(`Unable to assign BlendMode: '${t}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);let r=this._filterHash[t];r||(r=this._filterHash[t]=new A.a,r.filters=[new te[t]]);const n={renderPipeId:"filter",action:"pushFilter",renderables:[],filterEffect:r,canBundle:!1};this._renderableList=n.renderables,e.add(n)}_endAdvancedBlendMode(e){this._renderableList=null,this._renderer.renderPipes.batch.break(e),e.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(e){this._isAdvanced&&this._endAdvancedBlendMode(e)}destroy(){this._renderer=null,this._renderableList=null;for(const e in this._filterHash)this._filterHash[e].destroy();this._filterHash=null}}re.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"blendMode"};var ne=r(1761);const se={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},ae=class e{constructor(e){this._renderer=e}_normalizeOptions(e,t={}){return e instanceof m.mc||e instanceof H.g?{target:e,...t}:{...t,...e}}async image(e){const t=ne.e.get().createImage();return t.src=await this.base64(e),t}async base64(t){t=this._normalizeOptions(t,e.defaultImageOptions);const{format:r,quality:n}=t,s=this.canvas(t);if(void 0!==s.toBlob)return new Promise(((e,t)=>{s.toBlob((r=>{if(!r)return void t(new Error("ICanvas.toBlob failed!"));const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)}),se[r],n)}));if(void 0!==s.toDataURL)return s.toDataURL(se[r],n);if(void 0!==s.convertToBlob){const e=await s.convertToBlob({type:se[r],quality:n});return new Promise(((t,r)=>{const n=new FileReader;n.onload=()=>t(n.result),n.onerror=r,n.readAsDataURL(e)}))}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e){const t=(e=this._normalizeOptions(e)).target,r=this._renderer;if(t instanceof H.g)return r.texture.generateCanvas(t);const n=r.textureGenerator.generateTexture(e),s=r.texture.generateCanvas(n);return n.destroy(!0),s}pixels(e){const t=(e=this._normalizeOptions(e)).target,r=this._renderer,n=t instanceof H.g?t:r.textureGenerator.generateTexture(e),s=r.texture.getPixels(n);return t instanceof m.mc&&n.destroy(!0),s}texture(e){return(e=this._normalizeOptions(e)).target instanceof H.g?e.target:this._renderer.textureGenerator.generateTexture(e)}download(e){e=this._normalizeOptions(e);const t=this.canvas(e),r=document.createElement("a");r.download=e.filename??"image.png",r.href=t.toDataURL("image/png"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}log(e){const t=e.width??200;e=this._normalizeOptions(e);const r=this.canvas(e),n=r.toDataURL();console.log(`[Pixi Texture] ${r.width}px ${r.height}px`);const s=["font-size: 1px;",`padding: ${t}px 300px;`,`background: url(${n}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",s)}destroy(){this._renderer=null}};ae.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"extract"},ae.defaultImageOptions={format:"png",quality:1};let ie=ae;var oe=r(9252),ue=r(7269),de=r(583);class le extends H.g{static create(e){return new le({source:new de.v(e)})}resize(e,t,r){return this.source.resize(e,t,r),this}}const ce=new oe.M,he=new p.c,pe=[0,0,0,0];class fe{constructor(e){this._renderer=e}generateTexture(e){e instanceof m.mc&&(e={target:e,frame:void 0,textureSourceOptions:{},resolution:void 0});const t=e.resolution||this._renderer.resolution,r=e.antialias||this._renderer.view.antialias,n=e.target;let s=e.clearColor;s=s?Array.isArray(s)&&4===s.length?s:J.Q.shared.setValue(s).toArray():pe;const i=e.frame?.copyTo(ce)||(0,ue.n)(n,he).rectangle;i.width=0|Math.max(i.width,1/t),i.height=0|Math.max(i.height,1/t);const o=le.create({...e.textureSourceOptions,width:i.width,height:i.height,resolution:t,antialias:r}),u=a.u.shared.translate(-i.x,-i.y);return this._renderer.render({container:n,transform:u,target:o,clearColor:s}),o.source.updateMipmaps(),o}destroy(){this._renderer=null}}fe.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"textureGenerator"};var me=r(5101),ge=r(2760),ve=r(3513);class xe{constructor(e){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=e}reset(){this._stackIndex=0;for(let e=0;e<this._activeUniforms.length;e++)this._uniformsPool.push(this._activeUniforms[e]);for(let e=0;e<this._activeBindGroups.length;e++)this._bindGroupPool.push(this._activeBindGroups[e]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(e){this.reset(),this.push(e)}bind({size:e,projectionMatrix:t,worldTransformMatrix:r,worldColor:n,offset:s}){const i=this._renderer.renderTarget.renderTarget,o=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:i,worldTransformMatrix:new a.u,worldColor:4294967295,offset:new me.b},u={projectionMatrix:t||this._renderer.renderTarget.projectionMatrix,resolution:e||i.size,worldTransformMatrix:r||o.worldTransformMatrix,worldColor:n||o.worldColor,offset:s||o.offset,bindGroup:null},d=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(d);const l=d.uniforms;let c;l.uProjectionMatrix=u.projectionMatrix,l.uResolution=u.resolution,l.uWorldTransformMatrix.copyFrom(u.worldTransformMatrix),l.uWorldTransformMatrix.tx-=u.offset.x,l.uWorldTransformMatrix.ty-=u.offset.y,(0,ge.V)(u.worldColor,l.uWorldColorAlpha,0),d.update(),this._renderer.renderPipes.uniformBatch?c=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(d,!1):(c=this._bindGroupPool.pop()||new ve.T,this._activeBindGroups.push(c),c.setResource(d,0)),u.bindGroup=c,this._currentGlobalUniformData=u}push(e){this.bind(e),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===V.W.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get globalUniformData(){return this._currentGlobalUniformData}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new B.k({uProjectionMatrix:{value:new a.u,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new a.u,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null}}xe.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"globalUniforms"};var _e=r(7309);let be=1;class Te{constructor(){this._tasks=[],this._offset=0}init(){_e.R.system.add(this._update,this)}repeat(e,t,r=!0){const n=be++;let s=0;return r&&(this._offset+=1e3,s=this._offset),this._tasks.push({func:e,duration:t,start:performance.now(),offset:s,last:performance.now(),repeat:!0,id:n}),n}cancel(e){for(let t=0;t<this._tasks.length;t++)if(this._tasks[t].id===e)return void this._tasks.splice(t,1)}_update(){const e=performance.now();for(let t=0;t<this._tasks.length;t++){const r=this._tasks[t];if(e-r.offset-r.last>=r.duration){const t=e-r.start;r.func(t),r.last=e}}}destroy(){_e.R.system.remove(this._update,this),this._tasks.length=0}}Te.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"scheduler",priority:0};var ye=r(2571);let ke=!1;class Me{constructor(e){this._renderer=e}init(e){if(e.hello){let e=this._renderer.name;this._renderer.type===V.W.WEBGL&&(e+=` ${this._renderer.context.webGLVersion}`),function(e){if(!ke){if(ne.e.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const t=[`%c  %c  %c  %c  %c PixiJS %c v${ye.xv} (${e}) http://www.pixijs.com/\n\n`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...t)}else globalThis.console&&globalThis.console.log(`PixiJS ${ye.xv} - ${e} - http://www.pixijs.com/`);ke=!0}}(e)}}}function Ce(e){let t=!1;for(const r in e)if(null==e[r]){t=!0;break}if(!t)return e;const r=Object.create(null);for(const t in e){const n=e[t];n&&(r[t]=n)}return r}function we(e){let t=0;for(let r=0;r<e.length;r++)null==e[r]?t++:e[r-t]=e[r];return e.length-=t,e}Me.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"hello",priority:-2},Me.defaultOptions={hello:!1};let Se=0;const Ge=class e{constructor(e){this._managedRenderables=[],this._managedHashes=[],this._managedArrays=[],this._renderer=e}init(t){t={...e.defaultOptions,...t},this.maxUnusedTime=t.renderableGCMaxUnusedTime,this._frequency=t.renderableGCFrequency,this.enabled=t.renderableGCActive}get enabled(){return!!this._handler}set enabled(e){this.enabled!==e&&(e?(this._handler=this._renderer.scheduler.repeat((()=>this.run()),this._frequency,!1),this._hashHandler=this._renderer.scheduler.repeat((()=>{for(const e of this._managedHashes)e.context[e.hash]=Ce(e.context[e.hash])}),this._frequency),this._arrayHandler=this._renderer.scheduler.repeat((()=>{for(const e of this._managedArrays)we(e.context[e.hash])}),this._frequency)):(this._renderer.scheduler.cancel(this._handler),this._renderer.scheduler.cancel(this._hashHandler),this._renderer.scheduler.cancel(this._arrayHandler)))}addManagedHash(e,t){this._managedHashes.push({context:e,hash:t})}addManagedArray(e,t){this._managedArrays.push({context:e,hash:t})}prerender({container:e}){this._now=performance.now(),e.renderGroup.gcTick=Se++,this._updateInstructionGCTick(e.renderGroup,e.renderGroup.gcTick)}addRenderable(e){this.enabled&&(-1===e._lastUsed&&(this._managedRenderables.push(e),e.once("destroyed",this._removeRenderable,this)),e._lastUsed=this._now)}run(){const e=this._now,t=this._managedRenderables,r=this._renderer.renderPipes;let n=0;for(let s=0;s<t.length;s++){const a=t[s];if(null===a){n++;continue}const i=a.renderGroup??a.parentRenderGroup,o=i?.instructionSet?.gcTick??-1;if((i?.gcTick??0)===o&&(a._lastUsed=e),e-a._lastUsed>this.maxUnusedTime){if(!a.destroyed){const e=r;i&&(i.structureDidChange=!0),e[a.renderPipeId].destroyRenderable(a)}a._lastUsed=-1,n++,a.off("destroyed",this._removeRenderable,this)}else t[s-n]=a}t.length-=n}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0,this._managedHashes.length=0,this._managedArrays.length=0}_removeRenderable(e){const t=this._managedRenderables.indexOf(e);t>=0&&(e.off("destroyed",this._removeRenderable,this),this._managedRenderables[t]=null)}_updateInstructionGCTick(e,t){e.instructionSet.gcTick=t;for(const r of e.renderGroupChildren)this._updateInstructionGCTick(r,t)}};Ge.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"renderableGC",priority:0},Ge.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:6e4,renderableGCFrequency:3e4};let Pe=Ge;const Ae=class e{constructor(e){this._renderer=e,this.count=0,this.checkCount=0}init(t){t={...e.defaultOptions,...t},this.checkCountMax=t.textureGCCheckCountMax,this.maxIdle=t.textureGCAMaxIdle??t.textureGCMaxIdle,this.active=t.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this._renderer.texture.managedTextures;for(let t=0;t<e.length;t++){const r=e[t];r.autoGarbageCollect&&r.resource&&r._touched>-1&&this.count-r._touched>this.maxIdle&&(r._touched=-1,r.unload())}}destroy(){this._renderer=null}};Ae.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"textureGC"},Ae.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:3600,textureGCCheckCountMax:600};let Re=Ae;var Ue=r(4670),Be=r(279),Ie=r(8725);const Oe=class e{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(e){this.texture.source.autoDensity=e}get resolution(){return this.texture.source._resolution}set resolution(e){this.texture.source.resize(this.texture.source.width,this.texture.source.height,e)}init(t){(t={...e.defaultOptions,...t}).view&&((0,Ue.t6)(Ue.lj,"ViewSystem.view has been renamed to ViewSystem.canvas"),t.canvas=t.view),this.screen=new oe.M(0,0,t.width,t.height),this.canvas=t.canvas||ne.e.get().createCanvas(),this.antialias=!!t.antialias,this.texture=(0,Ie.c)(this.canvas,t),this.renderTarget=new Be.O({colorTextures:[this.texture],depth:!!t.depth,isRoot:!0}),this.texture.source.transparent=t.backgroundAlpha<1,this.resolution=t.resolution}resize(e,t,r){this.texture.source.resize(e,t,r),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(e=!1){("boolean"==typeof e?e:e?.removeView)&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};Oe.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"view",priority:0},Oe.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};const Fe=[ee,xe,Me,Oe,k,Re,fe,ie,C.d,Pe,Te],Ee=[re,P,M,l,$,Y,q,s]},8725:(e,t,r)=>{r.d(t,{c:()=>i});var n=r(4884),s=r(4492);const a=new Map;function i(e,t){if(!a.has(e)){const r=new s.g({source:new n.q({resource:e,...t})}),i=()=>{a.get(e)===r&&a.delete(e)};r.once("destroy",i),r.source.once("destroy",i),a.set(e,r)}return a.get(e)}},2760:(e,t,r)=>{function n(e,t,r){const n=(e>>24&255)/255;t[r++]=(255&e)/255*n,t[r++]=(e>>8&255)/255*n,t[r++]=(e>>16&255)/255*n,t[r++]=n}r.d(t,{V:()=>n})},8422:(e,t,r)=>{r.d(t,{K:()=>n});class n{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}destroy(){}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d2dCLEdBQVMrTCxHQUFRLEdBQUssS0FBTyxJQUNuQ0MsRUFBSXhzQixNQUFvQixJQUFQdXNCLEdBQWMsSUFBTS9MLEVBQ3JDZ00sRUFBSXhzQixNQUFhdXNCLEdBQVEsRUFBSSxLQUFPLElBQU0vTCxFQUMxQ2dNLEVBQUl4c0IsTUFBYXVzQixHQUFRLEdBQUssS0FBTyxJQUFNL0wsRUFDM0NnTSxFQUFJeHNCLEtBQVl3Z0IsQ0FDbEIsQyxrRENaQSxNQUFNbFAsRUFDSixXQUFBN1AsR0FDRUcsS0FBSzJYLFlBQWMsVUFDbkIzWCxLQUFLNnFCLFNBQVcsZ0JBRWhCN3FCLEtBQUtrWSxjQUFnQixFQUNyQmxZLEtBQUsrWCxVQUFZLEVBQ2pCL1gsS0FBSzhxQixZQUFhLEVBQ2xCOXFCLEtBQUswVyxZQUFjLEVBQ25CMVcsS0FBSytxQixnQkFBa0IsRUFFdkIvcUIsS0FBS3VRLFNBQVcsS0FDaEJ2USxLQUFLZ3JCLE9BQVMsSUFDaEIsQ0FDQSxhQUFJemUsR0FDRixPQUFPdk0sS0FBSzJQLFdBQVdxRCxjQUN6QixDQUNBLFNBQUkyTCxHQUNGLE9BQU8zZSxLQUFLMlAsV0FBV29ELGVBQ3pCLENBQ0EsS0FBQXFDLEdBQ0VwVixLQUFLMlAsV0FBYSxLQUNsQjNQLEtBQUs0QixRQUFVLEtBQ2Y1QixLQUFLdVEsU0FBVyxLQUNoQnZRLEtBQUtnckIsT0FBUyxLQUNkaHJCLEtBQUsrUCxPQUFTLElBQ2hCLENBQ0EsT0FBQXRQLEdBQ0EsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2xvY2FsVW5pZm9ybUJpdC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvdGV4dHVyZUJpdC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9wcm9ncmFtL2Vuc3VyZUF0dHJpYnV0ZXMubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc3RhdGUvR3B1U3RlbmNpbE1vZGVzVG9QaXhpLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2J1ZmZlci9CdWZmZXJSZXNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9yZW5kZXJUYXJnZXQvUmVuZGVyVGFyZ2V0Lm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3JlbmRlclRhcmdldC9SZW5kZXJUYXJnZXRTeXN0ZW0ubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvcmVuZGVyVGFyZ2V0L2lzUmVuZGVyaW5nVG9TY3JlZW4ubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvcmVuZGVyVGFyZ2V0L2NhbGN1bGF0ZVByb2plY3Rpb24ubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1Vib1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvdXRpbHMvY3JlYXRlVWJvU3luY0Z1bmN0aW9uLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci91dGlscy91Ym9TeW5jRnVuY3Rpb25zLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci91dGlscy91bmlmb3JtUGFyc2Vycy5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9TdGF0ZS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvQ3VzdG9tUmVuZGVyUGlwZS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvdXRpbHMvZXhlY3V0ZUluc3RydWN0aW9ucy5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvUmVuZGVyR3JvdXBQaXBlLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2NvbnRhaW5lci91dGlscy9jbGVhckxpc3QubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL3V0aWxzL3VwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3Jtcy5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvUmVuZGVyR3JvdXBTeXN0ZW0ubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL3V0aWxzL3ZhbGlkYXRlUmVuZGVyYWJsZXMubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlL1Nwcml0ZVBpcGUubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2JhdGNoZXIvc2hhcmVkL0JhdGNoZXJQaXBlLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvRmlsdGVyLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvbWFzay9tYXNrLmZyYWcubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9tYXNrL21hc2sud2dzbC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL21hc2svTWFza0ZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL21hc2svbWFzay52ZXJ0Lm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9tYXNrL2FscGhhL0FscGhhTWFza1BpcGUubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL21hc2svY29sb3IvQ29sb3JNYXNrUGlwZS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvbWFzay9zdGVuY2lsL1N0ZW5jaWxNYXNrUGlwZS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9iYWNrZ3JvdW5kL0JhY2tncm91bmRTeXN0ZW0ubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvYmxlbmRNb2Rlcy9CbGVuZE1vZGVQaXBlLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2V4dHJhY3QvRXh0cmFjdFN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1JlbmRlclRleHR1cmUubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvZXh0cmFjdC9HZW5lcmF0ZVRleHR1cmVTeXN0ZW0ubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvcmVuZGVyVGFyZ2V0L0dsb2JhbFVuaWZvcm1TeXN0ZW0ubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvU2NoZWR1bGVyU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3V0aWxzL3NheUhlbGxvLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXJ0dXAvSGVsbG9TeXN0ZW0ubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvdXRpbHMvZGF0YS9jbGVhbi5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1JlbmRlcmFibGVHQ1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVHQ1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC92aWV3L1ZpZXdTeXN0ZW0ubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc3lzdGVtL1NoYXJlZFN5c3RlbXMubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS91dGlscy9nZXRDYW52YXNUZXh0dXJlLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2dyYXBoaWNzL2dwdS9jb2xvclRvVW5pZm9ybS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUvQmF0Y2hhYmxlU3ByaXRlLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdCA9IHtcbiAgbmFtZTogXCJsb2NhbC11bmlmb3JtLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcblxuICAgICAgICAgICAgc3RydWN0IExvY2FsVW5pZm9ybXMge1xuICAgICAgICAgICAgICAgIHVUcmFuc2Zvcm1NYXRyaXg6bWF0M3gzPGYzMj4sXG4gICAgICAgICAgICAgICAgdUNvbG9yOnZlYzQ8ZjMyPixcbiAgICAgICAgICAgICAgICB1Um91bmQ6ZjMyLFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBAZ3JvdXAoMSkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGxvY2FsVW5pZm9ybXMgOiBMb2NhbFVuaWZvcm1zO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gbG9jYWxVbmlmb3Jtcy51Q29sb3I7XG4gICAgICAgICAgICBtb2RlbE1hdHJpeCAqPSBsb2NhbFVuaWZvcm1zLnVUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgIGBcbiAgICApLFxuICAgIGVuZDogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgaWYobG9jYWxVbmlmb3Jtcy51Um91bmQgPT0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2UG9zaXRpb24gPSB2ZWM0KHJvdW5kUGl4ZWxzKHZQb3NpdGlvbi54eSwgZ2xvYmFsVW5pZm9ybXMudVJlc29sdXRpb24pLCB2UG9zaXRpb24uencpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuY29uc3QgbG9jYWxVbmlmb3JtQml0R3JvdXAyID0ge1xuICAuLi5sb2NhbFVuaWZvcm1CaXQsXG4gIHZlcnRleDoge1xuICAgIC4uLmxvY2FsVW5pZm9ybUJpdC52ZXJ0ZXgsXG4gICAgLy8gcmVwbGFjZSB0aGUgZ3JvdXAhXG4gICAgaGVhZGVyOiBsb2NhbFVuaWZvcm1CaXQudmVydGV4LmhlYWRlci5yZXBsYWNlKFwiZ3JvdXAoMSlcIiwgXCJncm91cCgyKVwiKVxuICB9XG59O1xuY29uc3QgbG9jYWxVbmlmb3JtQml0R2wgPSB7XG4gIG5hbWU6IFwibG9jYWwtdW5pZm9ybS1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG5cbiAgICAgICAgICAgIHVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWM0IHVDb2xvcjtcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgdVJvdW5kO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gdUNvbG9yO1xuICAgICAgICAgICAgbW9kZWxNYXRyaXggPSB1VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICBgXG4gICAgKSxcbiAgICBlbmQ6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGlmKHVSb3VuZCA9PSAxLilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbF9Qb3NpdGlvbi54eSA9IHJvdW5kUGl4ZWxzKGdsX1Bvc2l0aW9uLnh5LCB1UmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5cbmV4cG9ydCB7IGxvY2FsVW5pZm9ybUJpdCwgbG9jYWxVbmlmb3JtQml0R2wsIGxvY2FsVW5pZm9ybUJpdEdyb3VwMiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9jYWxVbmlmb3JtQml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgdGV4dHVyZUJpdCA9IHtcbiAgbmFtZTogXCJ0ZXh0dXJlLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcblxuICAgICAgICBzdHJ1Y3QgVGV4dHVyZVVuaWZvcm1zIHtcbiAgICAgICAgICAgIHVUZXh0dXJlTWF0cml4Om1hdDN4MzxmMzI+LFxuICAgICAgICB9XG5cbiAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDIpIHZhcjx1bmlmb3JtPiB0ZXh0dXJlVW5pZm9ybXMgOiBUZXh0dXJlVW5pZm9ybXM7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHV2ID0gKHRleHR1cmVVbmlmb3Jtcy51VGV4dHVyZU1hdHJpeCAqIHZlYzModXYsIDEuMCkpLnh5O1xuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDApIHZhciB1VGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDEpIHZhciB1U2FtcGxlcjogc2FtcGxlcjtcblxuXG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIG91dENvbG9yID0gdGV4dHVyZVNhbXBsZSh1VGV4dHVyZSwgdVNhbXBsZXIsIHZVVik7XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCB0ZXh0dXJlQml0R2wgPSB7XG4gIG5hbWU6IFwidGV4dHVyZS1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB1bmlmb3JtIG1hdDMgdVRleHR1cmVNYXRyaXg7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHV2ID0gKHVUZXh0dXJlTWF0cml4ICogdmVjMyh1diwgMS4wKSkueHk7XG4gICAgICAgIGBcbiAgICApXG4gIH0sXG4gIGZyYWdtZW50OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xuXG5cbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgb3V0Q29sb3IgPSB0ZXh0dXJlKHVUZXh0dXJlLCB2VVYpO1xuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyB0ZXh0dXJlQml0LCB0ZXh0dXJlQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHR1cmVCaXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3V0aWxzL2xvZ2dpbmcvd2Fybi5tanMnO1xuaW1wb3J0IHsgZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvZ2VvbWV0cnkvdXRpbHMvZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBlbnN1cmVBdHRyaWJ1dGVzKGdlb21ldHJ5LCBleHRyYWN0ZWREYXRhKSB7XG4gIGZvciAoY29uc3QgaSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1tpXTtcbiAgICBjb25zdCBhdHRyaWJ1dGVEYXRhID0gZXh0cmFjdGVkRGF0YVtpXTtcbiAgICBpZiAoYXR0cmlidXRlRGF0YSkge1xuICAgICAgYXR0cmlidXRlLmZvcm1hdCA/PyAoYXR0cmlidXRlLmZvcm1hdCA9IGF0dHJpYnV0ZURhdGEuZm9ybWF0KTtcbiAgICAgIGF0dHJpYnV0ZS5vZmZzZXQgPz8gKGF0dHJpYnV0ZS5vZmZzZXQgPSBhdHRyaWJ1dGVEYXRhLm9mZnNldCk7XG4gICAgICBhdHRyaWJ1dGUuaW5zdGFuY2UgPz8gKGF0dHJpYnV0ZS5pbnN0YW5jZSA9IGF0dHJpYnV0ZURhdGEuaW5zdGFuY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKGBBdHRyaWJ1dGUgJHtpfSBpcyBub3QgcHJlc2VudCBpbiB0aGUgc2hhZGVyLCBidXQgaXMgcHJlc2VudCBpbiB0aGUgZ2VvbWV0cnkuIFVuYWJsZSB0byBpbmZlciBhdHRyaWJ1dGUgZGV0YWlscy5gKTtcbiAgICB9XG4gIH1cbiAgZW5zdXJlU3RhcnRBbmRTdHJpZGUoZ2VvbWV0cnkpO1xufVxuZnVuY3Rpb24gZW5zdXJlU3RhcnRBbmRTdHJpZGUoZ2VvbWV0cnkpIHtcbiAgY29uc3QgeyBidWZmZXJzLCBhdHRyaWJ1dGVzIH0gPSBnZW9tZXRyeTtcbiAgY29uc3QgdGVtcFN0cmlkZSA9IHt9O1xuICBjb25zdCB0ZW1wU3RhcnQgPSB7fTtcbiAgZm9yIChjb25zdCBqIGluIGJ1ZmZlcnMpIHtcbiAgICBjb25zdCBidWZmZXIgPSBidWZmZXJzW2pdO1xuICAgIHRlbXBTdHJpZGVbYnVmZmVyLnVpZF0gPSAwO1xuICAgIHRlbXBTdGFydFtidWZmZXIudWlkXSA9IDA7XG4gIH1cbiAgZm9yIChjb25zdCBqIGluIGF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgIHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlci51aWRdICs9IGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0KGF0dHJpYnV0ZS5mb3JtYXQpLnN0cmlkZTtcbiAgfVxuICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcykge1xuICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgYXR0cmlidXRlLnN0cmlkZSA/PyAoYXR0cmlidXRlLnN0cmlkZSA9IHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlci51aWRdKTtcbiAgICBhdHRyaWJ1dGUuc3RhcnQgPz8gKGF0dHJpYnV0ZS5zdGFydCA9IHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyLnVpZF0pO1xuICAgIHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyLnVpZF0gKz0gZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQoYXR0cmlidXRlLmZvcm1hdCkuc3RyaWRlO1xuICB9XG59XG5cbmV4cG9ydCB7IGVuc3VyZUF0dHJpYnV0ZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuc3VyZUF0dHJpYnV0ZXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgU1RFTkNJTF9NT0RFUyB9IGZyb20gJy4uLy4uL3NoYXJlZC9zdGF0ZS9jb25zdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IEdwdVN0ZW5jaWxNb2Rlc1RvUGl4aSA9IFtdO1xuR3B1U3RlbmNpbE1vZGVzVG9QaXhpW1NURU5DSUxfTU9ERVMuTk9ORV0gPSB2b2lkIDA7XG5HcHVTdGVuY2lsTW9kZXNUb1BpeGlbU1RFTkNJTF9NT0RFUy5ESVNBQkxFRF0gPSB7XG4gIHN0ZW5jaWxXcml0ZU1hc2s6IDAsXG4gIHN0ZW5jaWxSZWFkTWFzazogMFxufTtcbkdwdVN0ZW5jaWxNb2Rlc1RvUGl4aVtTVEVOQ0lMX01PREVTLlJFTkRFUklOR19NQVNLX0FERF0gPSB7XG4gIHN0ZW5jaWxGcm9udDoge1xuICAgIGNvbXBhcmU6IFwiZXF1YWxcIixcbiAgICBwYXNzT3A6IFwiaW5jcmVtZW50LWNsYW1wXCJcbiAgfSxcbiAgc3RlbmNpbEJhY2s6IHtcbiAgICBjb21wYXJlOiBcImVxdWFsXCIsXG4gICAgcGFzc09wOiBcImluY3JlbWVudC1jbGFtcFwiXG4gIH1cbn07XG5HcHVTdGVuY2lsTW9kZXNUb1BpeGlbU1RFTkNJTF9NT0RFUy5SRU5ERVJJTkdfTUFTS19SRU1PVkVdID0ge1xuICBzdGVuY2lsRnJvbnQ6IHtcbiAgICBjb21wYXJlOiBcImVxdWFsXCIsXG4gICAgcGFzc09wOiBcImRlY3JlbWVudC1jbGFtcFwiXG4gIH0sXG4gIHN0ZW5jaWxCYWNrOiB7XG4gICAgY29tcGFyZTogXCJlcXVhbFwiLFxuICAgIHBhc3NPcDogXCJkZWNyZW1lbnQtY2xhbXBcIlxuICB9XG59O1xuR3B1U3RlbmNpbE1vZGVzVG9QaXhpW1NURU5DSUxfTU9ERVMuTUFTS19BQ1RJVkVdID0ge1xuICBzdGVuY2lsV3JpdGVNYXNrOiAwLFxuICBzdGVuY2lsRnJvbnQ6IHtcbiAgICBjb21wYXJlOiBcImVxdWFsXCIsXG4gICAgcGFzc09wOiBcImtlZXBcIlxuICB9LFxuICBzdGVuY2lsQmFjazoge1xuICAgIGNvbXBhcmU6IFwiZXF1YWxcIixcbiAgICBwYXNzT3A6IFwia2VlcFwiXG4gIH1cbn07XG5HcHVTdGVuY2lsTW9kZXNUb1BpeGlbU1RFTkNJTF9NT0RFUy5JTlZFUlNFX01BU0tfQUNUSVZFXSA9IHtcbiAgc3RlbmNpbFdyaXRlTWFzazogMCxcbiAgc3RlbmNpbEZyb250OiB7XG4gICAgY29tcGFyZTogXCJub3QtZXF1YWxcIixcbiAgICBwYXNzT3A6IFwia2VlcFwiXG4gIH0sXG4gIHN0ZW5jaWxCYWNrOiB7XG4gICAgY29tcGFyZTogXCJub3QtZXF1YWxcIixcbiAgICBwYXNzT3A6IFwia2VlcFwiXG4gIH1cbn07XG5cbmV4cG9ydCB7IEdwdVN0ZW5jaWxNb2Rlc1RvUGl4aSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3B1U3RlbmNpbE1vZGVzVG9QaXhpLm1qcy5tYXBcbiIsImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgeyB1aWQgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9kYXRhL3VpZC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEJ1ZmZlclJlc291cmNlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBCdWZmZXIgUmVzb3VyY2UuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBidWZmZXIgcmVzb3VyY2VcbiAgICogQHBhcmFtIG9wdGlvbnMuYnVmZmVyIC0gVGhlIHVuZGVybHlpbmcgYnVmZmVyIHRoYXQgdGhpcyByZXNvdXJjZSBpcyB1c2luZ1xuICAgKiBAcGFyYW0gb3B0aW9ucy5vZmZzZXQgLSBUaGUgb2Zmc2V0IG9mIHRoZSBidWZmZXIgdGhpcyByZXNvdXJjZSBpcyB1c2luZy5cbiAgICogSWYgbm90IHByb3ZpZGVkLCB0aGVuIGl0IHdpbGwgdXNlIHRoZSBvZmZzZXQgb2YgdGhlIGJ1ZmZlci5cbiAgICogQHBhcmFtIG9wdGlvbnMuc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSBidWZmZXIgdGhpcyByZXNvdXJjZSBpcyB1c2luZy5cbiAgICogSWYgbm90IHByb3ZpZGVkLCB0aGVuIGl0IHdpbGwgdXNlIHRoZSBzaXplIG9mIHRoZSBidWZmZXIuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGJ1ZmZlciwgb2Zmc2V0LCBzaXplIH0pIHtcbiAgICBzdXBlcigpO1xuICAgIC8qKlxuICAgICAqIGVtaXRzIHdoZW4gdGhlIHVuZGVybHlpbmcgYnVmZmVyIGhhcyBjaGFuZ2VkIHNoYXBlIChpLmUuIHJlc2l6ZWQpXG4gICAgICogbGV0dGluZyB0aGUgcmVuZGVyZXIga25vdyB0aGF0IGl0IG5lZWRzIHRvIGRpc2NhcmQgdGhlIG9sZCBidWZmZXIgb24gdGhlIEdQVSBhbmQgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAqIEBldmVudCBjaGFuZ2VcbiAgICAgKi9cbiAgICAvKiogYSB1bmlxdWUgaWQgZm9yIHRoaXMgdW5pZm9ybSBncm91cCB1c2VkIHRocm91Z2ggdGhlIHJlbmRlcmVyICovXG4gICAgdGhpcy51aWQgPSB1aWQoXCJidWZmZXJcIik7XG4gICAgLyoqXG4gICAgICogYSByZXNvdXJjZSB0eXBlLCB1c2VkIHRvIGlkZW50aWZ5IGhvdyB0byBoYW5kbGUgaXQgd2hlbiBpdHMgaW4gYSBiaW5kIGdyb3VwIC8gc2hhZGVyIHJlc291cmNlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fcmVzb3VyY2VUeXBlID0gXCJidWZmZXJSZXNvdXJjZVwiO1xuICAgIC8qKlxuICAgICAqIHVzZWQgaW50ZXJuYWxseSB0byBrbm93IGlmIGEgdW5pZm9ybSBncm91cCB3YXMgdXNlZCBpbiB0aGUgbGFzdCByZW5kZXIgcGFzc1xuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX3RvdWNoZWQgPSAwO1xuICAgIC8qKlxuICAgICAqIHRoZSByZXNvdXJjZSBpZCB1c2VkIGludGVybmFsbHkgYnkgdGhlIHJlbmRlcmVyIHRvIGJ1aWxkIGJpbmQgZ3JvdXAga2V5c1xuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX3Jlc291cmNlSWQgPSB1aWQoXCJyZXNvdXJjZVwiKTtcbiAgICAvKipcbiAgICAgKiBBIGNoZWVreSBoaW50IHRvIHRoZSBHTCByZW5kZXJlciB0byBsZXQgaXQga25vdyB0aGlzIGlzIGEgQnVmZmVyUmVzb3VyY2VcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9idWZmZXJSZXNvdXJjZSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogSGFzIHRoZSBCdWZmZXIgcmVzb3VyY2UgYmVlbiBkZXN0cm95ZWQ/XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICB0aGlzLm9mZnNldCA9IG9mZnNldCB8IDA7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLmJ1ZmZlci5vbihcImNoYW5nZVwiLCB0aGlzLm9uQnVmZmVyQ2hhbmdlLCB0aGlzKTtcbiAgfVxuICBvbkJ1ZmZlckNoYW5nZSgpIHtcbiAgICB0aGlzLl9yZXNvdXJjZUlkID0gdWlkKFwicmVzb3VyY2VcIik7XG4gICAgdGhpcy5lbWl0KFwiY2hhbmdlXCIsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGlzIHJlc291cmNlLiBNYWtlIHN1cmUgdGhlIHVuZGVybHlpbmcgYnVmZmVyIGlzIG5vdCB1c2VkIGFueXdoZXJlIGVsc2VcbiAgICogaWYgeW91IHdhbnQgdG8gZGVzdHJveSBpdCBhcyB3ZWxsLCBvciBjb2RlIHdpbGwgZXhwbG9kZVxuICAgKiBAcGFyYW0gZGVzdHJveUJ1ZmZlciAtIFNob3VsZCB0aGUgdW5kZXJseWluZyBidWZmZXIgYmUgZGVzdHJveWVkIGFzIHdlbGw/XG4gICAqL1xuICBkZXN0cm95KGRlc3Ryb3lCdWZmZXIgPSBmYWxzZSkge1xuICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICBpZiAoZGVzdHJveUJ1ZmZlcikge1xuICAgICAgdGhpcy5idWZmZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwgdGhpcyk7XG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IEJ1ZmZlclJlc291cmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CdWZmZXJSZXNvdXJjZS5tanMubWFwXG4iLCJpbXBvcnQgeyB1aWQgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9kYXRhL3VpZC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVNvdXJjZSB9IGZyb20gJy4uL3RleHR1cmUvc291cmNlcy9UZXh0dXJlU291cmNlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZS9UZXh0dXJlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgX1JlbmRlclRhcmdldCA9IGNsYXNzIF9SZW5kZXJUYXJnZXQge1xuICAvKipcbiAgICogQHBhcmFtIFtkZXNjcmlwdG9yXSAtIE9wdGlvbnMgZm9yIGNyZWF0aW5nIGEgcmVuZGVyIHRhcmdldC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGRlc2NyaXB0b3IgPSB7fSkge1xuICAgIC8qKiB1bmlxdWUgaWQgZm9yIHRoaXMgcmVuZGVyIHRhcmdldCAqL1xuICAgIHRoaXMudWlkID0gdWlkKFwicmVuZGVyVGFyZ2V0XCIpO1xuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHRleHR1cmVzIHRoYXQgY2FuIGJlIHdyaXR0ZW4gdG8gYnkgdGhlIEdQVSAtIG1vc3RseSB0aGlzIGhhcyBvbmUgdGV4dHVyZSBpbiBQaXhpLCBidXQgeW91IGNvdWxkXG4gICAgICogd3JpdGUgdG8gbXVsdGlwbGUgaWYgcmVxdWlyZWQhIChlZyBkZWZlcnJlZCBsaWdodGluZylcbiAgICAgKi9cbiAgICB0aGlzLmNvbG9yVGV4dHVyZXMgPSBbXTtcbiAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgIHRoaXMuaXNSb290ID0gZmFsc2U7XG4gICAgdGhpcy5fc2l6ZSA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG4gICAgLyoqIGlmIHRydWUsIHRoZW4gd2hlbiB0aGUgcmVuZGVyIHRhcmdldCBpcyBkZXN0cm95ZWQsIGl0IHdpbGwgZGVzdHJveSBhbGwgdGhlIHRleHR1cmVzIHRoYXQgd2VyZSBjcmVhdGVkIGZvciBpdC4gKi9cbiAgICB0aGlzLl9tYW5hZ2VkQ29sb3JUZXh0dXJlcyA9IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IgPSB7IC4uLl9SZW5kZXJUYXJnZXQuZGVmYXVsdE9wdGlvbnMsIC4uLmRlc2NyaXB0b3IgfTtcbiAgICB0aGlzLnN0ZW5jaWwgPSBkZXNjcmlwdG9yLnN0ZW5jaWw7XG4gICAgdGhpcy5kZXB0aCA9IGRlc2NyaXB0b3IuZGVwdGg7XG4gICAgdGhpcy5pc1Jvb3QgPSBkZXNjcmlwdG9yLmlzUm9vdDtcbiAgICBpZiAodHlwZW9mIGRlc2NyaXB0b3IuY29sb3JUZXh0dXJlcyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5fbWFuYWdlZENvbG9yVGV4dHVyZXMgPSB0cnVlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXNjcmlwdG9yLmNvbG9yVGV4dHVyZXM7IGkrKykge1xuICAgICAgICB0aGlzLmNvbG9yVGV4dHVyZXMucHVzaChcbiAgICAgICAgICBuZXcgVGV4dHVyZVNvdXJjZSh7XG4gICAgICAgICAgICB3aWR0aDogZGVzY3JpcHRvci53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogZGVzY3JpcHRvci5oZWlnaHQsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiBkZXNjcmlwdG9yLnJlc29sdXRpb24sXG4gICAgICAgICAgICBhbnRpYWxpYXM6IGRlc2NyaXB0b3IuYW50aWFsaWFzXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb2xvclRleHR1cmVzID0gWy4uLmRlc2NyaXB0b3IuY29sb3JUZXh0dXJlcy5tYXAoKHRleHR1cmUpID0+IHRleHR1cmUuc291cmNlKV07XG4gICAgICBjb25zdCBjb2xvclNvdXJjZSA9IHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZTtcbiAgICAgIHRoaXMucmVzaXplKGNvbG9yU291cmNlLndpZHRoLCBjb2xvclNvdXJjZS5oZWlnaHQsIGNvbG9yU291cmNlLl9yZXNvbHV0aW9uKTtcbiAgICB9XG4gICAgdGhpcy5jb2xvclRleHR1cmUuc291cmNlLm9uKFwicmVzaXplXCIsIHRoaXMub25Tb3VyY2VSZXNpemUsIHRoaXMpO1xuICAgIGlmIChkZXNjcmlwdG9yLmRlcHRoU3RlbmNpbFRleHR1cmUgfHwgdGhpcy5zdGVuY2lsKSB7XG4gICAgICBpZiAoZGVzY3JpcHRvci5kZXB0aFN0ZW5jaWxUZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSB8fCBkZXNjcmlwdG9yLmRlcHRoU3RlbmNpbFRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlU291cmNlKSB7XG4gICAgICAgIHRoaXMuZGVwdGhTdGVuY2lsVGV4dHVyZSA9IGRlc2NyaXB0b3IuZGVwdGhTdGVuY2lsVGV4dHVyZS5zb3VyY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVuc3VyZURlcHRoU3RlbmNpbFRleHR1cmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ2V0IHNpemUoKSB7XG4gICAgY29uc3QgX3NpemUgPSB0aGlzLl9zaXplO1xuICAgIF9zaXplWzBdID0gdGhpcy5waXhlbFdpZHRoO1xuICAgIF9zaXplWzFdID0gdGhpcy5waXhlbEhlaWdodDtcbiAgICByZXR1cm4gX3NpemU7XG4gIH1cbiAgZ2V0IHdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZS5zb3VyY2Uud2lkdGg7XG4gIH1cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmUuc291cmNlLmhlaWdodDtcbiAgfVxuICBnZXQgcGl4ZWxXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmUuc291cmNlLnBpeGVsV2lkdGg7XG4gIH1cbiAgZ2V0IHBpeGVsSGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZS5zb3VyY2UucGl4ZWxIZWlnaHQ7XG4gIH1cbiAgZ2V0IHJlc29sdXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZS5fcmVzb2x1dGlvbjtcbiAgfVxuICBnZXQgY29sb3JUZXh0dXJlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZXNbMF07XG4gIH1cbiAgb25Tb3VyY2VSZXNpemUoc291cmNlKSB7XG4gICAgdGhpcy5yZXNpemUoc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0LCBzb3VyY2UuX3Jlc29sdXRpb24sIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIHdpbGwgZW5zdXJlIGEgZGVwdGhTdGVuY2lsIHRleHR1cmUgaXMgY3JlYXRlZCBmb3IgdGhpcyByZW5kZXIgdGFyZ2V0LlxuICAgKiBNb3N0IGxpa2VseSBjYWxsZWQgYnkgdGhlIG1hc2sgc3lzdGVtIHRvIG1ha2Ugc3VyZSB3ZSBoYXZlIHN0ZW5jaWwgYnVmZmVyIGFkZGVkLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVuc3VyZURlcHRoU3RlbmNpbFRleHR1cmUoKSB7XG4gICAgaWYgKCF0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUpIHtcbiAgICAgIHRoaXMuZGVwdGhTdGVuY2lsVGV4dHVyZSA9IG5ldyBUZXh0dXJlU291cmNlKHtcbiAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgIHJlc29sdXRpb246IHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgZm9ybWF0OiBcImRlcHRoMjRwbHVzLXN0ZW5jaWw4XCIsXG4gICAgICAgIGF1dG9HZW5lcmF0ZU1pcG1hcHM6IGZhbHNlLFxuICAgICAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgICAgICBtaXBMZXZlbENvdW50OiAxXG4gICAgICAgIC8vIHNhbXBsZUNvdW50OiBoYW5kbGVkIGJ5IHRoZSByZW5kZXIgdGFyZ2V0IHN5c3RlbS4uXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmVzaXplKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb24sIHNraXBDb2xvclRleHR1cmUgPSBmYWxzZSkge1xuICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIHRoaXMuY29sb3JUZXh0dXJlcy5mb3JFYWNoKChjb2xvclRleHR1cmUsIGkpID0+IHtcbiAgICAgIGlmIChza2lwQ29sb3JUZXh0dXJlICYmIGkgPT09IDApXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbG9yVGV4dHVyZS5zb3VyY2UucmVzaXplKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUpIHtcbiAgICAgIHRoaXMuZGVwdGhTdGVuY2lsVGV4dHVyZS5zb3VyY2UucmVzaXplKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZS5vZmYoXCJyZXNpemVcIiwgdGhpcy5vblNvdXJjZVJlc2l6ZSwgdGhpcyk7XG4gICAgaWYgKHRoaXMuX21hbmFnZWRDb2xvclRleHR1cmVzKSB7XG4gICAgICB0aGlzLmNvbG9yVGV4dHVyZXMuZm9yRWFjaCgodGV4dHVyZSkgPT4ge1xuICAgICAgICB0ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5kZXB0aFN0ZW5jaWxUZXh0dXJlKSB7XG4gICAgICB0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgZGVsZXRlIHRoaXMuZGVwdGhTdGVuY2lsVGV4dHVyZTtcbiAgICB9XG4gIH1cbn07XG4vKiogVGhlIGRlZmF1bHQgb3B0aW9ucyBmb3IgYSByZW5kZXIgdGFyZ2V0ICovXG5fUmVuZGVyVGFyZ2V0LmRlZmF1bHRPcHRpb25zID0ge1xuICAvKiogdGhlIHdpZHRoIG9mIHRoZSBSZW5kZXJUYXJnZXQgKi9cbiAgd2lkdGg6IDAsXG4gIC8qKiB0aGUgaGVpZ2h0IG9mIHRoZSBSZW5kZXJUYXJnZXQgKi9cbiAgaGVpZ2h0OiAwLFxuICAvKiogdGhlIHJlc29sdXRpb24gb2YgdGhlIFJlbmRlclRhcmdldCAqL1xuICByZXNvbHV0aW9uOiAxLFxuICAvKiogYW4gYXJyYXkgb2YgdGV4dHVyZXMsIG9yIGEgbnVtYmVyIGluZGljYXRpbmcgaG93IG1hbnkgY29sb3IgdGV4dHVyZXMgdGhlcmUgc2hvdWxkIGJlICovXG4gIGNvbG9yVGV4dHVyZXM6IDEsXG4gIC8qKiBzaG91bGQgdGhpcyByZW5kZXIgdGFyZ2V0IGhhdmUgYSBzdGVuY2lsIGJ1ZmZlcj8gKi9cbiAgc3RlbmNpbDogZmFsc2UsXG4gIC8qKiBzaG91bGQgdGhpcyByZW5kZXIgdGFyZ2V0IGhhdmUgYSBkZXB0aCBidWZmZXI/ICovXG4gIGRlcHRoOiBmYWxzZSxcbiAgLyoqIHNob3VsZCB0aGlzIHJlbmRlciB0YXJnZXQgYmUgYW50aWFsaWFzZWQ/ICovXG4gIGFudGlhbGlhczogZmFsc2UsXG4gIC8vIHNhdmUgb24gcGVyZiBieSBkZWZhdWx0IVxuICAvKiogaXMgdGhpcyBhIHJvb3QgZWxlbWVudCwgdHJ1ZSBpZiB0aGlzIGlzIGdsIGNvbnRleHQgb3duZXJzIHJlbmRlciB0YXJnZXQgKi9cbiAgaXNSb290OiBmYWxzZVxufTtcbmxldCBSZW5kZXJUYXJnZXQgPSBfUmVuZGVyVGFyZ2V0O1xuXG5leHBvcnQgeyBSZW5kZXJUYXJnZXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlclRhcmdldC5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9zaGFwZXMvUmVjdGFuZ2xlLm1qcyc7XG5pbXBvcnQgeyBDTEVBUiB9IGZyb20gJy4uLy4uL2dsL2NvbnN0Lm1qcyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVQcm9qZWN0aW9uIH0gZnJvbSAnLi4vLi4vZ3B1L3JlbmRlclRhcmdldC9jYWxjdWxhdGVQcm9qZWN0aW9uLm1qcyc7XG5pbXBvcnQgeyBTeXN0ZW1SdW5uZXIgfSBmcm9tICcuLi9zeXN0ZW0vU3lzdGVtUnVubmVyLm1qcyc7XG5pbXBvcnQgeyBDYW52YXNTb3VyY2UgfSBmcm9tICcuLi90ZXh0dXJlL3NvdXJjZXMvQ2FudmFzU291cmNlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlU291cmNlIH0gZnJvbSAnLi4vdGV4dHVyZS9zb3VyY2VzL1RleHR1cmVTb3VyY2UubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IGdldENhbnZhc1RleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlL3V0aWxzL2dldENhbnZhc1RleHR1cmUubWpzJztcbmltcG9ydCB7IGlzUmVuZGVyaW5nVG9TY3JlZW4gfSBmcm9tICcuL2lzUmVuZGVyaW5nVG9TY3JlZW4ubWpzJztcbmltcG9ydCB7IFJlbmRlclRhcmdldCB9IGZyb20gJy4vUmVuZGVyVGFyZ2V0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgUmVuZGVyVGFyZ2V0U3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICAvKiogVGhpcyBpcyB0aGUgcm9vdCB2aWV3cG9ydCBmb3IgdGhlIHJlbmRlciBwYXNzKi9cbiAgICB0aGlzLnJvb3RWaWV3UG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAvKiogdGhlIGN1cnJlbnQgdmlld3BvcnQgdGhhdCB0aGUgZ3B1IGlzIHVzaW5nICovXG4gICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAvKipcbiAgICAgKiBhIHJ1bm5lciB0aGF0IGxldHMgc3lzdGVtcyBrbm93IGlmIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCBoYXMgY2hhbmdlZC5cbiAgICAgKiBFZyB0aGUgU3RlbmNpbCBTeXN0ZW0gbmVlZHMgdG8ga25vdyBzbyBpdCBjYW4gbWFuYWdlIHRoZSBzdGVuY2lsIGJ1ZmZlclxuICAgICAqL1xuICAgIHRoaXMub25SZW5kZXJUYXJnZXRDaGFuZ2UgPSBuZXcgU3lzdGVtUnVubmVyKFwib25SZW5kZXJUYXJnZXRDaGFuZ2VcIik7XG4gICAgLyoqIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCB0aGF0IGlzIHVzZWQgYnkgdGhlIHNoYWRlcnMgYmFzZWQgb24gdGhlIGFjdGl2ZSByZW5kZXIgdGFyZ2V0IGFuZCB0aGUgdmlld3BvcnQgKi9cbiAgICB0aGlzLnByb2plY3Rpb25NYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgLyoqIHRoZSBkZWZhdWx0IGNsZWFyIGNvbG9yIGZvciByZW5kZXIgdGFyZ2V0cyAqL1xuICAgIHRoaXMuZGVmYXVsdENsZWFyQ29sb3IgPSBbMCwgMCwgMCwgMF07XG4gICAgLyoqXG4gICAgICogYSBoYXNoIHRoYXQgc3RvcmVzIHRoZSByZW5kZXIgdGFyZ2V0IGZvciBhIGdpdmVuIHJlbmRlciBzdXJmYWNlLiBXaGVuIHlvdSBwYXNzIGluIGEgdGV4dHVyZSBzb3VyY2UsXG4gICAgICogYSByZW5kZXIgdGFyZ2V0IGlzIGNyZWF0ZWQgZm9yIGl0LiBUaGlzIG1hcCBzdG9yZXMgYW5kIG1ha2VzIGl0IGVhc3kgdG8gcmV0cmlldmUgdGhlIHJlbmRlciB0YXJnZXRcbiAgICAgKi9cbiAgICB0aGlzLl9yZW5kZXJTdXJmYWNlVG9SZW5kZXJUYXJnZXRIYXNoID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAvKiogQSBoYXNoIHRoYXQgc3RvcmVzIGEgZ3B1IHJlbmRlciB0YXJnZXQgZm9yIGEgZ2l2ZW4gcmVuZGVyIHRhcmdldC4gKi9cbiAgICB0aGlzLl9ncHVSZW5kZXJUYXJnZXRIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgLyoqXG4gICAgICogQSBzdGFjayB0aGF0IHN0b3JlcyB0aGUgcmVuZGVyIHRhcmdldCBhbmQgZnJhbWUgdGhhdCBpcyBjdXJyZW50bHkgYmVpbmcgcmVuZGVyZWQgdG8uXG4gICAgICogV2hlbiBwdXNoIGlzIGNhbGxlZCwgdGhlIGN1cnJlbnQgcmVuZGVyIHRhcmdldCBpcyBzdG9yZWQgaW4gdGhpcyBzdGFjay5cbiAgICAgKiBXaGVuIHBvcCBpcyBjYWxsZWQsIHRoZSBwcmV2aW91cyByZW5kZXIgdGFyZ2V0IGlzIHJlc3RvcmVkLlxuICAgICAqL1xuICAgIHRoaXMuX3JlbmRlclRhcmdldFN0YWNrID0gW107XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICByZW5kZXJlci5yZW5kZXJhYmxlR0MuYWRkTWFuYWdlZEhhc2godGhpcywgXCJfZ3B1UmVuZGVyVGFyZ2V0SGFzaFwiKTtcbiAgfVxuICAvKiogY2FsbGVkIHdoZW4gZGV2IHdhbnRzIHRvIGZpbmlzaCBhIHJlbmRlciBwYXNzICovXG4gIGZpbmlzaFJlbmRlclBhc3MoKSB7XG4gICAgdGhpcy5hZGFwdG9yLmZpbmlzaFJlbmRlclBhc3ModGhpcy5yZW5kZXJUYXJnZXQpO1xuICB9XG4gIC8qKlxuICAgKiBjYWxsZWQgd2hlbiB0aGUgcmVuZGVyZXIgc3RhcnRzIHRvIHJlbmRlciBhIHNjZW5lLlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy50YXJnZXQgLSB0aGUgcmVuZGVyIHRhcmdldCB0byByZW5kZXIgdG9cbiAgICogQHBhcmFtIG9wdGlvbnMuY2xlYXIgLSB0aGUgY2xlYXIgbW9kZSB0byB1c2UuIENhbiBiZSB0cnVlIG9yIGEgQ0xFQVIgbnVtYmVyICdDT0xPUiB8IERFUFRIIHwgU1RFTkNJTCcgMGIxMTFcbiAgICogQHBhcmFtIG9wdGlvbnMuY2xlYXJDb2xvciAtIHRoZSBjb2xvciB0byBjbGVhciB0b1xuICAgKiBAcGFyYW0gb3B0aW9ucy5mcmFtZSAtIHRoZSBmcmFtZSB0byByZW5kZXIgdG9cbiAgICovXG4gIHJlbmRlclN0YXJ0KHtcbiAgICB0YXJnZXQsXG4gICAgY2xlYXIsXG4gICAgY2xlYXJDb2xvcixcbiAgICBmcmFtZVxuICB9KSB7XG4gICAgdGhpcy5fcmVuZGVyVGFyZ2V0U3RhY2subGVuZ3RoID0gMDtcbiAgICB0aGlzLnB1c2goXG4gICAgICB0YXJnZXQsXG4gICAgICBjbGVhcixcbiAgICAgIGNsZWFyQ29sb3IsXG4gICAgICBmcmFtZVxuICAgICk7XG4gICAgdGhpcy5yb290Vmlld1BvcnQuY29weUZyb20odGhpcy52aWV3cG9ydCk7XG4gICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0ID0gdGhpcy5yZW5kZXJUYXJnZXQ7XG4gICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IGlzUmVuZGVyaW5nVG9TY3JlZW4odGhpcy5yb290UmVuZGVyVGFyZ2V0KTtcbiAgICB0aGlzLmFkYXB0b3IucHJlcmVuZGVyPy4odGhpcy5yb290UmVuZGVyVGFyZ2V0KTtcbiAgfVxuICBwb3N0cmVuZGVyKCkge1xuICAgIHRoaXMuYWRhcHRvci5wb3N0cmVuZGVyPy4odGhpcy5yb290UmVuZGVyVGFyZ2V0KTtcbiAgfVxuICAvKipcbiAgICogQmluZGluZyBhIHJlbmRlciBzdXJmYWNlISBUaGlzIGlzIHRoZSBtYWluIGZ1bmN0aW9uIG9mIHRoZSByZW5kZXIgdGFyZ2V0IHN5c3RlbS5cbiAgICogSXQgd2lsbCB0YWtlIHRoZSBSZW5kZXJTdXJmYWNlICh3aGljaCBjYW4gYmUgYSB0ZXh0dXJlLCBjYW52YXMsIG9yIHJlbmRlciB0YXJnZXQpIGFuZCBiaW5kIGl0IHRvIHRoZSByZW5kZXJlci5cbiAgICogT25jZSBib3VuZCBhbGwgZHJhdyBjYWxscyB3aWxsIGJlIHJlbmRlcmVkIHRvIHRoZSByZW5kZXIgc3VyZmFjZS5cbiAgICpcbiAgICogSWYgYSBmcmFtZSBpcyBub3QgcHJvdmlkZSBhbmQgdGhlIHJlbmRlciBzdXJmYWNlIGlzIGEgdGV4dHVyZSwgdGhlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHdpbGwgYmUgdXNlZC5cbiAgICogQHBhcmFtIHJlbmRlclN1cmZhY2UgLSB0aGUgcmVuZGVyIHN1cmZhY2UgdG8gYmluZFxuICAgKiBAcGFyYW0gY2xlYXIgLSB0aGUgY2xlYXIgbW9kZSB0byB1c2UuIENhbiBiZSB0cnVlIG9yIGEgQ0xFQVIgbnVtYmVyICdDT0xPUiB8IERFUFRIIHwgU1RFTkNJTCcgMGIxMTFcbiAgICogQHBhcmFtIGNsZWFyQ29sb3IgLSB0aGUgY29sb3IgdG8gY2xlYXIgdG9cbiAgICogQHBhcmFtIGZyYW1lIC0gdGhlIGZyYW1lIHRvIHJlbmRlciB0b1xuICAgKiBAcmV0dXJucyB0aGUgcmVuZGVyIHRhcmdldCB0aGF0IHdhcyBib3VuZFxuICAgKi9cbiAgYmluZChyZW5kZXJTdXJmYWNlLCBjbGVhciA9IHRydWUsIGNsZWFyQ29sb3IsIGZyYW1lKSB7XG4gICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gdGhpcy5nZXRSZW5kZXJUYXJnZXQocmVuZGVyU3VyZmFjZSk7XG4gICAgY29uc3QgZGlkQ2hhbmdlID0gdGhpcy5yZW5kZXJUYXJnZXQgIT09IHJlbmRlclRhcmdldDtcbiAgICB0aGlzLnJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldDtcbiAgICB0aGlzLnJlbmRlclN1cmZhY2UgPSByZW5kZXJTdXJmYWNlO1xuICAgIGNvbnN0IGdwdVJlbmRlclRhcmdldCA9IHRoaXMuZ2V0R3B1UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgaWYgKHJlbmRlclRhcmdldC5waXhlbFdpZHRoICE9PSBncHVSZW5kZXJUYXJnZXQud2lkdGggfHwgcmVuZGVyVGFyZ2V0LnBpeGVsSGVpZ2h0ICE9PSBncHVSZW5kZXJUYXJnZXQuaGVpZ2h0KSB7XG4gICAgICB0aGlzLmFkYXB0b3IucmVzaXplR3B1UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgICBncHVSZW5kZXJUYXJnZXQud2lkdGggPSByZW5kZXJUYXJnZXQucGl4ZWxXaWR0aDtcbiAgICAgIGdwdVJlbmRlclRhcmdldC5oZWlnaHQgPSByZW5kZXJUYXJnZXQucGl4ZWxIZWlnaHQ7XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZSA9IHJlbmRlclRhcmdldC5jb2xvclRleHR1cmU7XG4gICAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLnZpZXdwb3J0O1xuICAgIGNvbnN0IHBpeGVsV2lkdGggPSBzb3VyY2UucGl4ZWxXaWR0aDtcbiAgICBjb25zdCBwaXhlbEhlaWdodCA9IHNvdXJjZS5waXhlbEhlaWdodDtcbiAgICBpZiAoIWZyYW1lICYmIHJlbmRlclN1cmZhY2UgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICBmcmFtZSA9IHJlbmRlclN1cmZhY2UuZnJhbWU7XG4gICAgfVxuICAgIGlmIChmcmFtZSkge1xuICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IHNvdXJjZS5fcmVzb2x1dGlvbjtcbiAgICAgIHZpZXdwb3J0LnggPSBmcmFtZS54ICogcmVzb2x1dGlvbiArIDAuNSB8IDA7XG4gICAgICB2aWV3cG9ydC55ID0gZnJhbWUueSAqIHJlc29sdXRpb24gKyAwLjUgfCAwO1xuICAgICAgdmlld3BvcnQud2lkdGggPSBmcmFtZS53aWR0aCAqIHJlc29sdXRpb24gKyAwLjUgfCAwO1xuICAgICAgdmlld3BvcnQuaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbiArIDAuNSB8IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZpZXdwb3J0LnggPSAwO1xuICAgICAgdmlld3BvcnQueSA9IDA7XG4gICAgICB2aWV3cG9ydC53aWR0aCA9IHBpeGVsV2lkdGg7XG4gICAgICB2aWV3cG9ydC5oZWlnaHQgPSBwaXhlbEhlaWdodDtcbiAgICB9XG4gICAgY2FsY3VsYXRlUHJvamVjdGlvbihcbiAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgdmlld3BvcnQud2lkdGggLyBzb3VyY2UucmVzb2x1dGlvbixcbiAgICAgIHZpZXdwb3J0LmhlaWdodCAvIHNvdXJjZS5yZXNvbHV0aW9uLFxuICAgICAgIXJlbmRlclRhcmdldC5pc1Jvb3RcbiAgICApO1xuICAgIHRoaXMuYWRhcHRvci5zdGFydFJlbmRlclBhc3MocmVuZGVyVGFyZ2V0LCBjbGVhciwgY2xlYXJDb2xvciwgdmlld3BvcnQpO1xuICAgIGlmIChkaWRDaGFuZ2UpIHtcbiAgICAgIHRoaXMub25SZW5kZXJUYXJnZXRDaGFuZ2UuZW1pdChyZW5kZXJUYXJnZXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyVGFyZ2V0O1xuICB9XG4gIGNsZWFyKHRhcmdldCwgY2xlYXIgPSBDTEVBUi5BTEwsIGNsZWFyQ29sb3IpIHtcbiAgICBpZiAoIWNsZWFyKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHRhcmdldCA9IHRoaXMuZ2V0UmVuZGVyVGFyZ2V0KHRhcmdldCk7XG4gICAgfVxuICAgIHRoaXMuYWRhcHRvci5jbGVhcihcbiAgICAgIHRhcmdldCB8fCB0aGlzLnJlbmRlclRhcmdldCxcbiAgICAgIGNsZWFyLFxuICAgICAgY2xlYXJDb2xvcixcbiAgICAgIHRoaXMudmlld3BvcnRcbiAgICApO1xuICB9XG4gIGNvbnRleHRDaGFuZ2UoKSB7XG4gICAgdGhpcy5fZ3B1UmVuZGVyVGFyZ2V0SGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB9XG4gIC8qKlxuICAgKiBQdXNoIGEgcmVuZGVyIHN1cmZhY2UgdG8gdGhlIHJlbmRlcmVyLiBUaGlzIHdpbGwgYmluZCB0aGUgcmVuZGVyIHN1cmZhY2UgdG8gdGhlIHJlbmRlcmVyLFxuICAgKiBAcGFyYW0gcmVuZGVyU3VyZmFjZSAtIHRoZSByZW5kZXIgc3VyZmFjZSB0byBwdXNoXG4gICAqIEBwYXJhbSBjbGVhciAtIHRoZSBjbGVhciBtb2RlIHRvIHVzZS4gQ2FuIGJlIHRydWUgb3IgYSBDTEVBUiBudW1iZXIgJ0NPTE9SIHwgREVQVEggfCBTVEVOQ0lMJyAwYjExMVxuICAgKiBAcGFyYW0gY2xlYXJDb2xvciAtIHRoZSBjb2xvciB0byBjbGVhciB0b1xuICAgKiBAcGFyYW0gZnJhbWUgLSB0aGUgZnJhbWUgdG8gdXNlIHdoZW4gcmVuZGVyaW5nIHRvIHRoZSByZW5kZXIgc3VyZmFjZVxuICAgKi9cbiAgcHVzaChyZW5kZXJTdXJmYWNlLCBjbGVhciA9IENMRUFSLkFMTCwgY2xlYXJDb2xvciwgZnJhbWUpIHtcbiAgICBjb25zdCByZW5kZXJUYXJnZXQgPSB0aGlzLmJpbmQocmVuZGVyU3VyZmFjZSwgY2xlYXIsIGNsZWFyQ29sb3IsIGZyYW1lKTtcbiAgICB0aGlzLl9yZW5kZXJUYXJnZXRTdGFjay5wdXNoKHtcbiAgICAgIHJlbmRlclRhcmdldCxcbiAgICAgIGZyYW1lXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlbmRlclRhcmdldDtcbiAgfVxuICAvKiogUG9wcyB0aGUgY3VycmVudCByZW5kZXIgdGFyZ2V0IGZyb20gdGhlIHJlbmRlcmVyIGFuZCByZXN0b3JlcyB0aGUgcHJldmlvdXMgcmVuZGVyIHRhcmdldC4gKi9cbiAgcG9wKCkge1xuICAgIHRoaXMuX3JlbmRlclRhcmdldFN0YWNrLnBvcCgpO1xuICAgIGNvbnN0IGN1cnJlbnRSZW5kZXJUYXJnZXREYXRhID0gdGhpcy5fcmVuZGVyVGFyZ2V0U3RhY2tbdGhpcy5fcmVuZGVyVGFyZ2V0U3RhY2subGVuZ3RoIC0gMV07XG4gICAgdGhpcy5iaW5kKGN1cnJlbnRSZW5kZXJUYXJnZXREYXRhLnJlbmRlclRhcmdldCwgZmFsc2UsIG51bGwsIGN1cnJlbnRSZW5kZXJUYXJnZXREYXRhLmZyYW1lKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgcmVuZGVyIHRhcmdldCBmcm9tIHRoZSBwcm92aWRlIHJlbmRlciBzdXJmYWNlLiBFZyBpZiBpdHMgYSB0ZXh0dXJlLFxuICAgKiBpdCB3aWxsIHJldHVybiB0aGUgcmVuZGVyIHRhcmdldCBmb3IgdGhlIHRleHR1cmUuXG4gICAqIElmIGl0cyBhIHJlbmRlciB0YXJnZXQsIGl0IHdpbGwgcmV0dXJuIHRoZSBzYW1lIHJlbmRlciB0YXJnZXQuXG4gICAqIEBwYXJhbSByZW5kZXJTdXJmYWNlIC0gdGhlIHJlbmRlciBzdXJmYWNlIHRvIGdldCB0aGUgcmVuZGVyIHRhcmdldCBmb3JcbiAgICogQHJldHVybnMgdGhlIHJlbmRlciB0YXJnZXQgZm9yIHRoZSByZW5kZXIgc3VyZmFjZVxuICAgKi9cbiAgZ2V0UmVuZGVyVGFyZ2V0KHJlbmRlclN1cmZhY2UpIHtcbiAgICBpZiAocmVuZGVyU3VyZmFjZS5pc1RleHR1cmUpIHtcbiAgICAgIHJlbmRlclN1cmZhY2UgPSByZW5kZXJTdXJmYWNlLnNvdXJjZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlclN1cmZhY2VUb1JlbmRlclRhcmdldEhhc2guZ2V0KHJlbmRlclN1cmZhY2UpID8/IHRoaXMuX2luaXRSZW5kZXJUYXJnZXQocmVuZGVyU3VyZmFjZSk7XG4gIH1cbiAgLyoqXG4gICAqIENvcGllcyBhIHJlbmRlciBzdXJmYWNlIHRvIGFub3RoZXIgdGV4dHVyZS5cbiAgICpcbiAgICogTk9URTpcbiAgICogZm9yIHNvdXJjZVJlbmRlclN1cmZhY2VUZXh0dXJlLCBUaGUgcmVuZGVyIHRhcmdldCBtdXN0IGJlIHNvbWV0aGluZyB0aGF0IGlzIHdyaXR0ZW4gdG9vIGJ5IHRoZSByZW5kZXJlclxuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIGlzIG5vdCB2YWxpZDpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcbiAgICogY2FudmFzLndpZHRoID0gMjAwO1xuICAgKiBjYW52YXMuaGVpZ2h0ID0gMjAwO1xuICAgKlxuICAgKiBjb25zdCBjdHggPSBjYW52YXMyLmdldENvbnRleHQoJzJkJykhXG4gICAqIGN0eC5maWxsU3R5bGUgPSAncmVkJ1xuICAgKiBjdHguZmlsbFJlY3QoMCwgMCwgMjAwLCAyMDApO1xuICAgKlxuICAgKiBjb25zdCB0ZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoe1xuICAgKiAgIHdpZHRoOiAyMDAsXG4gICAqICAgaGVpZ2h0OiAyMDAsXG4gICAqIH0pXG4gICAqIGNvbnN0IHJlbmRlclRhcmdldCA9IHJlbmRlcmVyLnJlbmRlclRhcmdldC5nZXRSZW5kZXJUYXJnZXQoY2FudmFzMik7XG4gICAqXG4gICAqIHJlbmRlcmVyLnJlbmRlclRhcmdldC5jb3B5VG9UZXh0dXJlKHJlbmRlclRhcmdldCx0ZXh0dXJlLCB7eDowLHk6MH0se3dpZHRoOjIwMCxoZWlnaHQ6MjAwfSx7eDowLHk6MH0pO1xuICAgKlxuICAgKiBUaGUgYmVzdCB3YXkgdG8gY29weSBhIGNhbnZhcyBpcyB0byBjcmVhdGUgYSB0ZXh0dXJlIGZyb20gaXQuIFRoZW4gcmVuZGVyIHdpdGggdGhhdC5cbiAgICpcbiAgICogUGFyc2luZyBpbiBhIFJlbmRlclRhcmdldCBjYW52YXMgY29udGV4dCAod2l0aCBhIDJkIGNvbnRleHQpXG4gICAqIEBwYXJhbSBzb3VyY2VSZW5kZXJTdXJmYWNlVGV4dHVyZSAtIHRoZSByZW5kZXIgc3VyZmFjZSB0byBjb3B5IGZyb21cbiAgICogQHBhcmFtIGRlc3RpbmF0aW9uVGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIGNvcHkgdG9cbiAgICogQHBhcmFtIG9yaWdpblNyYyAtIHRoZSBvcmlnaW4gb2YgdGhlIGNvcHlcbiAgICogQHBhcmFtIG9yaWdpblNyYy54IC0gdGhlIHggb3JpZ2luIG9mIHRoZSBjb3B5XG4gICAqIEBwYXJhbSBvcmlnaW5TcmMueSAtIHRoZSB5IG9yaWdpbiBvZiB0aGUgY29weVxuICAgKiBAcGFyYW0gc2l6ZSAtIHRoZSBzaXplIG9mIHRoZSBjb3B5XG4gICAqIEBwYXJhbSBzaXplLndpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSBjb3B5XG4gICAqIEBwYXJhbSBzaXplLmhlaWdodCAtIHRoZSBoZWlnaHQgb2YgdGhlIGNvcHlcbiAgICogQHBhcmFtIG9yaWdpbkRlc3QgLSB0aGUgZGVzdGluYXRpb24gb3JpZ2luICh0b3AgbGVmdCB0byBwYXN0ZSBmcm9tISlcbiAgICogQHBhcmFtIG9yaWdpbkRlc3QueCAtIHRoZSB4IG9yaWdpbiBvZiB0aGUgcGFzdGVcbiAgICogQHBhcmFtIG9yaWdpbkRlc3QueSAtIHRoZSB5IG9yaWdpbiBvZiB0aGUgcGFzdGVcbiAgICovXG4gIGNvcHlUb1RleHR1cmUoc291cmNlUmVuZGVyU3VyZmFjZVRleHR1cmUsIGRlc3RpbmF0aW9uVGV4dHVyZSwgb3JpZ2luU3JjLCBzaXplLCBvcmlnaW5EZXN0KSB7XG4gICAgaWYgKG9yaWdpblNyYy54IDwgMCkge1xuICAgICAgc2l6ZS53aWR0aCArPSBvcmlnaW5TcmMueDtcbiAgICAgIG9yaWdpbkRlc3QueCAtPSBvcmlnaW5TcmMueDtcbiAgICAgIG9yaWdpblNyYy54ID0gMDtcbiAgICB9XG4gICAgaWYgKG9yaWdpblNyYy55IDwgMCkge1xuICAgICAgc2l6ZS5oZWlnaHQgKz0gb3JpZ2luU3JjLnk7XG4gICAgICBvcmlnaW5EZXN0LnkgLT0gb3JpZ2luU3JjLnk7XG4gICAgICBvcmlnaW5TcmMueSA9IDA7XG4gICAgfVxuICAgIGNvbnN0IHsgcGl4ZWxXaWR0aCwgcGl4ZWxIZWlnaHQgfSA9IHNvdXJjZVJlbmRlclN1cmZhY2VUZXh0dXJlO1xuICAgIHNpemUud2lkdGggPSBNYXRoLm1pbihzaXplLndpZHRoLCBwaXhlbFdpZHRoIC0gb3JpZ2luU3JjLngpO1xuICAgIHNpemUuaGVpZ2h0ID0gTWF0aC5taW4oc2l6ZS5oZWlnaHQsIHBpeGVsSGVpZ2h0IC0gb3JpZ2luU3JjLnkpO1xuICAgIHJldHVybiB0aGlzLmFkYXB0b3IuY29weVRvVGV4dHVyZShcbiAgICAgIHNvdXJjZVJlbmRlclN1cmZhY2VUZXh0dXJlLFxuICAgICAgZGVzdGluYXRpb25UZXh0dXJlLFxuICAgICAgb3JpZ2luU3JjLFxuICAgICAgc2l6ZSxcbiAgICAgIG9yaWdpbkRlc3RcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBlbnN1cmVzIHRoYXQgd2UgaGF2ZSBhIGRlcHRoIHN0ZW5jaWwgYnVmZmVyIGF2YWlsYWJsZSB0byByZW5kZXIgdG9cbiAgICogVGhpcyBpcyB1c2VkIGJ5IHRoZSBtYXNrIHN5c3RlbSB0byBtYWtlIHN1cmUgd2UgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLlxuICAgKi9cbiAgZW5zdXJlRGVwdGhTdGVuY2lsKCkge1xuICAgIGlmICghdGhpcy5yZW5kZXJUYXJnZXQuc3RlbmNpbCkge1xuICAgICAgdGhpcy5yZW5kZXJUYXJnZXQuc3RlbmNpbCA9IHRydWU7XG4gICAgICB0aGlzLmFkYXB0b3Iuc3RhcnRSZW5kZXJQYXNzKHRoaXMucmVuZGVyVGFyZ2V0LCBmYWxzZSwgbnVsbCwgdGhpcy52aWV3cG9ydCk7XG4gICAgfVxuICB9XG4gIC8qKiBudWtlcyB0aGUgcmVuZGVyIHRhcmdldCBzeXN0ZW0gKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyU3VyZmFjZVRvUmVuZGVyVGFyZ2V0SGFzaC5mb3JFYWNoKChyZW5kZXJUYXJnZXQsIGtleSkgPT4ge1xuICAgICAgaWYgKHJlbmRlclRhcmdldCAhPT0ga2V5KSB7XG4gICAgICAgIHJlbmRlclRhcmdldC5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fcmVuZGVyU3VyZmFjZVRvUmVuZGVyVGFyZ2V0SGFzaC5jbGVhcigpO1xuICAgIHRoaXMuX2dwdVJlbmRlclRhcmdldEhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfVxuICBfaW5pdFJlbmRlclRhcmdldChyZW5kZXJTdXJmYWNlKSB7XG4gICAgbGV0IHJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgaWYgKENhbnZhc1NvdXJjZS50ZXN0KHJlbmRlclN1cmZhY2UpKSB7XG4gICAgICByZW5kZXJTdXJmYWNlID0gZ2V0Q2FudmFzVGV4dHVyZShyZW5kZXJTdXJmYWNlKS5zb3VyY2U7XG4gICAgfVxuICAgIGlmIChyZW5kZXJTdXJmYWNlIGluc3RhbmNlb2YgUmVuZGVyVGFyZ2V0KSB7XG4gICAgICByZW5kZXJUYXJnZXQgPSByZW5kZXJTdXJmYWNlO1xuICAgIH0gZWxzZSBpZiAocmVuZGVyU3VyZmFjZSBpbnN0YW5jZW9mIFRleHR1cmVTb3VyY2UpIHtcbiAgICAgIHJlbmRlclRhcmdldCA9IG5ldyBSZW5kZXJUYXJnZXQoe1xuICAgICAgICBjb2xvclRleHR1cmVzOiBbcmVuZGVyU3VyZmFjZV1cbiAgICAgIH0pO1xuICAgICAgaWYgKHJlbmRlclN1cmZhY2Uuc291cmNlIGluc3RhbmNlb2YgQ2FudmFzU291cmNlKSB7XG4gICAgICAgIHJlbmRlclRhcmdldC5pc1Jvb3QgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmVuZGVyU3VyZmFjZS5vbmNlKFwiZGVzdHJveVwiLCAoKSA9PiB7XG4gICAgICAgIHJlbmRlclRhcmdldC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX3JlbmRlclN1cmZhY2VUb1JlbmRlclRhcmdldEhhc2guZGVsZXRlKHJlbmRlclN1cmZhY2UpO1xuICAgICAgICBjb25zdCBncHVSZW5kZXJUYXJnZXQgPSB0aGlzLl9ncHVSZW5kZXJUYXJnZXRIYXNoW3JlbmRlclRhcmdldC51aWRdO1xuICAgICAgICBpZiAoZ3B1UmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgdGhpcy5fZ3B1UmVuZGVyVGFyZ2V0SGFzaFtyZW5kZXJUYXJnZXQudWlkXSA9IG51bGw7XG4gICAgICAgICAgdGhpcy5hZGFwdG9yLmRlc3Ryb3lHcHVSZW5kZXJUYXJnZXQoZ3B1UmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuX3JlbmRlclN1cmZhY2VUb1JlbmRlclRhcmdldEhhc2guc2V0KHJlbmRlclN1cmZhY2UsIHJlbmRlclRhcmdldCk7XG4gICAgcmV0dXJuIHJlbmRlclRhcmdldDtcbiAgfVxuICBnZXRHcHVSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2dwdVJlbmRlclRhcmdldEhhc2hbcmVuZGVyVGFyZ2V0LnVpZF0gfHwgKHRoaXMuX2dwdVJlbmRlclRhcmdldEhhc2hbcmVuZGVyVGFyZ2V0LnVpZF0gPSB0aGlzLmFkYXB0b3IuaW5pdEdwdVJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpKTtcbiAgfVxuICByZXNldFN0YXRlKCkge1xuICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlclN1cmZhY2UgPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IFJlbmRlclRhcmdldFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGFyZ2V0U3lzdGVtLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gaXNSZW5kZXJpbmdUb1NjcmVlbihyZW5kZXJUYXJnZXQpIHtcbiAgY29uc3QgcmVzb3VyY2UgPSByZW5kZXJUYXJnZXQuY29sb3JUZXh0dXJlLnNvdXJjZS5yZXNvdXJjZTtcbiAgcmV0dXJuIGdsb2JhbFRoaXMuSFRNTENhbnZhc0VsZW1lbnQgJiYgcmVzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCAmJiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHJlc291cmNlKTtcbn1cblxuZXhwb3J0IHsgaXNSZW5kZXJpbmdUb1NjcmVlbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNSZW5kZXJpbmdUb1NjcmVlbi5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNhbGN1bGF0ZVByb2plY3Rpb24ocG0sIHgsIHksIHdpZHRoLCBoZWlnaHQsIGZsaXBZKSB7XG4gIGNvbnN0IHNpZ24gPSBmbGlwWSA/IDEgOiAtMTtcbiAgcG0uaWRlbnRpdHkoKTtcbiAgcG0uYSA9IDEgLyB3aWR0aCAqIDI7XG4gIHBtLmQgPSBzaWduICogKDEgLyBoZWlnaHQgKiAyKTtcbiAgcG0udHggPSAtMSAtIHggKiBwbS5hO1xuICBwbS50eSA9IC1zaWduIC0geSAqIHBtLmQ7XG4gIHJldHVybiBwbTtcbn1cblxuZXhwb3J0IHsgY2FsY3VsYXRlUHJvamVjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsY3VsYXRlUHJvamVjdGlvbi5tanMubWFwXG4iLCJpbXBvcnQgeyB1bnNhZmVFdmFsU3VwcG9ydGVkIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvYnJvd3Nlci91bnNhZmVFdmFsU3VwcG9ydGVkLm1qcyc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICcuLi9idWZmZXIvQnVmZmVyLm1qcyc7XG5pbXBvcnQgeyBCdWZmZXJVc2FnZSB9IGZyb20gJy4uL2J1ZmZlci9jb25zdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFVib1N5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKGFkYXB0b3IpIHtcbiAgICAvKiogQ2FjaGUgb2YgdW5pZm9ybSBidWZmZXIgbGF5b3V0cyBhbmQgc3luYyBmdW5jdGlvbnMsIHNvIHdlIGRvbid0IGhhdmUgdG8gcmUtY3JlYXRlIHRoZW0gKi9cbiAgICB0aGlzLl9zeW5jRnVuY3Rpb25IYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fYWRhcHRvciA9IGFkYXB0b3I7XG4gICAgdGhpcy5fc3lzdGVtQ2hlY2soKTtcbiAgfVxuICAvKipcbiAgICogT3ZlcnJpZGFibGUgZnVuY3Rpb24gYnkgYHBpeGkuanMvdW5zYWZlLWV2YWxgIHRvIHNpbGVuY2VcbiAgICogdGhyb3dpbmcgYW4gZXJyb3IgaWYgcGxhdGZvcm0gZG9lc24ndCBzdXBwb3J0IHVuc2FmZS1ldmFscy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zeXN0ZW1DaGVjaygpIHtcbiAgICBpZiAoIXVuc2FmZUV2YWxTdXBwb3J0ZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBhbGxvdyB1bnNhZmUtZXZhbCwgcGxlYXNlIHVzZSBwaXhpLmpzL3Vuc2FmZS1ldmFsIG1vZHVsZSB0byBlbmFibGUgc3VwcG9ydC5cIik7XG4gICAgfVxuICB9XG4gIGVuc3VyZVVuaWZvcm1Hcm91cCh1bmlmb3JtR3JvdXApIHtcbiAgICBjb25zdCB1bmlmb3JtRGF0YSA9IHRoaXMuZ2V0VW5pZm9ybUdyb3VwRGF0YSh1bmlmb3JtR3JvdXApO1xuICAgIHVuaWZvcm1Hcm91cC5idWZmZXIgfHwgKHVuaWZvcm1Hcm91cC5idWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IG5ldyBGbG9hdDMyQXJyYXkodW5pZm9ybURhdGEubGF5b3V0LnNpemUgLyA0KSxcbiAgICAgIHVzYWdlOiBCdWZmZXJVc2FnZS5VTklGT1JNIHwgQnVmZmVyVXNhZ2UuQ09QWV9EU1RcbiAgICB9KSk7XG4gIH1cbiAgZ2V0VW5pZm9ybUdyb3VwRGF0YSh1bmlmb3JtR3JvdXApIHtcbiAgICByZXR1cm4gdGhpcy5fc3luY0Z1bmN0aW9uSGFzaFt1bmlmb3JtR3JvdXAuX3NpZ25hdHVyZV0gfHwgdGhpcy5faW5pdFVuaWZvcm1Hcm91cCh1bmlmb3JtR3JvdXApO1xuICB9XG4gIF9pbml0VW5pZm9ybUdyb3VwKHVuaWZvcm1Hcm91cCkge1xuICAgIGNvbnN0IHVuaWZvcm1Hcm91cFNpZ25hdHVyZSA9IHVuaWZvcm1Hcm91cC5fc2lnbmF0dXJlO1xuICAgIGxldCB1bmlmb3JtRGF0YSA9IHRoaXMuX3N5bmNGdW5jdGlvbkhhc2hbdW5pZm9ybUdyb3VwU2lnbmF0dXJlXTtcbiAgICBpZiAoIXVuaWZvcm1EYXRhKSB7XG4gICAgICBjb25zdCBlbGVtZW50cyA9IE9iamVjdC5rZXlzKHVuaWZvcm1Hcm91cC51bmlmb3JtU3RydWN0dXJlcykubWFwKChpKSA9PiB1bmlmb3JtR3JvdXAudW5pZm9ybVN0cnVjdHVyZXNbaV0pO1xuICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5fYWRhcHRvci5jcmVhdGVVYm9FbGVtZW50cyhlbGVtZW50cyk7XG4gICAgICBjb25zdCBzeW5jRnVuY3Rpb24gPSB0aGlzLl9nZW5lcmF0ZVVib1N5bmMobGF5b3V0LnVib0VsZW1lbnRzKTtcbiAgICAgIHVuaWZvcm1EYXRhID0gdGhpcy5fc3luY0Z1bmN0aW9uSGFzaFt1bmlmb3JtR3JvdXBTaWduYXR1cmVdID0ge1xuICAgICAgICBsYXlvdXQsXG4gICAgICAgIHN5bmNGdW5jdGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3N5bmNGdW5jdGlvbkhhc2hbdW5pZm9ybUdyb3VwU2lnbmF0dXJlXTtcbiAgfVxuICBfZ2VuZXJhdGVVYm9TeW5jKHVib0VsZW1lbnRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkYXB0b3IuZ2VuZXJhdGVVYm9TeW5jKHVib0VsZW1lbnRzKTtcbiAgfVxuICBzeW5jVW5pZm9ybUdyb3VwKHVuaWZvcm1Hcm91cCwgZGF0YSwgb2Zmc2V0KSB7XG4gICAgY29uc3QgdW5pZm9ybUdyb3VwRGF0YSA9IHRoaXMuZ2V0VW5pZm9ybUdyb3VwRGF0YSh1bmlmb3JtR3JvdXApO1xuICAgIHVuaWZvcm1Hcm91cC5idWZmZXIgfHwgKHVuaWZvcm1Hcm91cC5idWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IG5ldyBGbG9hdDMyQXJyYXkodW5pZm9ybUdyb3VwRGF0YS5sYXlvdXQuc2l6ZSAvIDQpLFxuICAgICAgdXNhZ2U6IEJ1ZmZlclVzYWdlLlVOSUZPUk0gfCBCdWZmZXJVc2FnZS5DT1BZX0RTVFxuICAgIH0pKTtcbiAgICBsZXQgZGF0YUludDMyID0gbnVsbDtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIGRhdGEgPSB1bmlmb3JtR3JvdXAuYnVmZmVyLmRhdGE7XG4gICAgICBkYXRhSW50MzIgPSB1bmlmb3JtR3JvdXAuYnVmZmVyLmRhdGFJbnQzMjtcbiAgICB9XG4gICAgb2Zmc2V0IHx8IChvZmZzZXQgPSAwKTtcbiAgICB1bmlmb3JtR3JvdXBEYXRhLnN5bmNGdW5jdGlvbih1bmlmb3JtR3JvdXAudW5pZm9ybXMsIGRhdGEsIGRhdGFJbnQzMiwgb2Zmc2V0KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB1cGRhdGVVbmlmb3JtR3JvdXAodW5pZm9ybUdyb3VwKSB7XG4gICAgaWYgKHVuaWZvcm1Hcm91cC5pc1N0YXRpYyAmJiAhdW5pZm9ybUdyb3VwLl9kaXJ0eUlkKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHVuaWZvcm1Hcm91cC5fZGlydHlJZCA9IDA7XG4gICAgY29uc3Qgc3luY2VkID0gdGhpcy5zeW5jVW5pZm9ybUdyb3VwKHVuaWZvcm1Hcm91cCk7XG4gICAgdW5pZm9ybUdyb3VwLmJ1ZmZlci51cGRhdGUoKTtcbiAgICByZXR1cm4gc3luY2VkO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fc3luY0Z1bmN0aW9uSGFzaCA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgVWJvU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VYm9TeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgdW5pZm9ybVBhcnNlcnMgfSBmcm9tICcuL3VuaWZvcm1QYXJzZXJzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gY3JlYXRlVWJvU3luY0Z1bmN0aW9uKHVib0VsZW1lbnRzLCBwYXJzZXJDb2RlLCBhcnJheUdlbmVyYXRpb25GdW5jdGlvbiwgc2luZ2xlU2V0dGVyc01hcCkge1xuICBjb25zdCBmdW5jRnJhZ21lbnRzID0gW2BcbiAgICAgICAgdmFyIHYgPSBudWxsO1xuICAgICAgICB2YXIgdjIgPSBudWxsO1xuICAgICAgICB2YXIgdCA9IDA7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBuYW1lID0gbnVsbDtcbiAgICAgICAgdmFyIGFycmF5T2Zmc2V0ID0gbnVsbDtcbiAgICBgXTtcbiAgbGV0IHByZXYgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHVib0VsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdWJvRWxlbWVudCA9IHVib0VsZW1lbnRzW2ldO1xuICAgIGNvbnN0IG5hbWUgPSB1Ym9FbGVtZW50LmRhdGEubmFtZTtcbiAgICBsZXQgcGFyc2VkID0gZmFsc2U7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB1bmlmb3JtUGFyc2Vycy5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3QgdW5pZm9ybVBhcnNlciA9IHVuaWZvcm1QYXJzZXJzW2pdO1xuICAgICAgaWYgKHVuaWZvcm1QYXJzZXIudGVzdCh1Ym9FbGVtZW50LmRhdGEpKSB7XG4gICAgICAgIG9mZnNldCA9IHVib0VsZW1lbnQub2Zmc2V0IC8gNDtcbiAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKFxuICAgICAgICAgIGBuYW1lID0gXCIke25hbWV9XCI7YCxcbiAgICAgICAgICBgb2Zmc2V0ICs9ICR7b2Zmc2V0IC0gcHJldn07YCxcbiAgICAgICAgICB1bmlmb3JtUGFyc2Vyc1tqXVtwYXJzZXJDb2RlXSB8fCB1bmlmb3JtUGFyc2Vyc1tqXS51Ym9cbiAgICAgICAgKTtcbiAgICAgICAgcGFyc2VkID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghcGFyc2VkKSB7XG4gICAgICBpZiAodWJvRWxlbWVudC5kYXRhLnNpemUgPiAxKSB7XG4gICAgICAgIG9mZnNldCA9IHVib0VsZW1lbnQub2Zmc2V0IC8gNDtcbiAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKGFycmF5R2VuZXJhdGlvbkZ1bmN0aW9uKHVib0VsZW1lbnQsIG9mZnNldCAtIHByZXYpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gc2luZ2xlU2V0dGVyc01hcFt1Ym9FbGVtZW50LmRhdGEudHlwZV07XG4gICAgICAgIG9mZnNldCA9IHVib0VsZW1lbnQub2Zmc2V0IC8gNDtcbiAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKFxuICAgICAgICAgIC8qIHdnc2wgKi9cbiAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICAgIHYgPSB1di4ke25hbWV9O1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gJHtvZmZzZXQgLSBwcmV2fTtcbiAgICAgICAgICAgICAgICAgICAgJHt0ZW1wbGF0ZX07XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBwcmV2ID0gb2Zmc2V0O1xuICB9XG4gIGNvbnN0IGZyYWdtZW50U3JjID0gZnVuY0ZyYWdtZW50cy5qb2luKFwiXFxuXCIpO1xuICByZXR1cm4gbmV3IEZ1bmN0aW9uKFxuICAgIFwidXZcIixcbiAgICBcImRhdGFcIixcbiAgICBcImRhdGFJbnQzMlwiLFxuICAgIFwib2Zmc2V0XCIsXG4gICAgZnJhZ21lbnRTcmNcbiAgKTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlVWJvU3luY0Z1bmN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVVYm9TeW5jRnVuY3Rpb24ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBsb29wTWF0cml4KGNvbCwgcm93KSB7XG4gIGNvbnN0IHRvdGFsID0gY29sICogcm93O1xuICByZXR1cm4gYFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8ICR7dG90YWx9OyBpKyspIHtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgKCgoaSAvICR7Y29sfSl8MCkgKiA0KSArIChpICUgJHtjb2x9KV0gPSB2W2ldO1xuICAgICAgICB9XG4gICAgYDtcbn1cbmNvbnN0IHVib1N5bmNGdW5jdGlvbnNTVEQ0MCA9IHtcbiAgZjMyOiBgXG4gICAgICAgIGRhdGFbb2Zmc2V0XSA9IHY7YCxcbiAgaTMyOiBgXG4gICAgICAgIGRhdGFJbnQzMltvZmZzZXRdID0gdjtgLFxuICBcInZlYzI8ZjMyPlwiOiBgXG4gICAgICAgIGRhdGFbb2Zmc2V0XSA9IHZbMF07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgMV0gPSB2WzFdO2AsXG4gIFwidmVjMzxmMzI+XCI6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHZbMV07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSB2WzJdO2AsXG4gIFwidmVjNDxmMzI+XCI6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHZbMV07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSB2WzJdO1xuICAgICAgICBkYXRhW29mZnNldCArIDNdID0gdlszXTtgLFxuICBcInZlYzI8aTMyPlwiOiBgXG4gICAgICAgIGRhdGFJbnQzMltvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YUludDMyW29mZnNldCArIDFdID0gdlsxXTtgLFxuICBcInZlYzM8aTMyPlwiOiBgXG4gICAgICAgIGRhdGFJbnQzMltvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YUludDMyW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YUludDMyW29mZnNldCArIDJdID0gdlsyXTtgLFxuICBcInZlYzQ8aTMyPlwiOiBgXG4gICAgICAgIGRhdGFJbnQzMltvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YUludDMyW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YUludDMyW29mZnNldCArIDJdID0gdlsyXTtcbiAgICAgICAgZGF0YUludDMyW29mZnNldCArIDNdID0gdlszXTtgLFxuICBcIm1hdDJ4MjxmMzI+XCI6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHZbMV07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgNF0gPSB2WzJdO1xuICAgICAgICBkYXRhW29mZnNldCArIDVdID0gdlszXTtgLFxuICBcIm1hdDN4MzxmMzI+XCI6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHZbMV07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSB2WzJdO1xuICAgICAgICBkYXRhW29mZnNldCArIDRdID0gdlszXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA1XSA9IHZbNF07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgNl0gPSB2WzVdO1xuICAgICAgICBkYXRhW29mZnNldCArIDhdID0gdls2XTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA5XSA9IHZbN107XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgMTBdID0gdls4XTtgLFxuICBcIm1hdDR4NDxmMzI+XCI6IGBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIGldID0gdltpXTtcbiAgICAgICAgfWAsXG4gIFwibWF0M3gyPGYzMj5cIjogbG9vcE1hdHJpeCgzLCAyKSxcbiAgXCJtYXQ0eDI8ZjMyPlwiOiBsb29wTWF0cml4KDQsIDIpLFxuICBcIm1hdDJ4MzxmMzI+XCI6IGxvb3BNYXRyaXgoMiwgMyksXG4gIFwibWF0NHgzPGYzMj5cIjogbG9vcE1hdHJpeCg0LCAzKSxcbiAgXCJtYXQyeDQ8ZjMyPlwiOiBsb29wTWF0cml4KDIsIDQpLFxuICBcIm1hdDN4NDxmMzI+XCI6IGxvb3BNYXRyaXgoMywgNClcbn07XG5jb25zdCB1Ym9TeW5jRnVuY3Rpb25zV0dTTCA9IHtcbiAgLi4udWJvU3luY0Z1bmN0aW9uc1NURDQwLFxuICBcIm1hdDJ4MjxmMzI+XCI6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHZbMV07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSB2WzJdO1xuICAgICAgICBkYXRhW29mZnNldCArIDNdID0gdlszXTtcbiAgICBgXG59O1xuXG5leHBvcnQgeyB1Ym9TeW5jRnVuY3Rpb25zU1RENDAsIHVib1N5bmNGdW5jdGlvbnNXR1NMIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11Ym9TeW5jRnVuY3Rpb25zLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgdW5pZm9ybVBhcnNlcnMgPSBbXG4gIC8vIHVwbG9hZGluZyBwaXhpIG1hdHJpeCBvYmplY3QgdG8gbWF0M1xuICB7XG4gICAgdHlwZTogXCJtYXQzeDM8ZjMyPlwiLFxuICAgIHRlc3Q6IChkYXRhKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGRhdGEudmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWUuYSAhPT0gdm9pZCAwO1xuICAgIH0sXG4gICAgdWJvOiBgXG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gdXZbbmFtZV0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IG1hdHJpeFswXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMV0gPSBtYXRyaXhbMV07XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDJdID0gbWF0cml4WzJdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyA0XSA9IG1hdHJpeFszXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgNV0gPSBtYXRyaXhbNF07XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDZdID0gbWF0cml4WzVdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyA4XSA9IG1hdHJpeFs2XTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgOV0gPSBtYXRyaXhbN107XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDEwXSA9IG1hdHJpeFs4XTtcbiAgICAgICAgYCxcbiAgICB1bmlmb3JtOiBgXG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KHVkW25hbWVdLmxvY2F0aW9uLCBmYWxzZSwgdXZbbmFtZV0udG9BcnJheSh0cnVlKSk7XG4gICAgICAgIGBcbiAgfSxcbiAgLy8gdXBsb2FkaW5nIGEgcGl4aSByZWN0YW5nbGUgYXMgYSB2ZWM0XG4gIHtcbiAgICB0eXBlOiBcInZlYzQ8ZjMyPlwiLFxuICAgIHRlc3Q6IChkYXRhKSA9PiBkYXRhLnR5cGUgPT09IFwidmVjNDxmMzI+XCIgJiYgZGF0YS5zaXplID09PSAxICYmIGRhdGEudmFsdWUud2lkdGggIT09IHZvaWQgMCxcbiAgICB1Ym86IGBcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHYueDtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMV0gPSB2Lnk7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDJdID0gdi53aWR0aDtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgM10gPSB2LmhlaWdodDtcbiAgICAgICAgYCxcbiAgICB1bmlmb3JtOiBgXG4gICAgICAgICAgICBjdiA9IHVkW25hbWVdLnZhbHVlO1xuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgaWYgKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSB8fCBjdlsyXSAhPT0gdi53aWR0aCB8fCBjdlszXSAhPT0gdi5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcbiAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcbiAgICAgICAgICAgICAgICBjdlsyXSA9IHYud2lkdGg7XG4gICAgICAgICAgICAgICAgY3ZbM10gPSB2LmhlaWdodDtcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWRbbmFtZV0ubG9jYXRpb24sIHYueCwgdi55LCB2LndpZHRoLCB2LmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgfSxcbiAgLy8gdXBsb2FkaW5nIGEgcGl4aSBwb2ludCBhcyBhIHZlYzJcbiAge1xuICAgIHR5cGU6IFwidmVjMjxmMzI+XCIsXG4gICAgdGVzdDogKGRhdGEpID0+IGRhdGEudHlwZSA9PT0gXCJ2ZWMyPGYzMj5cIiAmJiBkYXRhLnNpemUgPT09IDEgJiYgZGF0YS52YWx1ZS54ICE9PSB2b2lkIDAsXG4gICAgdWJvOiBgXG4gICAgICAgICAgICB2ID0gdXZbbmFtZV07XG4gICAgICAgICAgICBkYXRhW29mZnNldF0gPSB2Lng7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdi55O1xuICAgICAgICBgLFxuICAgIHVuaWZvcm06IGBcbiAgICAgICAgICAgIGN2ID0gdWRbbmFtZV0udmFsdWU7XG4gICAgICAgICAgICB2ID0gdXZbbmFtZV07XG4gICAgICAgICAgICBpZiAoY3ZbMF0gIT09IHYueCB8fCBjdlsxXSAhPT0gdi55KSB7XG4gICAgICAgICAgICAgICAgY3ZbMF0gPSB2Lng7XG4gICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkW25hbWVdLmxvY2F0aW9uLCB2LngsIHYueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgfSxcbiAgLy8gdXBsb2FkaW5nIGEgcGl4aSBjb2xvciBhcyBhIHZlYzRcbiAge1xuICAgIHR5cGU6IFwidmVjNDxmMzI+XCIsXG4gICAgdGVzdDogKGRhdGEpID0+IGRhdGEudHlwZSA9PT0gXCJ2ZWM0PGYzMj5cIiAmJiBkYXRhLnNpemUgPT09IDEgJiYgZGF0YS52YWx1ZS5yZWQgIT09IHZvaWQgMCxcbiAgICB1Ym86IGBcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHYucmVkO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHYuZ3JlZW47XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDJdID0gdi5ibHVlO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAzXSA9IHYuYWxwaGE7XG4gICAgICAgIGAsXG4gICAgdW5pZm9ybTogYFxuICAgICAgICAgICAgY3YgPSB1ZFtuYW1lXS52YWx1ZTtcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGlmIChjdlswXSAhPT0gdi5yZWQgfHwgY3ZbMV0gIT09IHYuZ3JlZW4gfHwgY3ZbMl0gIT09IHYuYmx1ZSB8fCBjdlszXSAhPT0gdi5hbHBoYSkge1xuICAgICAgICAgICAgICAgIGN2WzBdID0gdi5yZWQ7XG4gICAgICAgICAgICAgICAgY3ZbMV0gPSB2LmdyZWVuO1xuICAgICAgICAgICAgICAgIGN2WzJdID0gdi5ibHVlO1xuICAgICAgICAgICAgICAgIGN2WzNdID0gdi5hbHBoYTtcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWRbbmFtZV0ubG9jYXRpb24sIHYucmVkLCB2LmdyZWVuLCB2LmJsdWUsIHYuYWxwaGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gIH0sXG4gIC8vIHVwbG9hZGluZyBhIHBpeGkgY29sb3IgYXMgYSB2ZWMzXG4gIHtcbiAgICB0eXBlOiBcInZlYzM8ZjMyPlwiLFxuICAgIHRlc3Q6IChkYXRhKSA9PiBkYXRhLnR5cGUgPT09IFwidmVjMzxmMzI+XCIgJiYgZGF0YS5zaXplID09PSAxICYmIGRhdGEudmFsdWUucmVkICE9PSB2b2lkIDAsXG4gICAgdWJvOiBgXG4gICAgICAgICAgICB2ID0gdXZbbmFtZV07XG4gICAgICAgICAgICBkYXRhW29mZnNldF0gPSB2LnJlZDtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMV0gPSB2LmdyZWVuO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHYuYmx1ZTtcbiAgICAgICAgYCxcbiAgICB1bmlmb3JtOiBgXG4gICAgICAgICAgICBjdiA9IHVkW25hbWVdLnZhbHVlO1xuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgaWYgKGN2WzBdICE9PSB2LnJlZCB8fCBjdlsxXSAhPT0gdi5ncmVlbiB8fCBjdlsyXSAhPT0gdi5ibHVlKSB7XG4gICAgICAgICAgICAgICAgY3ZbMF0gPSB2LnJlZDtcbiAgICAgICAgICAgICAgICBjdlsxXSA9IHYuZ3JlZW47XG4gICAgICAgICAgICAgICAgY3ZbMl0gPSB2LmJsdWU7XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNmKHVkW25hbWVdLmxvY2F0aW9uLCB2LnJlZCwgdi5ncmVlbiwgdi5ibHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICB9XG5dO1xuXG5leHBvcnQgeyB1bmlmb3JtUGFyc2VycyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5pZm9ybVBhcnNlcnMubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBibGVuZE1vZGVJZHMgPSB7XG4gIG5vcm1hbDogMCxcbiAgYWRkOiAxLFxuICBtdWx0aXBseTogMixcbiAgc2NyZWVuOiAzLFxuICBvdmVybGF5OiA0LFxuICBlcmFzZTogNSxcbiAgXCJub3JtYWwtbnBtXCI6IDYsXG4gIFwiYWRkLW5wbVwiOiA3LFxuICBcInNjcmVlbi1ucG1cIjogOCxcbiAgbWluOiA5LFxuICBtYXg6IDEwXG59O1xuY29uc3QgQkxFTkQgPSAwO1xuY29uc3QgT0ZGU0VUID0gMTtcbmNvbnN0IENVTExJTkcgPSAyO1xuY29uc3QgREVQVEhfVEVTVCA9IDM7XG5jb25zdCBXSU5ESU5HID0gNDtcbmNvbnN0IERFUFRIX01BU0sgPSA1O1xuY29uc3QgX1N0YXRlID0gY2xhc3MgX1N0YXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5kYXRhID0gMDtcbiAgICB0aGlzLmJsZW5kTW9kZSA9IFwibm9ybWFsXCI7XG4gICAgdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcbiAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICB0aGlzLmRlcHRoTWFzayA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBibGVuZGluZyBvZiB0aGUgY29tcHV0ZWQgZnJhZ21lbnQgY29sb3IgdmFsdWVzLlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBnZXQgYmxlbmQoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgQkxFTkQpO1xuICB9XG4gIHNldCBibGVuZCh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IEJMRU5EKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IEJMRU5EO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIGFkZGluZyBhbiBvZmZzZXQgdG8gZGVwdGggdmFsdWVzIG9mIHBvbHlnb24ncyBmcmFnbWVudHNcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGdldCBvZmZzZXRzKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IE9GRlNFVCk7XG4gIH1cbiAgc2V0IG9mZnNldHModmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBPRkZTRVQpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgT0ZGU0VUO1xuICAgIH1cbiAgfVxuICAvKiogVGhlIGN1bGxpbmcgc2V0dGluZ3MgZm9yIHRoaXMgc3RhdGUgbm9uZSAtIE5vIGN1bGxpbmcgYmFjayAtIEJhY2sgZmFjZSBjdWxsaW5nIGZyb250IC0gRnJvbnQgZmFjZSBjdWxsaW5nICovXG4gIHNldCBjdWxsTW9kZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gXCJub25lXCIpIHtcbiAgICAgIHRoaXMuY3VsbGluZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmN1bGxpbmcgPSB0cnVlO1xuICAgIHRoaXMuY2xvY2t3aXNlRnJvbnRGYWNlID0gdmFsdWUgPT09IFwiZnJvbnRcIjtcbiAgfVxuICBnZXQgY3VsbE1vZGUoKSB7XG4gICAgaWYgKCF0aGlzLmN1bGxpbmcpIHtcbiAgICAgIHJldHVybiBcIm5vbmVcIjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY2xvY2t3aXNlRnJvbnRGYWNlID8gXCJmcm9udFwiIDogXCJiYWNrXCI7XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBjdWxsaW5nIG9mIHBvbHlnb25zLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZ2V0IGN1bGxpbmcoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgQ1VMTElORyk7XG4gIH1cbiAgc2V0IGN1bGxpbmcodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBDVUxMSU5HKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IENVTExJTkc7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgZGVwdGggY29tcGFyaXNvbnMgYW5kIHVwZGF0ZXMgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGdldCBkZXB0aFRlc3QoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfVEVTVCk7XG4gIH1cbiAgc2V0IGRlcHRoVGVzdCh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX1RFU1QpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgREVQVEhfVEVTVDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgd3JpdGluZyB0byB0aGUgZGVwdGggYnVmZmVyLlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBnZXQgZGVwdGhNYXNrKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX01BU0spO1xuICB9XG4gIHNldCBkZXB0aE1hc2sodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9NQVNLKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IERFUFRIX01BU0s7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgZnJvbnQgb3IgYmFjay1mYWNpbmcgcG9seWdvbnMgY2FuIGJlIGN1bGxlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGdldCBjbG9ja3dpc2VGcm9udEZhY2UoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgV0lORElORyk7XG4gIH1cbiAgc2V0IGNsb2Nrd2lzZUZyb250RmFjZSh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IFdJTkRJTkcpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgV0lORElORztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgd2hlbiB0aGlzIHN0YXRlIGlzIHNldC4gQXBwbHkgYSB2YWx1ZSBvZiBgbm9ybWFsYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICogU2V0dGluZyB0aGlzIG1vZGUgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiBOT19CTEVORCB3aWxsIGF1dG9tYXRpY2FsbHkgc3dpdGNoIGJsZW5kaW5nIG9uLlxuICAgKiBAZGVmYXVsdCAnbm9ybWFsJ1xuICAgKi9cbiAgZ2V0IGJsZW5kTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxlbmRNb2RlO1xuICB9XG4gIHNldCBibGVuZE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLmJsZW5kID0gdmFsdWUgIT09IFwibm9uZVwiO1xuICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgIHRoaXMuX2JsZW5kTW9kZUlkID0gYmxlbmRNb2RlSWRzW3ZhbHVlXSB8fCAwO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgcG9seWdvbiBvZmZzZXQuIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byBhbnl0aGluZyBvdGhlciB0aGFuIDAgd2lsbCBhdXRvbWF0aWNhbGx5IGVuYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsLlxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBnZXQgcG9seWdvbk9mZnNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcG9seWdvbk9mZnNldDtcbiAgfVxuICBzZXQgcG9seWdvbk9mZnNldCh2YWx1ZSkge1xuICAgIHRoaXMub2Zmc2V0cyA9ICEhdmFsdWU7XG4gICAgdGhpcy5fcG9seWdvbk9mZnNldCA9IHZhbHVlO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgW3BpeGkuanMvY29yZTpTdGF0ZSBibGVuZE1vZGU9JHt0aGlzLmJsZW5kTW9kZX0gY2xvY2t3aXNlRnJvbnRGYWNlPSR7dGhpcy5jbG9ja3dpc2VGcm9udEZhY2V9IGN1bGxpbmc9JHt0aGlzLmN1bGxpbmd9IGRlcHRoTWFzaz0ke3RoaXMuZGVwdGhNYXNrfSBwb2x5Z29uT2Zmc2V0PSR7dGhpcy5wb2x5Z29uT2Zmc2V0fV1gO1xuICB9XG4gIC8qKlxuICAgKiBBIHF1aWNrbHkgZ2V0dGluZyBhbiBpbnN0YW5jZSBvZiBhIFN0YXRlIHRoYXQgaXMgY29uZmlndXJlZCBmb3IgMmQgcmVuZGVyaW5nLlxuICAgKiBAcmV0dXJucyBhIG5ldyBTdGF0ZSB3aXRoIHZhbHVlcyBzZXQgZm9yIDJkIHJlbmRlcmluZ1xuICAgKi9cbiAgc3RhdGljIGZvcjJkKCkge1xuICAgIGNvbnN0IHN0YXRlID0gbmV3IF9TdGF0ZSgpO1xuICAgIHN0YXRlLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgIHN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG5fU3RhdGUuZGVmYXVsdDJkID0gX1N0YXRlLmZvcjJkKCk7XG5sZXQgU3RhdGUgPSBfU3RhdGU7XG5cbmV4cG9ydCB7IFN0YXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGF0ZS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQ3VzdG9tUmVuZGVyUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKCkge1xuICB9XG4gIGRlc3Ryb3lSZW5kZXJhYmxlKCkge1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShjb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZChjb250YWluZXIpO1xuICB9XG4gIGV4ZWN1dGUoY29udGFpbmVyKSB7XG4gICAgaWYgKCFjb250YWluZXIuaXNSZW5kZXJhYmxlKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnRhaW5lci5yZW5kZXIodGhpcy5fcmVuZGVyZXIpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5DdXN0b21SZW5kZXJQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJjdXN0b21SZW5kZXJcIlxufTtcblxuZXhwb3J0IHsgQ3VzdG9tUmVuZGVyUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q3VzdG9tUmVuZGVyUGlwZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGV4ZWN1dGVJbnN0cnVjdGlvbnMocmVuZGVyR3JvdXAsIHJlbmRlcmVyKSB7XG4gIGNvbnN0IGluc3RydWN0aW9uU2V0ID0gcmVuZGVyR3JvdXAuaW5zdHJ1Y3Rpb25TZXQ7XG4gIGNvbnN0IGluc3RydWN0aW9ucyA9IGluc3RydWN0aW9uU2V0Lmluc3RydWN0aW9ucztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnN0cnVjdGlvblNldC5pbnN0cnVjdGlvblNpemU7IGkrKykge1xuICAgIGNvbnN0IGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb25zW2ldO1xuICAgIHJlbmRlcmVyW2luc3RydWN0aW9uLnJlbmRlclBpcGVJZF0uZXhlY3V0ZShpbnN0cnVjdGlvbik7XG4gIH1cbn1cblxuZXhwb3J0IHsgZXhlY3V0ZUluc3RydWN0aW9ucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhlY3V0ZUluc3RydWN0aW9ucy5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IEJhdGNoYWJsZVNwcml0ZSB9IGZyb20gJy4uL3Nwcml0ZS9CYXRjaGFibGVTcHJpdGUubWpzJztcbmltcG9ydCB7IGV4ZWN1dGVJbnN0cnVjdGlvbnMgfSBmcm9tICcuL3V0aWxzL2V4ZWN1dGVJbnN0cnVjdGlvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuY2xhc3MgUmVuZGVyR3JvdXBQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIGFkZFJlbmRlckdyb3VwKHJlbmRlckdyb3VwLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGlmIChyZW5kZXJHcm91cC5pc0NhY2hlZEFzVGV4dHVyZSkge1xuICAgICAgdGhpcy5fYWRkUmVuZGVyYWJsZUNhY2hlQXNUZXh0dXJlKHJlbmRlckdyb3VwLCBpbnN0cnVjdGlvblNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2FkZFJlbmRlcmFibGVEaXJlY3QocmVuZGVyR3JvdXAsIGluc3RydWN0aW9uU2V0KTtcbiAgICB9XG4gIH1cbiAgZXhlY3V0ZShyZW5kZXJHcm91cCkge1xuICAgIGlmICghcmVuZGVyR3JvdXAuaXNSZW5kZXJhYmxlKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChyZW5kZXJHcm91cC5pc0NhY2hlZEFzVGV4dHVyZSkge1xuICAgICAgdGhpcy5fZXhlY3V0ZUNhY2hlQXNUZXh0dXJlKHJlbmRlckdyb3VwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZXhlY3V0ZURpcmVjdChyZW5kZXJHcm91cCk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG4gIF9hZGRSZW5kZXJhYmxlRGlyZWN0KHJlbmRlckdyb3VwLCBpbnN0cnVjdGlvblNldCkge1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpZiAocmVuZGVyR3JvdXAuX2JhdGNoYWJsZVJlbmRlckdyb3VwKSB7XG4gICAgICBCaWdQb29sLnJldHVybihyZW5kZXJHcm91cC5fYmF0Y2hhYmxlUmVuZGVyR3JvdXApO1xuICAgICAgcmVuZGVyR3JvdXAuX2JhdGNoYWJsZVJlbmRlckdyb3VwID0gbnVsbDtcbiAgICB9XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHJlbmRlckdyb3VwKTtcbiAgfVxuICBfYWRkUmVuZGVyYWJsZUNhY2hlQXNUZXh0dXJlKHJlbmRlckdyb3VwLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGJhdGNoYWJsZVJlbmRlckdyb3VwID0gcmVuZGVyR3JvdXAuX2JhdGNoYWJsZVJlbmRlckdyb3VwID8/IChyZW5kZXJHcm91cC5fYmF0Y2hhYmxlUmVuZGVyR3JvdXAgPSBCaWdQb29sLmdldChCYXRjaGFibGVTcHJpdGUpKTtcbiAgICBiYXRjaGFibGVSZW5kZXJHcm91cC5yZW5kZXJhYmxlID0gcmVuZGVyR3JvdXAucm9vdDtcbiAgICBiYXRjaGFibGVSZW5kZXJHcm91cC50cmFuc2Zvcm0gPSByZW5kZXJHcm91cC5yb290LnJlbGF0aXZlR3JvdXBUcmFuc2Zvcm07XG4gICAgYmF0Y2hhYmxlUmVuZGVyR3JvdXAudGV4dHVyZSA9IHJlbmRlckdyb3VwLnRleHR1cmU7XG4gICAgYmF0Y2hhYmxlUmVuZGVyR3JvdXAuYm91bmRzID0gcmVuZGVyR3JvdXAuX3RleHR1cmVCb3VuZHM7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHJlbmRlckdyb3VwKTtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5hZGRUb0JhdGNoKGJhdGNoYWJsZVJlbmRlckdyb3VwLCBpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgX2V4ZWN1dGVDYWNoZUFzVGV4dHVyZShyZW5kZXJHcm91cCkge1xuICAgIGlmIChyZW5kZXJHcm91cC50ZXh0dXJlTmVlZHNVcGRhdGUpIHtcbiAgICAgIHJlbmRlckdyb3VwLnRleHR1cmVOZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgY29uc3Qgd29ybGRUcmFuc2Zvcm1NYXRyaXggPSB0ZW1wTWF0cml4LmlkZW50aXR5KCkudHJhbnNsYXRlKFxuICAgICAgICAtcmVuZGVyR3JvdXAuX3RleHR1cmVCb3VuZHMueCxcbiAgICAgICAgLXJlbmRlckdyb3VwLl90ZXh0dXJlQm91bmRzLnlcbiAgICAgICk7XG4gICAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJUYXJnZXQucHVzaChyZW5kZXJHcm91cC50ZXh0dXJlLCB0cnVlLCBudWxsLCByZW5kZXJHcm91cC50ZXh0dXJlLmZyYW1lKTtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnB1c2goe1xuICAgICAgICB3b3JsZFRyYW5zZm9ybU1hdHJpeCxcbiAgICAgICAgd29ybGRDb2xvcjogNDI5NDk2NzI5NVxuICAgICAgfSk7XG4gICAgICBleGVjdXRlSW5zdHJ1Y3Rpb25zKHJlbmRlckdyb3VwLCB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcyk7XG4gICAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJUYXJnZXQuZmluaXNoUmVuZGVyUGFzcygpO1xuICAgICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnBvcCgpO1xuICAgICAgdGhpcy5fcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMucG9wKCk7XG4gICAgfVxuICAgIHJlbmRlckdyb3VwLl9iYXRjaGFibGVSZW5kZXJHcm91cC5fYmF0Y2hlci51cGRhdGVFbGVtZW50KHJlbmRlckdyb3VwLl9iYXRjaGFibGVSZW5kZXJHcm91cCk7XG4gICAgcmVuZGVyR3JvdXAuX2JhdGNoYWJsZVJlbmRlckdyb3VwLl9iYXRjaGVyLmdlb21ldHJ5LmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gIH1cbiAgX2V4ZWN1dGVEaXJlY3QocmVuZGVyR3JvdXApIHtcbiAgICB0aGlzLl9yZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wdXNoKHtcbiAgICAgIHdvcmxkVHJhbnNmb3JtTWF0cml4OiByZW5kZXJHcm91cC5pbnZlcnNlUGFyZW50VGV4dHVyZVRyYW5zZm9ybSxcbiAgICAgIHdvcmxkQ29sb3I6IHJlbmRlckdyb3VwLndvcmxkQ29sb3JBbHBoYVxuICAgIH0pO1xuICAgIGV4ZWN1dGVJbnN0cnVjdGlvbnMocmVuZGVyR3JvdXAsIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzKTtcbiAgICB0aGlzLl9yZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wb3AoKTtcbiAgfVxufVxuUmVuZGVyR3JvdXBQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJyZW5kZXJHcm91cFwiXG59O1xuXG5leHBvcnQgeyBSZW5kZXJHcm91cFBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlckdyb3VwUGlwZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNsZWFyTGlzdChsaXN0LCBpbmRleCkge1xuICBpbmRleCB8fCAoaW5kZXggPSAwKTtcbiAgZm9yIChsZXQgaiA9IGluZGV4OyBqIDwgbGlzdC5sZW5ndGg7IGorKykge1xuICAgIGlmIChsaXN0W2pdKSB7XG4gICAgICBsaXN0W2pdID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IGNsZWFyTGlzdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xlYXJMaXN0Lm1qcy5tYXBcbiIsImltcG9ydCB7IENvbnRhaW5lciwgVVBEQVRFX1ZJU0lCTEUsIFVQREFURV9DT0xPUiwgVVBEQVRFX0JMRU5EIH0gZnJvbSAnLi4vQ29udGFpbmVyLm1qcyc7XG5pbXBvcnQgeyBjbGVhckxpc3QgfSBmcm9tICcuL2NsZWFyTGlzdC5tanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlDb2xvcnMgfSBmcm9tICcuL211bHRpcGx5Q29sb3JzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcENvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcbmNvbnN0IFVQREFURV9CTEVORF9DT0xPUl9WSVNJQkxFID0gVVBEQVRFX1ZJU0lCTEUgfCBVUERBVEVfQ09MT1IgfCBVUERBVEVfQkxFTkQ7XG5mdW5jdGlvbiB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMocmVuZGVyR3JvdXAsIHVwZGF0ZUNoaWxkUmVuZGVyR3JvdXBzID0gZmFsc2UpIHtcbiAgdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm0ocmVuZGVyR3JvdXApO1xuICBjb25zdCBjaGlsZHJlblRvVXBkYXRlID0gcmVuZGVyR3JvdXAuY2hpbGRyZW5Ub1VwZGF0ZTtcbiAgY29uc3QgdXBkYXRlVGljayA9IHJlbmRlckdyb3VwLnVwZGF0ZVRpY2srKztcbiAgZm9yIChjb25zdCBqIGluIGNoaWxkcmVuVG9VcGRhdGUpIHtcbiAgICBjb25zdCByZW5kZXJHcm91cERlcHRoID0gTnVtYmVyKGopO1xuICAgIGNvbnN0IGNoaWxkcmVuQXREZXB0aCA9IGNoaWxkcmVuVG9VcGRhdGVbal07XG4gICAgY29uc3QgbGlzdCA9IGNoaWxkcmVuQXREZXB0aC5saXN0O1xuICAgIGNvbnN0IGluZGV4ID0gY2hpbGRyZW5BdERlcHRoLmluZGV4O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXg7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSBsaXN0W2ldO1xuICAgICAgaWYgKGNoaWxkLnBhcmVudFJlbmRlckdyb3VwID09PSByZW5kZXJHcm91cCAmJiBjaGlsZC5yZWxhdGl2ZVJlbmRlckdyb3VwRGVwdGggPT09IHJlbmRlckdyb3VwRGVwdGgpIHtcbiAgICAgICAgdXBkYXRlVHJhbnNmb3JtQW5kQ2hpbGRyZW4oY2hpbGQsIHVwZGF0ZVRpY2ssIDApO1xuICAgICAgfVxuICAgIH1cbiAgICBjbGVhckxpc3QobGlzdCwgaW5kZXgpO1xuICAgIGNoaWxkcmVuQXREZXB0aC5pbmRleCA9IDA7XG4gIH1cbiAgaWYgKHVwZGF0ZUNoaWxkUmVuZGVyR3JvdXBzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMocmVuZGVyR3JvdXAucmVuZGVyR3JvdXBDaGlsZHJlbltpXSwgdXBkYXRlQ2hpbGRSZW5kZXJHcm91cHMpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm0ocmVuZGVyR3JvdXApIHtcbiAgY29uc3Qgcm9vdCA9IHJlbmRlckdyb3VwLnJvb3Q7XG4gIGxldCB3b3JsZEFscGhhO1xuICBpZiAocmVuZGVyR3JvdXAucmVuZGVyR3JvdXBQYXJlbnQpIHtcbiAgICBjb25zdCByZW5kZXJHcm91cFBhcmVudCA9IHJlbmRlckdyb3VwLnJlbmRlckdyb3VwUGFyZW50O1xuICAgIHJlbmRlckdyb3VwLndvcmxkVHJhbnNmb3JtLmFwcGVuZEZyb20oXG4gICAgICByb290LnJlbGF0aXZlR3JvdXBUcmFuc2Zvcm0sXG4gICAgICByZW5kZXJHcm91cFBhcmVudC53b3JsZFRyYW5zZm9ybVxuICAgICk7XG4gICAgcmVuZGVyR3JvdXAud29ybGRDb2xvciA9IG11bHRpcGx5Q29sb3JzKFxuICAgICAgcm9vdC5ncm91cENvbG9yLFxuICAgICAgcmVuZGVyR3JvdXBQYXJlbnQud29ybGRDb2xvclxuICAgICk7XG4gICAgd29ybGRBbHBoYSA9IHJvb3QuZ3JvdXBBbHBoYSAqIHJlbmRlckdyb3VwUGFyZW50LndvcmxkQWxwaGE7XG4gIH0gZWxzZSB7XG4gICAgcmVuZGVyR3JvdXAud29ybGRUcmFuc2Zvcm0uY29weUZyb20ocm9vdC5sb2NhbFRyYW5zZm9ybSk7XG4gICAgcmVuZGVyR3JvdXAud29ybGRDb2xvciA9IHJvb3QubG9jYWxDb2xvcjtcbiAgICB3b3JsZEFscGhhID0gcm9vdC5sb2NhbEFscGhhO1xuICB9XG4gIHdvcmxkQWxwaGEgPSB3b3JsZEFscGhhIDwgMCA/IDAgOiB3b3JsZEFscGhhID4gMSA/IDEgOiB3b3JsZEFscGhhO1xuICByZW5kZXJHcm91cC53b3JsZEFscGhhID0gd29ybGRBbHBoYTtcbiAgcmVuZGVyR3JvdXAud29ybGRDb2xvckFscGhhID0gcmVuZGVyR3JvdXAud29ybGRDb2xvciArICgod29ybGRBbHBoYSAqIDI1NSB8IDApIDw8IDI0KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybUFuZENoaWxkcmVuKGNvbnRhaW5lciwgdXBkYXRlVGljaywgdXBkYXRlRmxhZ3MpIHtcbiAgaWYgKHVwZGF0ZVRpY2sgPT09IGNvbnRhaW5lci51cGRhdGVUaWNrKVxuICAgIHJldHVybjtcbiAgY29udGFpbmVyLnVwZGF0ZVRpY2sgPSB1cGRhdGVUaWNrO1xuICBjb250YWluZXIuZGlkQ2hhbmdlID0gZmFsc2U7XG4gIGNvbnN0IGxvY2FsVHJhbnNmb3JtID0gY29udGFpbmVyLmxvY2FsVHJhbnNmb3JtO1xuICBjb250YWluZXIudXBkYXRlTG9jYWxUcmFuc2Zvcm0oKTtcbiAgY29uc3QgcGFyZW50ID0gY29udGFpbmVyLnBhcmVudDtcbiAgaWYgKHBhcmVudCAmJiAhcGFyZW50LnJlbmRlckdyb3VwKSB7XG4gICAgdXBkYXRlRmxhZ3MgfD0gY29udGFpbmVyLl91cGRhdGVGbGFncztcbiAgICBjb250YWluZXIucmVsYXRpdmVHcm91cFRyYW5zZm9ybS5hcHBlbmRGcm9tKFxuICAgICAgbG9jYWxUcmFuc2Zvcm0sXG4gICAgICBwYXJlbnQucmVsYXRpdmVHcm91cFRyYW5zZm9ybVxuICAgICk7XG4gICAgaWYgKHVwZGF0ZUZsYWdzICYgVVBEQVRFX0JMRU5EX0NPTE9SX1ZJU0lCTEUpIHtcbiAgICAgIHVwZGF0ZUNvbG9yQmxlbmRWaXNpYmlsaXR5KGNvbnRhaW5lciwgcGFyZW50LCB1cGRhdGVGbGFncyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHVwZGF0ZUZsYWdzID0gY29udGFpbmVyLl91cGRhdGVGbGFncztcbiAgICBjb250YWluZXIucmVsYXRpdmVHcm91cFRyYW5zZm9ybS5jb3B5RnJvbShsb2NhbFRyYW5zZm9ybSk7XG4gICAgaWYgKHVwZGF0ZUZsYWdzICYgVVBEQVRFX0JMRU5EX0NPTE9SX1ZJU0lCTEUpIHtcbiAgICAgIHVwZGF0ZUNvbG9yQmxlbmRWaXNpYmlsaXR5KGNvbnRhaW5lciwgdGVtcENvbnRhaW5lciwgdXBkYXRlRmxhZ3MpO1xuICAgIH1cbiAgfVxuICBpZiAoIWNvbnRhaW5lci5yZW5kZXJHcm91cCkge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgIGNvbnN0IGxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB1cGRhdGVUcmFuc2Zvcm1BbmRDaGlsZHJlbihjaGlsZHJlbltpXSwgdXBkYXRlVGljaywgdXBkYXRlRmxhZ3MpO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJHcm91cCA9IGNvbnRhaW5lci5wYXJlbnRSZW5kZXJHcm91cDtcbiAgICBjb25zdCByZW5kZXJhYmxlID0gY29udGFpbmVyO1xuICAgIGlmIChyZW5kZXJhYmxlLnJlbmRlclBpcGVJZCAmJiAhcmVuZGVyR3JvdXAuc3RydWN0dXJlRGlkQ2hhbmdlKSB7XG4gICAgICByZW5kZXJHcm91cC51cGRhdGVSZW5kZXJhYmxlKHJlbmRlcmFibGUpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlQ29sb3JCbGVuZFZpc2liaWxpdHkoY29udGFpbmVyLCBwYXJlbnQsIHVwZGF0ZUZsYWdzKSB7XG4gIGlmICh1cGRhdGVGbGFncyAmIFVQREFURV9DT0xPUikge1xuICAgIGNvbnRhaW5lci5ncm91cENvbG9yID0gbXVsdGlwbHlDb2xvcnMoXG4gICAgICBjb250YWluZXIubG9jYWxDb2xvcixcbiAgICAgIHBhcmVudC5ncm91cENvbG9yXG4gICAgKTtcbiAgICBsZXQgZ3JvdXBBbHBoYSA9IGNvbnRhaW5lci5sb2NhbEFscGhhICogcGFyZW50Lmdyb3VwQWxwaGE7XG4gICAgZ3JvdXBBbHBoYSA9IGdyb3VwQWxwaGEgPCAwID8gMCA6IGdyb3VwQWxwaGEgPiAxID8gMSA6IGdyb3VwQWxwaGE7XG4gICAgY29udGFpbmVyLmdyb3VwQWxwaGEgPSBncm91cEFscGhhO1xuICAgIGNvbnRhaW5lci5ncm91cENvbG9yQWxwaGEgPSBjb250YWluZXIuZ3JvdXBDb2xvciArICgoZ3JvdXBBbHBoYSAqIDI1NSB8IDApIDw8IDI0KTtcbiAgfVxuICBpZiAodXBkYXRlRmxhZ3MgJiBVUERBVEVfQkxFTkQpIHtcbiAgICBjb250YWluZXIuZ3JvdXBCbGVuZE1vZGUgPSBjb250YWluZXIubG9jYWxCbGVuZE1vZGUgPT09IFwiaW5oZXJpdFwiID8gcGFyZW50Lmdyb3VwQmxlbmRNb2RlIDogY29udGFpbmVyLmxvY2FsQmxlbmRNb2RlO1xuICB9XG4gIGlmICh1cGRhdGVGbGFncyAmIFVQREFURV9WSVNJQkxFKSB7XG4gICAgY29udGFpbmVyLmdsb2JhbERpc3BsYXlTdGF0dXMgPSBjb250YWluZXIubG9jYWxEaXNwbGF5U3RhdHVzICYgcGFyZW50Lmdsb2JhbERpc3BsYXlTdGF0dXM7XG4gIH1cbiAgY29udGFpbmVyLl91cGRhdGVGbGFncyA9IDA7XG59XG5cbmV4cG9ydCB7IHVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3JtLCB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMsIHVwZGF0ZVRyYW5zZm9ybUFuZENoaWxkcmVuIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVBvb2wgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVQb29sLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlU3R5bGUgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVTdHlsZS5tanMnO1xuaW1wb3J0IHsgQm91bmRzIH0gZnJvbSAnLi9ib3VuZHMvQm91bmRzLm1qcyc7XG5pbXBvcnQgeyBjbGVhckxpc3QgfSBmcm9tICcuL3V0aWxzL2NsZWFyTGlzdC5tanMnO1xuaW1wb3J0IHsgZXhlY3V0ZUluc3RydWN0aW9ucyB9IGZyb20gJy4vdXRpbHMvZXhlY3V0ZUluc3RydWN0aW9ucy5tanMnO1xuaW1wb3J0IHsgdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm1zIH0gZnJvbSAnLi91dGlscy91cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMubWpzJztcbmltcG9ydCB7IHZhbGlkYXRlUmVuZGVyYWJsZXMgfSBmcm9tICcuL3V0aWxzL3ZhbGlkYXRlUmVuZGVyYWJsZXMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuY2xhc3MgUmVuZGVyR3JvdXBTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcmVuZGVyKHsgY29udGFpbmVyLCB0cmFuc2Zvcm0gfSkge1xuICAgIGNvbnN0IHBhcmVudCA9IGNvbnRhaW5lci5wYXJlbnQ7XG4gICAgY29uc3QgcmVuZGVyR3JvdXBQYXJlbnQgPSBjb250YWluZXIucmVuZGVyR3JvdXAucmVuZGVyR3JvdXBQYXJlbnQ7XG4gICAgY29udGFpbmVyLnBhcmVudCA9IG51bGw7XG4gICAgY29udGFpbmVyLnJlbmRlckdyb3VwLnJlbmRlckdyb3VwUGFyZW50ID0gbnVsbDtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIGxldCBvcmlnaW5hbExvY2FsVHJhbnNmb3JtID0gdGVtcE1hdHJpeDtcbiAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICBvcmlnaW5hbExvY2FsVHJhbnNmb3JtID0gb3JpZ2luYWxMb2NhbFRyYW5zZm9ybS5jb3B5RnJvbShjb250YWluZXIucmVuZGVyR3JvdXAubG9jYWxUcmFuc2Zvcm0pO1xuICAgICAgY29udGFpbmVyLnJlbmRlckdyb3VwLmxvY2FsVHJhbnNmb3JtLmNvcHlGcm9tKHRyYW5zZm9ybSk7XG4gICAgfVxuICAgIGNvbnN0IHJlbmRlclBpcGVzID0gcmVuZGVyZXIucmVuZGVyUGlwZXM7XG4gICAgdGhpcy5fdXBkYXRlQ2FjaGVkUmVuZGVyR3JvdXBzKGNvbnRhaW5lci5yZW5kZXJHcm91cCwgbnVsbCk7XG4gICAgdGhpcy5fdXBkYXRlUmVuZGVyR3JvdXBzKGNvbnRhaW5lci5yZW5kZXJHcm91cCk7XG4gICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMuc3RhcnQoe1xuICAgICAgd29ybGRUcmFuc2Zvcm1NYXRyaXg6IHRyYW5zZm9ybSA/IGNvbnRhaW5lci5yZW5kZXJHcm91cC5sb2NhbFRyYW5zZm9ybSA6IGNvbnRhaW5lci5yZW5kZXJHcm91cC53b3JsZFRyYW5zZm9ybSxcbiAgICAgIHdvcmxkQ29sb3I6IGNvbnRhaW5lci5yZW5kZXJHcm91cC53b3JsZENvbG9yQWxwaGFcbiAgICB9KTtcbiAgICBleGVjdXRlSW5zdHJ1Y3Rpb25zKGNvbnRhaW5lci5yZW5kZXJHcm91cCwgcmVuZGVyUGlwZXMpO1xuICAgIGlmIChyZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2gpIHtcbiAgICAgIHJlbmRlclBpcGVzLnVuaWZvcm1CYXRjaC5yZW5kZXJFbmQoKTtcbiAgICB9XG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgY29udGFpbmVyLnJlbmRlckdyb3VwLmxvY2FsVHJhbnNmb3JtLmNvcHlGcm9tKG9yaWdpbmFsTG9jYWxUcmFuc2Zvcm0pO1xuICAgIH1cbiAgICBjb250YWluZXIucGFyZW50ID0gcGFyZW50O1xuICAgIGNvbnRhaW5lci5yZW5kZXJHcm91cC5yZW5kZXJHcm91cFBhcmVudCA9IHJlbmRlckdyb3VwUGFyZW50O1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG4gIF91cGRhdGVDYWNoZWRSZW5kZXJHcm91cHMocmVuZGVyR3JvdXAsIGNsb3Nlc3RDYWNoZUFzVGV4dHVyZSkge1xuICAgIGlmIChyZW5kZXJHcm91cC5pc0NhY2hlZEFzVGV4dHVyZSkge1xuICAgICAgaWYgKCFyZW5kZXJHcm91cC51cGRhdGVDYWNoZVRleHR1cmUpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNsb3Nlc3RDYWNoZUFzVGV4dHVyZSA9IHJlbmRlckdyb3VwO1xuICAgIH1cbiAgICByZW5kZXJHcm91cC5fcGFyZW50Q2FjaGVBc1RleHR1cmVSZW5kZXJHcm91cCA9IGNsb3Nlc3RDYWNoZUFzVGV4dHVyZTtcbiAgICBmb3IgKGxldCBpID0gcmVuZGVyR3JvdXAucmVuZGVyR3JvdXBDaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdGhpcy5fdXBkYXRlQ2FjaGVkUmVuZGVyR3JvdXBzKHJlbmRlckdyb3VwLnJlbmRlckdyb3VwQ2hpbGRyZW5baV0sIGNsb3Nlc3RDYWNoZUFzVGV4dHVyZSk7XG4gICAgfVxuICAgIHJlbmRlckdyb3VwLmludmFsaWRhdGVNYXRyaWNlcygpO1xuICAgIGlmIChyZW5kZXJHcm91cC5pc0NhY2hlZEFzVGV4dHVyZSkge1xuICAgICAgaWYgKHJlbmRlckdyb3VwLnRleHR1cmVOZWVkc1VwZGF0ZSkge1xuICAgICAgICBjb25zdCBib3VuZHMgPSByZW5kZXJHcm91cC5yb290LmdldExvY2FsQm91bmRzKCk7XG4gICAgICAgIGJvdW5kcy5jZWlsKCk7XG4gICAgICAgIGNvbnN0IGxhc3RUZXh0dXJlID0gcmVuZGVyR3JvdXAudGV4dHVyZTtcbiAgICAgICAgaWYgKHJlbmRlckdyb3VwLnRleHR1cmUpIHtcbiAgICAgICAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHJlbmRlckdyb3VwLnRleHR1cmUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSByZW5kZXJHcm91cC50ZXh0dXJlT3B0aW9ucy5yZXNvbHV0aW9uIHx8IHJlbmRlcmVyLnZpZXcucmVzb2x1dGlvbjtcbiAgICAgICAgY29uc3QgYW50aWFsaWFzID0gcmVuZGVyR3JvdXAudGV4dHVyZU9wdGlvbnMuYW50aWFsaWFzID8/IHJlbmRlcmVyLnZpZXcuYW50aWFsaWFzO1xuICAgICAgICBjb25zdCBzY2FsZU1vZGUgPSByZW5kZXJHcm91cC50ZXh0dXJlT3B0aW9ucy5zY2FsZU1vZGUgPz8gXCJsaW5lYXJcIjtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IFRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKFxuICAgICAgICAgIGJvdW5kcy53aWR0aCxcbiAgICAgICAgICBib3VuZHMuaGVpZ2h0LFxuICAgICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgICAgYW50aWFsaWFzXG4gICAgICAgICk7XG4gICAgICAgIHRleHR1cmUuX3NvdXJjZS5zdHlsZSA9IG5ldyBUZXh0dXJlU3R5bGUoeyBzY2FsZU1vZGUgfSk7XG4gICAgICAgIHJlbmRlckdyb3VwLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZW5kZXJHcm91cC5fdGV4dHVyZUJvdW5kcyB8fCAocmVuZGVyR3JvdXAuX3RleHR1cmVCb3VuZHMgPSBuZXcgQm91bmRzKCkpO1xuICAgICAgICByZW5kZXJHcm91cC5fdGV4dHVyZUJvdW5kcy5jb3B5RnJvbShib3VuZHMpO1xuICAgICAgICBpZiAobGFzdFRleHR1cmUgIT09IHJlbmRlckdyb3VwLnRleHR1cmUpIHtcbiAgICAgICAgICBpZiAocmVuZGVyR3JvdXAucmVuZGVyR3JvdXBQYXJlbnQpIHtcbiAgICAgICAgICAgIHJlbmRlckdyb3VwLnJlbmRlckdyb3VwUGFyZW50LnN0cnVjdHVyZURpZENoYW5nZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZW5kZXJHcm91cC50ZXh0dXJlKSB7XG4gICAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHJlbmRlckdyb3VwLnRleHR1cmUsIHRydWUpO1xuICAgICAgcmVuZGVyR3JvdXAudGV4dHVyZSA9IG51bGw7XG4gICAgfVxuICB9XG4gIF91cGRhdGVSZW5kZXJHcm91cHMocmVuZGVyR3JvdXApIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIGNvbnN0IHJlbmRlclBpcGVzID0gcmVuZGVyZXIucmVuZGVyUGlwZXM7XG4gICAgcmVuZGVyR3JvdXAucnVuT25SZW5kZXIocmVuZGVyZXIpO1xuICAgIHJlbmRlckdyb3VwLmluc3RydWN0aW9uU2V0LnJlbmRlclBpcGVzID0gcmVuZGVyUGlwZXM7XG4gICAgaWYgKCFyZW5kZXJHcm91cC5zdHJ1Y3R1cmVEaWRDaGFuZ2UpIHtcbiAgICAgIHZhbGlkYXRlUmVuZGVyYWJsZXMocmVuZGVyR3JvdXAsIHJlbmRlclBpcGVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYXJMaXN0KHJlbmRlckdyb3VwLmNoaWxkcmVuUmVuZGVyYWJsZXNUb1VwZGF0ZS5saXN0LCAwKTtcbiAgICB9XG4gICAgdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm1zKHJlbmRlckdyb3VwKTtcbiAgICBpZiAocmVuZGVyR3JvdXAuc3RydWN0dXJlRGlkQ2hhbmdlKSB7XG4gICAgICByZW5kZXJHcm91cC5zdHJ1Y3R1cmVEaWRDaGFuZ2UgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2J1aWxkSW5zdHJ1Y3Rpb25zKHJlbmRlckdyb3VwLCByZW5kZXJlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVJlbmRlcmFibGVzKHJlbmRlckdyb3VwKTtcbiAgICB9XG4gICAgcmVuZGVyR3JvdXAuY2hpbGRyZW5SZW5kZXJhYmxlc1RvVXBkYXRlLmluZGV4ID0gMDtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC51cGxvYWQocmVuZGVyR3JvdXAuaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGlmIChyZW5kZXJHcm91cC5pc0NhY2hlZEFzVGV4dHVyZSAmJiAhcmVuZGVyR3JvdXAudGV4dHVyZU5lZWRzVXBkYXRlKVxuICAgICAgcmV0dXJuO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyR3JvdXAucmVuZGVyR3JvdXBDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fdXBkYXRlUmVuZGVyR3JvdXBzKHJlbmRlckdyb3VwLnJlbmRlckdyb3VwQ2hpbGRyZW5baV0pO1xuICAgIH1cbiAgfVxuICBfdXBkYXRlUmVuZGVyYWJsZXMocmVuZGVyR3JvdXApIHtcbiAgICBjb25zdCB7IGxpc3QsIGluZGV4IH0gPSByZW5kZXJHcm91cC5jaGlsZHJlblJlbmRlcmFibGVzVG9VcGRhdGU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleDsgaSsrKSB7XG4gICAgICBjb25zdCBjb250YWluZXIgPSBsaXN0W2ldO1xuICAgICAgaWYgKGNvbnRhaW5lci5kaWRWaWV3VXBkYXRlKSB7XG4gICAgICAgIHJlbmRlckdyb3VwLnVwZGF0ZVJlbmRlcmFibGUoY29udGFpbmVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2xlYXJMaXN0KGxpc3QsIGluZGV4KTtcbiAgfVxuICBfYnVpbGRJbnN0cnVjdGlvbnMocmVuZGVyR3JvdXAsIHJlbmRlcmVyT3JQaXBlcykge1xuICAgIGNvbnN0IHJvb3QgPSByZW5kZXJHcm91cC5yb290O1xuICAgIGNvbnN0IGluc3RydWN0aW9uU2V0ID0gcmVuZGVyR3JvdXAuaW5zdHJ1Y3Rpb25TZXQ7XG4gICAgaW5zdHJ1Y3Rpb25TZXQucmVzZXQoKTtcbiAgICBjb25zdCByZW5kZXJlciA9IHJlbmRlcmVyT3JQaXBlcy5yZW5kZXJQaXBlcyA/IHJlbmRlcmVyT3JQaXBlcyA6IHJlbmRlcmVyT3JQaXBlcy5iYXRjaC5yZW5kZXJlcjtcbiAgICBjb25zdCByZW5kZXJQaXBlcyA9IHJlbmRlcmVyLnJlbmRlclBpcGVzO1xuICAgIHJlbmRlclBpcGVzLmJhdGNoLmJ1aWxkU3RhcnQoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIHJlbmRlclBpcGVzLmJsZW5kTW9kZS5idWlsZFN0YXJ0KCk7XG4gICAgcmVuZGVyUGlwZXMuY29sb3JNYXNrLmJ1aWxkU3RhcnQoKTtcbiAgICBpZiAocm9vdC5zb3J0YWJsZUNoaWxkcmVuKSB7XG4gICAgICByb290LnNvcnRDaGlsZHJlbigpO1xuICAgIH1cbiAgICByb290LmNvbGxlY3RSZW5kZXJhYmxlc1dpdGhFZmZlY3RzKGluc3RydWN0aW9uU2V0LCByZW5kZXJlciwgbnVsbCk7XG4gICAgcmVuZGVyUGlwZXMuYmF0Y2guYnVpbGRFbmQoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIHJlbmRlclBpcGVzLmJsZW5kTW9kZS5idWlsZEVuZChpbnN0cnVjdGlvblNldCk7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5SZW5kZXJHcm91cFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwicmVuZGVyR3JvdXBcIlxufTtcblxuZXhwb3J0IHsgUmVuZGVyR3JvdXBTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlckdyb3VwU3lzdGVtLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gdmFsaWRhdGVSZW5kZXJhYmxlcyhyZW5kZXJHcm91cCwgcmVuZGVyUGlwZXMpIHtcbiAgY29uc3QgeyBsaXN0LCBpbmRleCB9ID0gcmVuZGVyR3JvdXAuY2hpbGRyZW5SZW5kZXJhYmxlc1RvVXBkYXRlO1xuICBsZXQgcmVidWlsZFJlcXVpcmVkID0gZmFsc2U7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXg7IGkrKykge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGxpc3RbaV07XG4gICAgY29uc3QgcmVuZGVyYWJsZSA9IGNvbnRhaW5lcjtcbiAgICBjb25zdCBwaXBlID0gcmVuZGVyUGlwZXNbcmVuZGVyYWJsZS5yZW5kZXJQaXBlSWRdO1xuICAgIHJlYnVpbGRSZXF1aXJlZCA9IHBpcGUudmFsaWRhdGVSZW5kZXJhYmxlKGNvbnRhaW5lcik7XG4gICAgaWYgKHJlYnVpbGRSZXF1aXJlZCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJlbmRlckdyb3VwLnN0cnVjdHVyZURpZENoYW5nZSA9IHJlYnVpbGRSZXF1aXJlZDtcbiAgcmV0dXJuIHJlYnVpbGRSZXF1aXJlZDtcbn1cblxuZXhwb3J0IHsgdmFsaWRhdGVSZW5kZXJhYmxlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdGVSZW5kZXJhYmxlcy5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVTcHJpdGUgfSBmcm9tICcuL0JhdGNoYWJsZVNwcml0ZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFNwcml0ZVBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShzcHJpdGUsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZ3B1U3ByaXRlID0gdGhpcy5fZ2V0R3B1U3ByaXRlKHNwcml0ZSk7XG4gICAgaWYgKHNwcml0ZS5kaWRWaWV3VXBkYXRlKVxuICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hhYmxlU3ByaXRlKHNwcml0ZSwgZ3B1U3ByaXRlKTtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5hZGRUb0JhdGNoKGdwdVNwcml0ZSwgaW5zdHJ1Y3Rpb25TZXQpO1xuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoc3ByaXRlKSB7XG4gICAgY29uc3QgZ3B1U3ByaXRlID0gdGhpcy5fZ2V0R3B1U3ByaXRlKHNwcml0ZSk7XG4gICAgaWYgKHNwcml0ZS5kaWRWaWV3VXBkYXRlKVxuICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hhYmxlU3ByaXRlKHNwcml0ZSwgZ3B1U3ByaXRlKTtcbiAgICBncHVTcHJpdGUuX2JhdGNoZXIudXBkYXRlRWxlbWVudChncHVTcHJpdGUpO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShzcHJpdGUpIHtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9nZXRHcHVTcHJpdGUoc3ByaXRlKTtcbiAgICByZXR1cm4gIWdwdVNwcml0ZS5fYmF0Y2hlci5jaGVja0FuZFVwZGF0ZVRleHR1cmUoXG4gICAgICBncHVTcHJpdGUsXG4gICAgICBzcHJpdGUuX3RleHR1cmVcbiAgICApO1xuICB9XG4gIF91cGRhdGVCYXRjaGFibGVTcHJpdGUoc3ByaXRlLCBiYXRjaGFibGVTcHJpdGUpIHtcbiAgICBiYXRjaGFibGVTcHJpdGUuYm91bmRzID0gc3ByaXRlLnZpc3VhbEJvdW5kcztcbiAgICBiYXRjaGFibGVTcHJpdGUudGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgfVxuICBfZ2V0R3B1U3ByaXRlKHNwcml0ZSkge1xuICAgIHJldHVybiBzcHJpdGUuX2dwdURhdGFbdGhpcy5fcmVuZGVyZXIudWlkXSB8fCB0aGlzLl9pbml0R1BVU3ByaXRlKHNwcml0ZSk7XG4gIH1cbiAgX2luaXRHUFVTcHJpdGUoc3ByaXRlKSB7XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gbmV3IEJhdGNoYWJsZVNwcml0ZSgpO1xuICAgIGJhdGNoYWJsZVNwcml0ZS5yZW5kZXJhYmxlID0gc3ByaXRlO1xuICAgIGJhdGNoYWJsZVNwcml0ZS50cmFuc2Zvcm0gPSBzcHJpdGUuZ3JvdXBUcmFuc2Zvcm07XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLmJvdW5kcyA9IHNwcml0ZS52aXN1YWxCb3VuZHM7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnJvdW5kUGl4ZWxzID0gdGhpcy5fcmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgc3ByaXRlLl9yb3VuZFBpeGVscztcbiAgICBzcHJpdGUuX2dwdURhdGFbdGhpcy5fcmVuZGVyZXIudWlkXSA9IGJhdGNoYWJsZVNwcml0ZTtcbiAgICByZXR1cm4gYmF0Y2hhYmxlU3ByaXRlO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuU3ByaXRlUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwic3ByaXRlXCJcbn07XG5cbmV4cG9ydCB7IFNwcml0ZVBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwcml0ZVBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyc7XG5pbXBvcnQgeyBEZWZhdWx0QmF0Y2hlciB9IGZyb20gJy4vRGVmYXVsdEJhdGNoZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfQmF0Y2hlclBpcGUgPSBjbGFzcyBfQmF0Y2hlclBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgYWRhcHRvcikge1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgIHRoaXMuX2JhdGNoZXJzQnlJbnN0cnVjdGlvblNldCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIC8qKiBBIHJlY29yZCBvZiBhbGwgYWN0aXZlIGJhdGNoZXJzLCBrZXllZCBieSB0aGVpciBuYW1lcyAqL1xuICAgIHRoaXMuX2FjdGl2ZUJhdGNoZXMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fYWRhcHRvciA9IGFkYXB0b3I7XG4gICAgdGhpcy5fYWRhcHRvci5pbml0Py4odGhpcyk7XG4gIH1cbiAgc3RhdGljIGdldEJhdGNoZXIobmFtZSkge1xuICAgIHJldHVybiBuZXcgdGhpcy5fYXZhaWxhYmxlQmF0Y2hlcnNbbmFtZV0oKTtcbiAgfVxuICBidWlsZFN0YXJ0KGluc3RydWN0aW9uU2V0KSB7XG4gICAgbGV0IGJhdGNoZXJzID0gdGhpcy5fYmF0Y2hlcnNCeUluc3RydWN0aW9uU2V0W2luc3RydWN0aW9uU2V0LnVpZF07XG4gICAgaWYgKCFiYXRjaGVycykge1xuICAgICAgYmF0Y2hlcnMgPSB0aGlzLl9iYXRjaGVyc0J5SW5zdHJ1Y3Rpb25TZXRbaW5zdHJ1Y3Rpb25TZXQudWlkXSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgYmF0Y2hlcnMuZGVmYXVsdCB8fCAoYmF0Y2hlcnMuZGVmYXVsdCA9IG5ldyBEZWZhdWx0QmF0Y2hlcih7XG4gICAgICAgIG1heFRleHR1cmVzOiB0aGlzLnJlbmRlcmVyLmxpbWl0cy5tYXhCYXRjaGFibGVUZXh0dXJlc1xuICAgICAgfSkpO1xuICAgIH1cbiAgICB0aGlzLl9hY3RpdmVCYXRjaGVzID0gYmF0Y2hlcnM7XG4gICAgdGhpcy5fYWN0aXZlQmF0Y2ggPSB0aGlzLl9hY3RpdmVCYXRjaGVzLmRlZmF1bHQ7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2FjdGl2ZUJhdGNoZXMpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZUJhdGNoZXNbaV0uYmVnaW4oKTtcbiAgICB9XG4gIH1cbiAgYWRkVG9CYXRjaChiYXRjaGFibGVPYmplY3QsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZUJhdGNoLm5hbWUgIT09IGJhdGNoYWJsZU9iamVjdC5iYXRjaGVyTmFtZSkge1xuICAgICAgdGhpcy5fYWN0aXZlQmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgICAgbGV0IGJhdGNoID0gdGhpcy5fYWN0aXZlQmF0Y2hlc1tiYXRjaGFibGVPYmplY3QuYmF0Y2hlck5hbWVdO1xuICAgICAgaWYgKCFiYXRjaCkge1xuICAgICAgICBiYXRjaCA9IHRoaXMuX2FjdGl2ZUJhdGNoZXNbYmF0Y2hhYmxlT2JqZWN0LmJhdGNoZXJOYW1lXSA9IF9CYXRjaGVyUGlwZS5nZXRCYXRjaGVyKGJhdGNoYWJsZU9iamVjdC5iYXRjaGVyTmFtZSk7XG4gICAgICAgIGJhdGNoLmJlZ2luKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9hY3RpdmVCYXRjaCA9IGJhdGNoO1xuICAgIH1cbiAgICB0aGlzLl9hY3RpdmVCYXRjaC5hZGQoYmF0Y2hhYmxlT2JqZWN0KTtcbiAgfVxuICBicmVhayhpbnN0cnVjdGlvblNldCkge1xuICAgIHRoaXMuX2FjdGl2ZUJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgfVxuICBidWlsZEVuZChpbnN0cnVjdGlvblNldCkge1xuICAgIHRoaXMuX2FjdGl2ZUJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBjb25zdCBiYXRjaGVzID0gdGhpcy5fYWN0aXZlQmF0Y2hlcztcbiAgICBmb3IgKGNvbnN0IGkgaW4gYmF0Y2hlcykge1xuICAgICAgY29uc3QgYmF0Y2ggPSBiYXRjaGVzW2ldO1xuICAgICAgY29uc3QgZ2VvbWV0cnkgPSBiYXRjaC5nZW9tZXRyeTtcbiAgICAgIGdlb21ldHJ5LmluZGV4QnVmZmVyLnNldERhdGFXaXRoU2l6ZShiYXRjaC5pbmRleEJ1ZmZlciwgYmF0Y2guaW5kZXhTaXplLCB0cnVlKTtcbiAgICAgIGdlb21ldHJ5LmJ1ZmZlcnNbMF0uc2V0RGF0YVdpdGhTaXplKGJhdGNoLmF0dHJpYnV0ZUJ1ZmZlci5mbG9hdDMyVmlldywgYmF0Y2guYXR0cmlidXRlU2l6ZSwgZmFsc2UpO1xuICAgIH1cbiAgfVxuICB1cGxvYWQoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBiYXRjaGVycyA9IHRoaXMuX2JhdGNoZXJzQnlJbnN0cnVjdGlvblNldFtpbnN0cnVjdGlvblNldC51aWRdO1xuICAgIGZvciAoY29uc3QgaSBpbiBiYXRjaGVycykge1xuICAgICAgY29uc3QgYmF0Y2hlciA9IGJhdGNoZXJzW2ldO1xuICAgICAgY29uc3QgZ2VvbWV0cnkgPSBiYXRjaGVyLmdlb21ldHJ5O1xuICAgICAgaWYgKGJhdGNoZXIuZGlydHkpIHtcbiAgICAgICAgYmF0Y2hlci5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICBnZW9tZXRyeS5idWZmZXJzWzBdLnVwZGF0ZShiYXRjaGVyLmF0dHJpYnV0ZVNpemUgKiA0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZXhlY3V0ZShiYXRjaCkge1xuICAgIGlmIChiYXRjaC5hY3Rpb24gPT09IFwic3RhcnRCYXRjaFwiKSB7XG4gICAgICBjb25zdCBiYXRjaGVyID0gYmF0Y2guYmF0Y2hlcjtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gYmF0Y2hlci5nZW9tZXRyeTtcbiAgICAgIGNvbnN0IHNoYWRlciA9IGJhdGNoZXIuc2hhZGVyO1xuICAgICAgdGhpcy5fYWRhcHRvci5zdGFydCh0aGlzLCBnZW9tZXRyeSwgc2hhZGVyKTtcbiAgICB9XG4gICAgdGhpcy5fYWRhcHRvci5leGVjdXRlKHRoaXMsIGJhdGNoKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX2FkYXB0b3IgPSBudWxsO1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9hY3RpdmVCYXRjaGVzKSB7XG4gICAgICB0aGlzLl9hY3RpdmVCYXRjaGVzW2ldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlQmF0Y2hlcyA9IG51bGw7XG4gIH1cbn07XG4vKiogQGlnbm9yZSAqL1xuX0JhdGNoZXJQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJiYXRjaFwiXG59O1xuX0JhdGNoZXJQaXBlLl9hdmFpbGFibGVCYXRjaGVycyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xubGV0IEJhdGNoZXJQaXBlID0gX0JhdGNoZXJQaXBlO1xuZXh0ZW5zaW9ucy5oYW5kbGVCeU1hcChFeHRlbnNpb25UeXBlLkJhdGNoZXIsIEJhdGNoZXJQaXBlLl9hdmFpbGFibGVCYXRjaGVycyk7XG5leHRlbnNpb25zLmFkZChEZWZhdWx0QmF0Y2hlcik7XG5cbmV4cG9ydCB7IEJhdGNoZXJQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaGVyUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBHbFByb2dyYW0gfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9HbFByb2dyYW0ubWpzJztcbmltcG9ydCB7IEdwdVByb2dyYW0gfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9zaGFkZXIvR3B1UHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgU2hhZGVyIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1NoYWRlci5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9TdGF0ZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9GaWx0ZXIgPSBjbGFzcyBfRmlsdGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbmFsIHBhcmFtZXRlcnMgb2YgdGhpcyBmaWx0ZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX0ZpbHRlci5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIC8qKiBJZiBlbmFibGVkIGlzIHRydWUgdGhlIGZpbHRlciBpcyBhcHBsaWVkLCBpZiBmYWxzZSBpdCB3aWxsIG5vdC4gKi9cbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFRoZSBncHUgc3RhdGUgdGhlIGZpbHRlciByZXF1aXJlcyB0byByZW5kZXIuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgIHRoaXMuYmxlbmRNb2RlID0gb3B0aW9ucy5ibGVuZE1vZGU7XG4gICAgdGhpcy5wYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5hbnRpYWxpYXMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICB0aGlzLmFudGlhbGlhcyA9IG9wdGlvbnMuYW50aWFsaWFzID8gXCJvblwiIDogXCJvZmZcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hbnRpYWxpYXMgPSBvcHRpb25zLmFudGlhbGlhcztcbiAgICB9XG4gICAgdGhpcy5yZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uO1xuICAgIHRoaXMuYmxlbmRSZXF1aXJlZCA9IG9wdGlvbnMuYmxlbmRSZXF1aXJlZDtcbiAgICB0aGlzLmNsaXBUb1ZpZXdwb3J0ID0gb3B0aW9ucy5jbGlwVG9WaWV3cG9ydDtcbiAgICB0aGlzLmFkZFJlc291cmNlKFwidVRleHR1cmVcIiwgMCwgMSk7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgKiBAcGFyYW0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICogQHBhcmFtIGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAqIEBwYXJhbSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICogQHBhcmFtIGNsZWFyTW9kZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgKi9cbiAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGJsZW5kIG1vZGUgb2YgdGhlIGZpbHRlci5cbiAgICogQGRlZmF1bHQgXCJub3JtYWxcIlxuICAgKi9cbiAgZ2V0IGJsZW5kTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGUuYmxlbmRNb2RlO1xuICB9XG4gIC8qKiBTZXRzIHRoZSBibGVuZCBtb2RlIG9mIHRoZSBmaWx0ZXIuICovXG4gIHNldCBibGVuZE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLl9zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogQSBzaG9ydCBoYW5kIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIGZpbHRlciBiYXNlZCBvZiBhIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVyIHNyYy5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHJldHVybnMgQSBzaGlueSBuZXcgUGl4aUpTIGZpbHRlciFcbiAgICovXG4gIHN0YXRpYyBmcm9tKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGdwdSwgZ2wsIC4uLnJlc3QgfSA9IG9wdGlvbnM7XG4gICAgbGV0IGdwdVByb2dyYW07XG4gICAgbGV0IGdsUHJvZ3JhbTtcbiAgICBpZiAoZ3B1KSB7XG4gICAgICBncHVQcm9ncmFtID0gR3B1UHJvZ3JhbS5mcm9tKGdwdSk7XG4gICAgfVxuICAgIGlmIChnbCkge1xuICAgICAgZ2xQcm9ncmFtID0gR2xQcm9ncmFtLmZyb20oZ2wpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IF9GaWx0ZXIoe1xuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIGdsUHJvZ3JhbSxcbiAgICAgIC4uLnJlc3RcbiAgICB9KTtcbiAgfVxufTtcbi8qKiBUaGUgZGVmYXVsdCBmaWx0ZXIgc2V0dGluZ3MgKi9cbl9GaWx0ZXIuZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGJsZW5kTW9kZTogXCJub3JtYWxcIixcbiAgcmVzb2x1dGlvbjogMSxcbiAgcGFkZGluZzogMCxcbiAgYW50aWFsaWFzOiBcIm9mZlwiLFxuICBibGVuZFJlcXVpcmVkOiBmYWxzZSxcbiAgY2xpcFRvVmlld3BvcnQ6IHRydWVcbn07XG5sZXQgRmlsdGVyID0gX0ZpbHRlcjtcblxuZXhwb3J0IHsgRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWx0ZXIubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJpbiB2ZWMyIHZNYXNrQ29vcmQ7XFxuaW4gdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVNYXNrVGV4dHVyZTtcXG5cXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG51bmlmb3JtIHZlYzQgdU1hc2tDbGFtcDtcXG51bmlmb3JtIGZsb2F0IHVJbnZlcnNlO1xcblxcbm91dCB2ZWM0IGZpbmFsQ29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBmbG9hdCBjbGlwID0gc3RlcCgzLjUsXFxuICAgICAgICBzdGVwKHVNYXNrQ2xhbXAueCwgdk1hc2tDb29yZC54KSArXFxuICAgICAgICBzdGVwKHVNYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueCwgdU1hc2tDbGFtcC56KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueSwgdU1hc2tDbGFtcC53KSk7XFxuXFxuICAgIC8vIFRPRE8gbG9vayBpbnRvIHdoeSB0aGlzIGlzIG5lZWRlZFxcbiAgICBmbG9hdCBucG1BbHBoYSA9IHVBbHBoYTtcXG4gICAgdmVjNCBvcmlnaW5hbCA9IHRleHR1cmUodVRleHR1cmUsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZSh1TWFza1RleHR1cmUsIHZNYXNrQ29vcmQpO1xcbiAgICBmbG9hdCBhbHBoYU11bCA9IDEuMCAtIG5wbUFscGhhICogKDEuMCAtIG1hc2t5LmEpO1xcblxcbiAgICBmbG9hdCBhID0gYWxwaGFNdWwgKiBtYXNreS5yICogbnBtQWxwaGEgKiBjbGlwO1xcblxcbiAgICBpZiAodUludmVyc2UgPT0gMS4wKSB7XFxuICAgICAgICBhID0gMS4wIC0gYTtcXG4gICAgfVxcblxcbiAgICBmaW5hbENvbG9yID0gb3JpZ2luYWwgKiBhO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFzay5mcmFnLm1qcy5tYXBcbiIsInZhciBzb3VyY2UgPSBcInN0cnVjdCBHbG9iYWxGaWx0ZXJVbmlmb3JtcyB7XFxuICB1SW5wdXRTaXplOnZlYzQ8ZjMyPixcXG4gIHVJbnB1dFBpeGVsOnZlYzQ8ZjMyPixcXG4gIHVJbnB1dENsYW1wOnZlYzQ8ZjMyPixcXG4gIHVPdXRwdXRGcmFtZTp2ZWM0PGYzMj4sXFxuICB1R2xvYmFsRnJhbWU6dmVjNDxmMzI+LFxcbiAgdU91dHB1dFRleHR1cmU6dmVjNDxmMzI+LFxcbn07XFxuXFxuc3RydWN0IE1hc2tVbmlmb3JtcyB7XFxuICB1RmlsdGVyTWF0cml4Om1hdDN4MzxmMzI+LFxcbiAgdU1hc2tDbGFtcDp2ZWM0PGYzMj4sXFxuICB1QWxwaGE6ZjMyLFxcbiAgdUludmVyc2U6ZjMyLFxcbn07XFxuXFxuQGdyb3VwKDApIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiBnZnU6IEdsb2JhbEZpbHRlclVuaWZvcm1zO1xcbkBncm91cCgwKSBAYmluZGluZygxKSB2YXIgdVRleHR1cmU6IHRleHR1cmVfMmQ8ZjMyPjtcXG5AZ3JvdXAoMCkgQGJpbmRpbmcoMikgdmFyIHVTYW1wbGVyIDogc2FtcGxlcjtcXG5cXG5AZ3JvdXAoMSkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGZpbHRlclVuaWZvcm1zIDogTWFza1VuaWZvcm1zO1xcbkBncm91cCgxKSBAYmluZGluZygxKSB2YXIgdU1hc2tUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XFxuXFxuc3RydWN0IFZTT3V0cHV0IHtcXG4gICAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0PGYzMj4sXFxuICAgIEBsb2NhdGlvbigwKSB1diA6IHZlYzI8ZjMyPixcXG4gICAgQGxvY2F0aW9uKDEpIGZpbHRlclV2IDogdmVjMjxmMzI+LFxcbn07XFxuXFxuZm4gZmlsdGVyVmVydGV4UG9zaXRpb24oYVBvc2l0aW9uOnZlYzI8ZjMyPikgLT4gdmVjNDxmMzI+XFxue1xcbiAgICB2YXIgcG9zaXRpb24gPSBhUG9zaXRpb24gKiBnZnUudU91dHB1dEZyYW1lLnp3ICsgZ2Z1LnVPdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcG9zaXRpb24ueCA9IHBvc2l0aW9uLnggKiAoMi4wIC8gZ2Z1LnVPdXRwdXRUZXh0dXJlLngpIC0gMS4wO1xcbiAgICBwb3NpdGlvbi55ID0gcG9zaXRpb24ueSAqICgyLjAqZ2Z1LnVPdXRwdXRUZXh0dXJlLnogLyBnZnUudU91dHB1dFRleHR1cmUueSkgLSBnZnUudU91dHB1dFRleHR1cmUuejtcXG5cXG4gICAgcmV0dXJuIHZlYzQocG9zaXRpb24sIDAuMCwgMS4wKTtcXG59XFxuXFxuZm4gZmlsdGVyVGV4dHVyZUNvb3JkKCBhUG9zaXRpb246dmVjMjxmMzI+ICkgLT4gdmVjMjxmMzI+XFxue1xcbiAgICByZXR1cm4gYVBvc2l0aW9uICogKGdmdS51T3V0cHV0RnJhbWUuencgKiBnZnUudUlucHV0U2l6ZS56dyk7XFxufVxcblxcbmZuIGdsb2JhbFRleHR1cmVDb29yZCggYVBvc2l0aW9uOnZlYzI8ZjMyPiApIC0+IHZlYzI8ZjMyPlxcbntcXG4gIHJldHVybiAgKGFQb3NpdGlvbi54eSAvIGdmdS51R2xvYmFsRnJhbWUuencpICsgKGdmdS51R2xvYmFsRnJhbWUueHkgLyBnZnUudUdsb2JhbEZyYW1lLnp3KTtcXG59XFxuXFxuZm4gZ2V0RmlsdGVyQ29vcmQoYVBvc2l0aW9uOnZlYzI8ZjMyPiApIC0+IHZlYzI8ZjMyPlxcbntcXG4gIHJldHVybiAoIGZpbHRlclVuaWZvcm1zLnVGaWx0ZXJNYXRyaXggKiB2ZWMzKCBmaWx0ZXJUZXh0dXJlQ29vcmQoYVBvc2l0aW9uKSwgMS4wKSAgKS54eTtcXG59XFxuXFxuZm4gZ2V0U2l6ZSgpIC0+IHZlYzI8ZjMyPlxcbntcXG4gIHJldHVybiBnZnUudUdsb2JhbEZyYW1lLnp3O1xcbn1cXG5cXG5AdmVydGV4XFxuZm4gbWFpblZlcnRleChcXG4gIEBsb2NhdGlvbigwKSBhUG9zaXRpb24gOiB2ZWMyPGYzMj4sXFxuKSAtPiBWU091dHB1dCB7XFxuICByZXR1cm4gVlNPdXRwdXQoXFxuICAgZmlsdGVyVmVydGV4UG9zaXRpb24oYVBvc2l0aW9uKSxcXG4gICBmaWx0ZXJUZXh0dXJlQ29vcmQoYVBvc2l0aW9uKSxcXG4gICBnZXRGaWx0ZXJDb29yZChhUG9zaXRpb24pXFxuICApO1xcbn1cXG5cXG5AZnJhZ21lbnRcXG5mbiBtYWluRnJhZ21lbnQoXFxuICBAbG9jYXRpb24oMCkgdXY6IHZlYzI8ZjMyPixcXG4gIEBsb2NhdGlvbigxKSBmaWx0ZXJVdjogdmVjMjxmMzI+LFxcbiAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0PGYzMj5cXG4pIC0+IEBsb2NhdGlvbigwKSB2ZWM0PGYzMj4ge1xcblxcbiAgICB2YXIgbWFza0NsYW1wID0gZmlsdGVyVW5pZm9ybXMudU1hc2tDbGFtcDtcXG4gICAgdmFyIHVBbHBoYSA9IGZpbHRlclVuaWZvcm1zLnVBbHBoYTtcXG5cXG4gICAgdmFyIGNsaXAgPSBzdGVwKDMuNSxcXG4gICAgICBzdGVwKG1hc2tDbGFtcC54LCBmaWx0ZXJVdi54KSArXFxuICAgICAgc3RlcChtYXNrQ2xhbXAueSwgZmlsdGVyVXYueSkgK1xcbiAgICAgIHN0ZXAoZmlsdGVyVXYueCwgbWFza0NsYW1wLnopICtcXG4gICAgICBzdGVwKGZpbHRlclV2LnksIG1hc2tDbGFtcC53KSk7XFxuXFxuICAgIHZhciBtYXNrID0gdGV4dHVyZVNhbXBsZSh1TWFza1RleHR1cmUsIHVTYW1wbGVyLCBmaWx0ZXJVdik7XFxuICAgIHZhciBzb3VyY2UgPSB0ZXh0dXJlU2FtcGxlKHVUZXh0dXJlLCB1U2FtcGxlciwgdXYpO1xcbiAgICB2YXIgYWxwaGFNdWwgPSAxLjAgLSB1QWxwaGEgKiAoMS4wIC0gbWFzay5hKTtcXG5cXG4gICAgdmFyIGE6IGYzMiA9IGFscGhhTXVsICogbWFzay5yICogdUFscGhhICogY2xpcDtcXG5cXG4gICAgaWYgKGZpbHRlclVuaWZvcm1zLnVJbnZlcnNlID09IDEuMCkge1xcbiAgICAgICAgYSA9IDEuMCAtIGE7XFxuICAgIH1cXG5cXG4gICAgcmV0dXJuIHNvdXJjZSAqIGE7XFxufVxcblwiO1xuXG5leHBvcnQgeyBzb3VyY2UgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFzay53Z3NsLm1qcy5tYXBcbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IEdsUHJvZ3JhbSB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ2wvc2hhZGVyL0dsUHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgR3B1UHJvZ3JhbSB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci9HcHVQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBVbmlmb3JtR3JvdXAgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvVW5pZm9ybUdyb3VwLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlTWF0cml4IH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuLi9GaWx0ZXIubWpzJztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL21hc2suZnJhZy5tanMnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuL21hc2sudmVydC5tanMnO1xuaW1wb3J0IHNvdXJjZSBmcm9tICcuL21hc2sud2dzbC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIE1hc2tGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgY29uc3QgeyBzcHJpdGUsIC4uLnJlc3QgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgdGV4dHVyZU1hdHJpeCA9IG5ldyBUZXh0dXJlTWF0cml4KHNwcml0ZS50ZXh0dXJlKTtcbiAgICBjb25zdCBmaWx0ZXJVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgdUZpbHRlck1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgIHVNYXNrQ2xhbXA6IHsgdmFsdWU6IHRleHR1cmVNYXRyaXgudUNsYW1wRnJhbWUsIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVBbHBoYTogeyB2YWx1ZTogMSwgdHlwZTogXCJmMzJcIiB9LFxuICAgICAgdUludmVyc2U6IHsgdmFsdWU6IG9wdGlvbnMuaW52ZXJzZSA/IDEgOiAwLCB0eXBlOiBcImYzMlwiIH1cbiAgICB9KTtcbiAgICBjb25zdCBncHVQcm9ncmFtID0gR3B1UHJvZ3JhbS5mcm9tKHtcbiAgICAgIHZlcnRleDoge1xuICAgICAgICBzb3VyY2UsXG4gICAgICAgIGVudHJ5UG9pbnQ6IFwibWFpblZlcnRleFwiXG4gICAgICB9LFxuICAgICAgZnJhZ21lbnQ6IHtcbiAgICAgICAgc291cmNlLFxuICAgICAgICBlbnRyeVBvaW50OiBcIm1haW5GcmFnbWVudFwiXG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgZ2xQcm9ncmFtID0gR2xQcm9ncmFtLmZyb20oe1xuICAgICAgdmVydGV4LFxuICAgICAgZnJhZ21lbnQsXG4gICAgICBuYW1lOiBcIm1hc2stZmlsdGVyXCJcbiAgICB9KTtcbiAgICBzdXBlcih7XG4gICAgICAuLi5yZXN0LFxuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIGdsUHJvZ3JhbSxcbiAgICAgIGNsaXBUb1ZpZXdwb3J0OiBmYWxzZSxcbiAgICAgIHJlc291cmNlczoge1xuICAgICAgICBmaWx0ZXJVbmlmb3JtcyxcbiAgICAgICAgdU1hc2tUZXh0dXJlOiBzcHJpdGUudGV4dHVyZS5zb3VyY2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnNwcml0ZSA9IHNwcml0ZTtcbiAgICB0aGlzLl90ZXh0dXJlTWF0cml4ID0gdGV4dHVyZU1hdHJpeDtcbiAgfVxuICBzZXQgaW52ZXJzZSh2YWx1ZSkge1xuICAgIHRoaXMucmVzb3VyY2VzLmZpbHRlclVuaWZvcm1zLnVuaWZvcm1zLnVJbnZlcnNlID0gdmFsdWUgPyAxIDogMDtcbiAgfVxuICBnZXQgaW52ZXJzZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvdXJjZXMuZmlsdGVyVW5pZm9ybXMudW5pZm9ybXMudUludmVyc2UgPT09IDE7XG4gIH1cbiAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgdGhpcy5fdGV4dHVyZU1hdHJpeC50ZXh0dXJlID0gdGhpcy5zcHJpdGUudGV4dHVyZTtcbiAgICBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeChcbiAgICAgIHRoaXMucmVzb3VyY2VzLmZpbHRlclVuaWZvcm1zLnVuaWZvcm1zLnVGaWx0ZXJNYXRyaXgsXG4gICAgICB0aGlzLnNwcml0ZVxuICAgICkucHJlcGVuZCh0aGlzLl90ZXh0dXJlTWF0cml4Lm1hcENvb3JkKTtcbiAgICB0aGlzLnJlc291cmNlcy51TWFza1RleHR1cmUgPSB0aGlzLnNwcml0ZS50ZXh0dXJlLnNvdXJjZTtcbiAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgTWFza0ZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFza0ZpbHRlci5tanMubWFwXG4iLCJ2YXIgdmVydGV4ID0gXCJpbiB2ZWMyIGFQb3NpdGlvbjtcXG5cXG5vdXQgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbm91dCB2ZWMyIHZNYXNrQ29vcmQ7XFxuXFxuXFxudW5pZm9ybSB2ZWM0IHVJbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IHVPdXRwdXRGcmFtZTtcXG51bmlmb3JtIHZlYzQgdU91dHB1dFRleHR1cmU7XFxudW5pZm9ybSBtYXQzIHVGaWx0ZXJNYXRyaXg7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggIHZlYzIgYVBvc2l0aW9uIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhUG9zaXRpb24gKiB1T3V0cHV0RnJhbWUuencgKyB1T3V0cHV0RnJhbWUueHk7XFxuICAgICAgIFxcbiAgICBwb3NpdGlvbi54ID0gcG9zaXRpb24ueCAqICgyLjAgLyB1T3V0cHV0VGV4dHVyZS54KSAtIDEuMDtcXG4gICAgcG9zaXRpb24ueSA9IHBvc2l0aW9uLnkgKiAoMi4wKnVPdXRwdXRUZXh0dXJlLnogLyB1T3V0cHV0VGV4dHVyZS55KSAtIHVPdXRwdXRUZXh0dXJlLno7XFxuXFxuICAgIHJldHVybiB2ZWM0KHBvc2l0aW9uLCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCAgdmVjMiBhUG9zaXRpb24gKVxcbntcXG4gICAgcmV0dXJuIGFQb3NpdGlvbiAqICh1T3V0cHV0RnJhbWUuencgKiB1SW5wdXRTaXplLnp3KTtcXG59XFxuXFxudmVjMiBnZXRGaWx0ZXJDb29yZCggdmVjMiBhUG9zaXRpb24gKVxcbntcXG4gICAgcmV0dXJuICAoIHVGaWx0ZXJNYXRyaXggKiB2ZWMzKCBmaWx0ZXJUZXh0dXJlQ29vcmQoYVBvc2l0aW9uKSwgMS4wKSAgKS54eTtcXG59ICAgXFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKGFQb3NpdGlvbik7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoYVBvc2l0aW9uKTtcXG4gICAgdk1hc2tDb29yZCA9IGdldEZpbHRlckNvb3JkKGFQb3NpdGlvbik7XFxufVxcblwiO1xuXG5leHBvcnQgeyB2ZXJ0ZXggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFzay52ZXJ0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEZpbHRlckVmZmVjdCB9IGZyb20gJy4uLy4uLy4uL2ZpbHRlcnMvRmlsdGVyRWZmZWN0Lm1qcyc7XG5pbXBvcnQgeyBNYXNrRmlsdGVyIH0gZnJvbSAnLi4vLi4vLi4vZmlsdGVycy9tYXNrL01hc2tGaWx0ZXIubWpzJztcbmltcG9ydCB7IEJvdW5kcyB9IGZyb20gJy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci9ib3VuZHMvQm91bmRzLm1qcyc7XG5pbXBvcnQgeyBnZXRHbG9iYWxCb3VuZHMgfSBmcm9tICcuLi8uLi8uLi9zY2VuZS9jb250YWluZXIvYm91bmRzL2dldEdsb2JhbEJvdW5kcy5tanMnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnLi4vLi4vLi4vc2NlbmUvc3ByaXRlL1Nwcml0ZS5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IFRleHR1cmVQb29sIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVQb29sLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJlclR5cGUgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvdHlwZXMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZW1wQm91bmRzID0gbmV3IEJvdW5kcygpO1xuY2xhc3MgQWxwaGFNYXNrRWZmZWN0IGV4dGVuZHMgRmlsdGVyRWZmZWN0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmZpbHRlcnMgPSBbbmV3IE1hc2tGaWx0ZXIoe1xuICAgICAgc3ByaXRlOiBuZXcgU3ByaXRlKFRleHR1cmUuRU1QVFkpLFxuICAgICAgaW52ZXJzZTogZmFsc2UsXG4gICAgICByZXNvbHV0aW9uOiBcImluaGVyaXRcIixcbiAgICAgIGFudGlhbGlhczogXCJpbmhlcml0XCJcbiAgICB9KV07XG4gIH1cbiAgZ2V0IHNwcml0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJzWzBdLnNwcml0ZTtcbiAgfVxuICBzZXQgc3ByaXRlKHZhbHVlKSB7XG4gICAgdGhpcy5maWx0ZXJzWzBdLnNwcml0ZSA9IHZhbHVlO1xuICB9XG4gIGdldCBpbnZlcnNlKCkge1xuICAgIHJldHVybiB0aGlzLmZpbHRlcnNbMF0uaW52ZXJzZTtcbiAgfVxuICBzZXQgaW52ZXJzZSh2YWx1ZSkge1xuICAgIHRoaXMuZmlsdGVyc1swXS5pbnZlcnNlID0gdmFsdWU7XG4gIH1cbn1cbmNsYXNzIEFscGhhTWFza1BpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2FjdGl2ZU1hc2tTdGFnZSA9IFtdO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcHVzaChtYXNrLCBtYXNrZWRDb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJhbHBoYU1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwdXNoTWFza0JlZ2luXCIsXG4gICAgICBtYXNrLFxuICAgICAgaW52ZXJzZTogbWFza2VkQ29udGFpbmVyLl9tYXNrT3B0aW9ucy5pbnZlcnNlLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZSxcbiAgICAgIG1hc2tlZENvbnRhaW5lclxuICAgIH0pO1xuICAgIG1hc2suaW52ZXJzZSA9IG1hc2tlZENvbnRhaW5lci5fbWFza09wdGlvbnMuaW52ZXJzZTtcbiAgICBpZiAobWFzay5yZW5kZXJNYXNrVG9UZXh0dXJlKSB7XG4gICAgICBjb25zdCBtYXNrQ29udGFpbmVyID0gbWFzay5tYXNrO1xuICAgICAgbWFza0NvbnRhaW5lci5pbmNsdWRlSW5CdWlsZCA9IHRydWU7XG4gICAgICBtYXNrQ29udGFpbmVyLmNvbGxlY3RSZW5kZXJhYmxlcyhcbiAgICAgICAgaW5zdHJ1Y3Rpb25TZXQsXG4gICAgICAgIHJlbmRlcmVyLFxuICAgICAgICBudWxsXG4gICAgICApO1xuICAgICAgbWFza0NvbnRhaW5lci5pbmNsdWRlSW5CdWlsZCA9IGZhbHNlO1xuICAgIH1cbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJhbHBoYU1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwdXNoTWFza0VuZFwiLFxuICAgICAgbWFzayxcbiAgICAgIG1hc2tlZENvbnRhaW5lcixcbiAgICAgIGludmVyc2U6IG1hc2tlZENvbnRhaW5lci5fbWFza09wdGlvbnMuaW52ZXJzZSxcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICB9KTtcbiAgfVxuICBwb3AobWFzaywgX21hc2tlZENvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcImFscGhhTWFza1wiLFxuICAgICAgYWN0aW9uOiBcInBvcE1hc2tFbmRcIixcbiAgICAgIG1hc2ssXG4gICAgICBpbnZlcnNlOiBfbWFza2VkQ29udGFpbmVyLl9tYXNrT3B0aW9ucy5pbnZlcnNlLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICB9XG4gIGV4ZWN1dGUoaW5zdHJ1Y3Rpb24pIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIGNvbnN0IHJlbmRlck1hc2sgPSBpbnN0cnVjdGlvbi5tYXNrLnJlbmRlck1hc2tUb1RleHR1cmU7XG4gICAgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwdXNoTWFza0JlZ2luXCIpIHtcbiAgICAgIGNvbnN0IGZpbHRlckVmZmVjdCA9IEJpZ1Bvb2wuZ2V0KEFscGhhTWFza0VmZmVjdCk7XG4gICAgICBmaWx0ZXJFZmZlY3QuaW52ZXJzZSA9IGluc3RydWN0aW9uLmludmVyc2U7XG4gICAgICBpZiAocmVuZGVyTWFzaykge1xuICAgICAgICBpbnN0cnVjdGlvbi5tYXNrLm1hc2subWVhc3VyYWJsZSA9IHRydWU7XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IGdldEdsb2JhbEJvdW5kcyhpbnN0cnVjdGlvbi5tYXNrLm1hc2ssIHRydWUsIHRlbXBCb3VuZHMpO1xuICAgICAgICBpbnN0cnVjdGlvbi5tYXNrLm1hc2subWVhc3VyYWJsZSA9IGZhbHNlO1xuICAgICAgICBib3VuZHMuY2VpbCgpO1xuICAgICAgICBjb25zdCBjb2xvclRleHR1cmVTb3VyY2UgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0LmNvbG9yVGV4dHVyZS5zb3VyY2U7XG4gICAgICAgIGNvbnN0IGZpbHRlclRleHR1cmUgPSBUZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShcbiAgICAgICAgICBib3VuZHMud2lkdGgsXG4gICAgICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgICAgICBjb2xvclRleHR1cmVTb3VyY2UuX3Jlc29sdXRpb24sXG4gICAgICAgICAgY29sb3JUZXh0dXJlU291cmNlLmFudGlhbGlhc1xuICAgICAgICApO1xuICAgICAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQucHVzaChmaWx0ZXJUZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMucHVzaCh7XG4gICAgICAgICAgb2Zmc2V0OiBib3VuZHMsXG4gICAgICAgICAgd29ybGRDb2xvcjogNDI5NDk2NzI5NVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3ByaXRlID0gZmlsdGVyRWZmZWN0LnNwcml0ZTtcbiAgICAgICAgc3ByaXRlLnRleHR1cmUgPSBmaWx0ZXJUZXh0dXJlO1xuICAgICAgICBzcHJpdGUud29ybGRUcmFuc2Zvcm0udHggPSBib3VuZHMubWluWDtcbiAgICAgICAgc3ByaXRlLndvcmxkVHJhbnNmb3JtLnR5ID0gYm91bmRzLm1pblk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZU1hc2tTdGFnZS5wdXNoKHtcbiAgICAgICAgICBmaWx0ZXJFZmZlY3QsXG4gICAgICAgICAgbWFza2VkQ29udGFpbmVyOiBpbnN0cnVjdGlvbi5tYXNrZWRDb250YWluZXIsXG4gICAgICAgICAgZmlsdGVyVGV4dHVyZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlckVmZmVjdC5zcHJpdGUgPSBpbnN0cnVjdGlvbi5tYXNrLm1hc2s7XG4gICAgICAgIHRoaXMuX2FjdGl2ZU1hc2tTdGFnZS5wdXNoKHtcbiAgICAgICAgICBmaWx0ZXJFZmZlY3QsXG4gICAgICAgICAgbWFza2VkQ29udGFpbmVyOiBpbnN0cnVjdGlvbi5tYXNrZWRDb250YWluZXJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicHVzaE1hc2tFbmRcIikge1xuICAgICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLl9hY3RpdmVNYXNrU3RhZ2VbdGhpcy5fYWN0aXZlTWFza1N0YWdlLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKHJlbmRlck1hc2spIHtcbiAgICAgICAgaWYgKHJlbmRlcmVyLnR5cGUgPT09IFJlbmRlcmVyVHlwZS5XRUJHTCkge1xuICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5maW5pc2hSZW5kZXJQYXNzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnBvcCgpO1xuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJlbmRlcmVyLmZpbHRlci5wdXNoKHtcbiAgICAgICAgcmVuZGVyUGlwZUlkOiBcImZpbHRlclwiLFxuICAgICAgICBhY3Rpb246IFwicHVzaEZpbHRlclwiLFxuICAgICAgICBjb250YWluZXI6IG1hc2tEYXRhLm1hc2tlZENvbnRhaW5lcixcbiAgICAgICAgZmlsdGVyRWZmZWN0OiBtYXNrRGF0YS5maWx0ZXJFZmZlY3QsXG4gICAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24uYWN0aW9uID09PSBcInBvcE1hc2tFbmRcIikge1xuICAgICAgcmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLl9hY3RpdmVNYXNrU3RhZ2UucG9wKCk7XG4gICAgICBpZiAocmVuZGVyTWFzaykge1xuICAgICAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKG1hc2tEYXRhLmZpbHRlclRleHR1cmUpO1xuICAgICAgfVxuICAgICAgQmlnUG9vbC5yZXR1cm4obWFza0RhdGEuZmlsdGVyRWZmZWN0KTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fYWN0aXZlTWFza1N0YWdlID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkFscGhhTWFza1BpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImFscGhhTWFza1wiXG59O1xuXG5leHBvcnQgeyBBbHBoYU1hc2tQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbHBoYU1hc2tQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBDb2xvck1hc2tQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9jb2xvclN0YWNrID0gW107XG4gICAgdGhpcy5fY29sb3JTdGFja0luZGV4ID0gMDtcbiAgICB0aGlzLl9jdXJyZW50Q29sb3IgPSAwO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgYnVpbGRTdGFydCgpIHtcbiAgICB0aGlzLl9jb2xvclN0YWNrWzBdID0gMTU7XG4gICAgdGhpcy5fY29sb3JTdGFja0luZGV4ID0gMTtcbiAgICB0aGlzLl9jdXJyZW50Q29sb3IgPSAxNTtcbiAgfVxuICBwdXNoKG1hc2ssIF9jb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgY29uc3QgY29sb3JTdGFjayA9IHRoaXMuX2NvbG9yU3RhY2s7XG4gICAgY29sb3JTdGFja1t0aGlzLl9jb2xvclN0YWNrSW5kZXhdID0gY29sb3JTdGFja1t0aGlzLl9jb2xvclN0YWNrSW5kZXggLSAxXSAmIG1hc2subWFzaztcbiAgICBjb25zdCBjdXJyZW50Q29sb3IgPSB0aGlzLl9jb2xvclN0YWNrW3RoaXMuX2NvbG9yU3RhY2tJbmRleF07XG4gICAgaWYgKGN1cnJlbnRDb2xvciAhPT0gdGhpcy5fY3VycmVudENvbG9yKSB7XG4gICAgICB0aGlzLl9jdXJyZW50Q29sb3IgPSBjdXJyZW50Q29sb3I7XG4gICAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgICByZW5kZXJQaXBlSWQ6IFwiY29sb3JNYXNrXCIsXG4gICAgICAgIGNvbG9yTWFzazogY3VycmVudENvbG9yLFxuICAgICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fY29sb3JTdGFja0luZGV4Kys7XG4gIH1cbiAgcG9wKF9tYXNrLCBfY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGNvbnN0IGNvbG9yU3RhY2sgPSB0aGlzLl9jb2xvclN0YWNrO1xuICAgIHRoaXMuX2NvbG9yU3RhY2tJbmRleC0tO1xuICAgIGNvbnN0IGN1cnJlbnRDb2xvciA9IGNvbG9yU3RhY2tbdGhpcy5fY29sb3JTdGFja0luZGV4IC0gMV07XG4gICAgaWYgKGN1cnJlbnRDb2xvciAhPT0gdGhpcy5fY3VycmVudENvbG9yKSB7XG4gICAgICB0aGlzLl9jdXJyZW50Q29sb3IgPSBjdXJyZW50Q29sb3I7XG4gICAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgICByZW5kZXJQaXBlSWQ6IFwiY29sb3JNYXNrXCIsXG4gICAgICAgIGNvbG9yTWFzazogY3VycmVudENvbG9yLFxuICAgICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZXhlY3V0ZShpbnN0cnVjdGlvbikge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIuY29sb3JNYXNrLnNldE1hc2soaW5zdHJ1Y3Rpb24uY29sb3JNYXNrKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX2NvbG9yU3RhY2sgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuQ29sb3JNYXNrUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiY29sb3JNYXNrXCJcbn07XG5cbmV4cG9ydCB7IENvbG9yTWFza1BpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbG9yTWFza1BpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQ0xFQVIgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvZ2wvY29uc3QubWpzJztcbmltcG9ydCB7IFNURU5DSUxfTU9ERVMgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL2NvbnN0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgU3RlbmNpbE1hc2tQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICAvLyB1c2VkIHdoZW4gYnVpbGRpbmcgYW5kIGFsc28gd2hlbiBleGVjdXRpbmcuLlxuICAgIHRoaXMuX21hc2tTdGFja0hhc2ggPSB7fTtcbiAgICB0aGlzLl9tYXNrSGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcHVzaChtYXNrLCBfY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBlZmZlY3QgPSBtYXNrO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJsZW5kTW9kZS5zZXRCbGVuZE1vZGUoZWZmZWN0Lm1hc2ssIFwibm9uZVwiLCBpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJzdGVuY2lsTWFza1wiLFxuICAgICAgYWN0aW9uOiBcInB1c2hNYXNrQmVnaW5cIixcbiAgICAgIG1hc2ssXG4gICAgICBpbnZlcnNlOiBfY29udGFpbmVyLl9tYXNrT3B0aW9ucy5pbnZlcnNlLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICAgIGNvbnN0IG1hc2tDb250YWluZXIgPSBlZmZlY3QubWFzaztcbiAgICBtYXNrQ29udGFpbmVyLmluY2x1ZGVJbkJ1aWxkID0gdHJ1ZTtcbiAgICBpZiAoIXRoaXMuX21hc2tIYXNoLmhhcyhlZmZlY3QpKSB7XG4gICAgICB0aGlzLl9tYXNrSGFzaC5zZXQoZWZmZWN0LCB7XG4gICAgICAgIGluc3RydWN0aW9uc1N0YXJ0OiAwLFxuICAgICAgICBpbnN0cnVjdGlvbnNMZW5ndGg6IDBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBtYXNrRGF0YSA9IHRoaXMuX21hc2tIYXNoLmdldChlZmZlY3QpO1xuICAgIG1hc2tEYXRhLmluc3RydWN0aW9uc1N0YXJ0ID0gaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25TaXplO1xuICAgIG1hc2tDb250YWluZXIuY29sbGVjdFJlbmRlcmFibGVzKFxuICAgICAgaW5zdHJ1Y3Rpb25TZXQsXG4gICAgICByZW5kZXJlcixcbiAgICAgIG51bGxcbiAgICApO1xuICAgIG1hc2tDb250YWluZXIuaW5jbHVkZUluQnVpbGQgPSBmYWxzZTtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJzdGVuY2lsTWFza1wiLFxuICAgICAgYWN0aW9uOiBcInB1c2hNYXNrRW5kXCIsXG4gICAgICBtYXNrLFxuICAgICAgaW52ZXJzZTogX2NvbnRhaW5lci5fbWFza09wdGlvbnMuaW52ZXJzZSxcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICB9KTtcbiAgICBjb25zdCBpbnN0cnVjdGlvbnNMZW5ndGggPSBpbnN0cnVjdGlvblNldC5pbnN0cnVjdGlvblNpemUgLSBtYXNrRGF0YS5pbnN0cnVjdGlvbnNTdGFydCAtIDE7XG4gICAgbWFza0RhdGEuaW5zdHJ1Y3Rpb25zTGVuZ3RoID0gaW5zdHJ1Y3Rpb25zTGVuZ3RoO1xuICAgIGNvbnN0IHJlbmRlclRhcmdldFVpZCA9IHJlbmRlcmVyLnJlbmRlclRhcmdldC5yZW5kZXJUYXJnZXQudWlkO1xuICAgIChfYSA9IHRoaXMuX21hc2tTdGFja0hhc2gpW3JlbmRlclRhcmdldFVpZF0gPz8gKF9hW3JlbmRlclRhcmdldFVpZF0gPSAwKTtcbiAgfVxuICBwb3AobWFzaywgX2NvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBlZmZlY3QgPSBtYXNrO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJsZW5kTW9kZS5zZXRCbGVuZE1vZGUoZWZmZWN0Lm1hc2ssIFwibm9uZVwiLCBpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJzdGVuY2lsTWFza1wiLFxuICAgICAgYWN0aW9uOiBcInBvcE1hc2tCZWdpblwiLFxuICAgICAgaW52ZXJzZTogX2NvbnRhaW5lci5fbWFza09wdGlvbnMuaW52ZXJzZSxcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICB9KTtcbiAgICBjb25zdCBtYXNrRGF0YSA9IHRoaXMuX21hc2tIYXNoLmdldChtYXNrKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hc2tEYXRhLmluc3RydWN0aW9uc0xlbmd0aDsgaSsrKSB7XG4gICAgICBpbnN0cnVjdGlvblNldC5pbnN0cnVjdGlvbnNbaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25TaXplKytdID0gaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25zW21hc2tEYXRhLmluc3RydWN0aW9uc1N0YXJ0KytdO1xuICAgIH1cbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcInN0ZW5jaWxNYXNrXCIsXG4gICAgICBhY3Rpb246IFwicG9wTWFza0VuZFwiLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICB9XG4gIGV4ZWN1dGUoaW5zdHJ1Y3Rpb24pIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICBjb25zdCByZW5kZXJUYXJnZXRVaWQgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0LnVpZDtcbiAgICBsZXQgbWFza1N0YWNrSW5kZXggPSAoX2EgPSB0aGlzLl9tYXNrU3RhY2tIYXNoKVtyZW5kZXJUYXJnZXRVaWRdID8/IChfYVtyZW5kZXJUYXJnZXRVaWRdID0gMCk7XG4gICAgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwdXNoTWFza0JlZ2luXCIpIHtcbiAgICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5lbnN1cmVEZXB0aFN0ZW5jaWwoKTtcbiAgICAgIHJlbmRlcmVyLnN0ZW5jaWwuc2V0U3RlbmNpbE1vZGUoU1RFTkNJTF9NT0RFUy5SRU5ERVJJTkdfTUFTS19BREQsIG1hc2tTdGFja0luZGV4KTtcbiAgICAgIG1hc2tTdGFja0luZGV4Kys7XG4gICAgICByZW5kZXJlci5jb2xvck1hc2suc2V0TWFzaygwKTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwdXNoTWFza0VuZFwiKSB7XG4gICAgICBpZiAoaW5zdHJ1Y3Rpb24uaW52ZXJzZSkge1xuICAgICAgICByZW5kZXJlci5zdGVuY2lsLnNldFN0ZW5jaWxNb2RlKFNURU5DSUxfTU9ERVMuSU5WRVJTRV9NQVNLX0FDVElWRSwgbWFza1N0YWNrSW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyZXIuc3RlbmNpbC5zZXRTdGVuY2lsTW9kZShTVEVOQ0lMX01PREVTLk1BU0tfQUNUSVZFLCBtYXNrU3RhY2tJbmRleCk7XG4gICAgICB9XG4gICAgICByZW5kZXJlci5jb2xvck1hc2suc2V0TWFzaygxNSk7XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicG9wTWFza0JlZ2luXCIpIHtcbiAgICAgIHJlbmRlcmVyLmNvbG9yTWFzay5zZXRNYXNrKDApO1xuICAgICAgaWYgKG1hc2tTdGFja0luZGV4ICE9PSAwKSB7XG4gICAgICAgIHJlbmRlcmVyLnN0ZW5jaWwuc2V0U3RlbmNpbE1vZGUoU1RFTkNJTF9NT0RFUy5SRU5ERVJJTkdfTUFTS19SRU1PVkUsIG1hc2tTdGFja0luZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5jbGVhcihudWxsLCBDTEVBUi5TVEVOQ0lMKTtcbiAgICAgICAgcmVuZGVyZXIuc3RlbmNpbC5zZXRTdGVuY2lsTW9kZShTVEVOQ0lMX01PREVTLkRJU0FCTEVELCBtYXNrU3RhY2tJbmRleCk7XG4gICAgICB9XG4gICAgICBtYXNrU3RhY2tJbmRleC0tO1xuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24uYWN0aW9uID09PSBcInBvcE1hc2tFbmRcIikge1xuICAgICAgaWYgKGluc3RydWN0aW9uLmludmVyc2UpIHtcbiAgICAgICAgcmVuZGVyZXIuc3RlbmNpbC5zZXRTdGVuY2lsTW9kZShTVEVOQ0lMX01PREVTLklOVkVSU0VfTUFTS19BQ1RJVkUsIG1hc2tTdGFja0luZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlcmVyLnN0ZW5jaWwuc2V0U3RlbmNpbE1vZGUoU1RFTkNJTF9NT0RFUy5NQVNLX0FDVElWRSwgbWFza1N0YWNrSW5kZXgpO1xuICAgICAgfVxuICAgICAgcmVuZGVyZXIuY29sb3JNYXNrLnNldE1hc2soMTUpO1xuICAgIH1cbiAgICB0aGlzLl9tYXNrU3RhY2tIYXNoW3JlbmRlclRhcmdldFVpZF0gPSBtYXNrU3RhY2tJbmRleDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLl9tYXNrU3RhY2tIYXNoID0gbnVsbDtcbiAgICB0aGlzLl9tYXNrSGFzaCA9IG51bGw7XG4gIH1cbn1cblN0ZW5jaWxNYXNrUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwic3RlbmNpbE1hc2tcIlxufTtcblxuZXhwb3J0IHsgU3RlbmNpbE1hc2tQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGVuY2lsTWFza1BpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9jb2xvci9Db2xvci5tanMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2xvZ2dpbmcvd2Fybi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9CYWNrZ3JvdW5kU3lzdGVtID0gY2xhc3MgX0JhY2tncm91bmRTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gdHJ1ZTtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSBuZXcgQ29sb3IoMCk7XG4gICAgdGhpcy5jb2xvciA9IHRoaXMuX2JhY2tncm91bmRDb2xvcjtcbiAgICB0aGlzLmFscGhhID0gMTtcbiAgfVxuICAvKipcbiAgICogaW5pdGlhdGVzIHRoZSBiYWNrZ3JvdW5kIHN5c3RlbVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIHRoZSBvcHRpb25zIGZvciB0aGUgYmFja2dyb3VuZCBjb2xvcnNcbiAgICovXG4gIGluaXQob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7IC4uLl9CYWNrZ3JvdW5kU3lzdGVtLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IG9wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI7XG4gICAgdGhpcy5jb2xvciA9IG9wdGlvbnMuYmFja2dyb3VuZCB8fCBvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgdGhpcy5hbHBoYSA9IG9wdGlvbnMuYmFja2dyb3VuZEFscGhhO1xuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvci5zZXRBbHBoYShvcHRpb25zLmJhY2tncm91bmRBbHBoYSk7XG4gIH1cbiAgLyoqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIHRvIGZpbGwgaWYgbm90IHRyYW5zcGFyZW50ICovXG4gIGdldCBjb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICB9XG4gIHNldCBjb2xvcih2YWx1ZSkge1xuICAgIGNvbnN0IGluY29taW5nID0gQ29sb3Iuc2hhcmVkLnNldFZhbHVlKHZhbHVlKTtcbiAgICBpZiAoaW5jb21pbmcuYWxwaGEgPCAxICYmIHRoaXMuX2JhY2tncm91bmRDb2xvci5hbHBoYSA9PT0gMSkge1xuICAgICAgd2FybihcbiAgICAgICAgXCJDYW5ub3Qgc2V0IGEgdHJhbnNwYXJlbnQgYmFja2dyb3VuZCBvbiBhbiBvcGFxdWUgY2FudmFzLiBUbyBlbmFibGUgdHJhbnNwYXJlbmN5LCBzZXQgYmFja2dyb3VuZEFscGhhIDwgMSB3aGVuIGluaXRpYWxpemluZyB5b3VyIEFwcGxpY2F0aW9uLlwiXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3Iuc2V0VmFsdWUodmFsdWUpO1xuICB9XG4gIC8qKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhbHBoYS4gU2V0dGluZyB0aGlzIHRvIDAgd2lsbCBtYWtlIHRoZSBjYW52YXMgdHJhbnNwYXJlbnQuICovXG4gIGdldCBhbHBoYSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yLmFscGhhO1xuICB9XG4gIHNldCBhbHBoYSh2YWx1ZSkge1xuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvci5zZXRBbHBoYSh2YWx1ZSk7XG4gIH1cbiAgLyoqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGFuIFtSLCBHLCBCLCBBXSBhcnJheS4gKi9cbiAgZ2V0IGNvbG9yUmdiYSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yLnRvQXJyYXkoKTtcbiAgfVxuICAvKipcbiAgICogZGVzdHJveXMgdGhlIGJhY2tncm91bmQgc3lzdGVtXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgfVxufTtcbi8qKiBAaWdub3JlICovXG5fQmFja2dyb3VuZFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwiYmFja2dyb3VuZFwiLFxuICBwcmlvcml0eTogMFxufTtcbi8qKiBkZWZhdWx0IG9wdGlvbnMgdXNlZCBieSB0aGUgc3lzdGVtICovXG5fQmFja2dyb3VuZFN5c3RlbS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqXG4gICAqIHtAbGluayBXZWJHTE9wdGlvbnMuYmFja2dyb3VuZEFscGhhfVxuICAgKiBAZGVmYXVsdCAxXG4gICAqL1xuICBiYWNrZ3JvdW5kQWxwaGE6IDEsXG4gIC8qKlxuICAgKiB7QGxpbmsgV2ViR0xPcHRpb25zLmJhY2tncm91bmRDb2xvcn1cbiAgICogQGRlZmF1bHQgMHgwMDAwMDBcbiAgICovXG4gIGJhY2tncm91bmRDb2xvcjogMCxcbiAgLyoqXG4gICAqIHtAbGluayBXZWJHTE9wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXJ9XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGNsZWFyQmVmb3JlUmVuZGVyOiB0cnVlXG59O1xubGV0IEJhY2tncm91bmRTeXN0ZW0gPSBfQmFja2dyb3VuZFN5c3RlbTtcblxuZXhwb3J0IHsgQmFja2dyb3VuZFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFja2dyb3VuZFN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zLCBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBGaWx0ZXJFZmZlY3QgfSBmcm9tICcuLi8uLi8uLi8uLi9maWx0ZXJzL0ZpbHRlckVmZmVjdC5tanMnO1xuaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2xvZ2dpbmcvd2Fybi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IEJMRU5EX01PREVfRklMVEVSUyA9IHt9O1xuZXh0ZW5zaW9ucy5oYW5kbGUoRXh0ZW5zaW9uVHlwZS5CbGVuZE1vZGUsICh2YWx1ZSkgPT4ge1xuICBpZiAoIXZhbHVlLm5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCbGVuZE1vZGUgZXh0ZW5zaW9uIG11c3QgaGF2ZSBhIG5hbWUgcHJvcGVydHlcIik7XG4gIH1cbiAgQkxFTkRfTU9ERV9GSUxURVJTW3ZhbHVlLm5hbWVdID0gdmFsdWUucmVmO1xufSwgKHZhbHVlKSA9PiB7XG4gIGRlbGV0ZSBCTEVORF9NT0RFX0ZJTFRFUlNbdmFsdWUubmFtZV07XG59KTtcbmNsYXNzIEJsZW5kTW9kZVBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2lzQWR2YW5jZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9maWx0ZXJIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9yZW5kZXJlci5ydW5uZXJzLnByZXJlbmRlci5hZGQodGhpcyk7XG4gIH1cbiAgcHJlcmVuZGVyKCkge1xuICAgIHRoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9IFwibm9ybWFsXCI7XG4gICAgdGhpcy5faXNBZHZhbmNlZCA9IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGVuc3VyZXMgdGhhdCBhIGJsZW5kTW9kZSBzd2l0Y2ggaXMgYWRkZWQgdG8gdGhlIGluc3RydWN0aW9uIHNldCBpZiB0aGUgYmxlbmQgbW9kZSBoYXMgY2hhbmdlZC5cbiAgICogQHBhcmFtIHJlbmRlcmFibGUgLSBUaGUgcmVuZGVyYWJsZSB3ZSBhcmUgYWRkaW5nIHRvIHRoZSBpbnN0cnVjdGlvbiBzZXRcbiAgICogQHBhcmFtIGJsZW5kTW9kZSAtIFRoZSBibGVuZCBtb2RlIG9mIHRoZSByZW5kZXJhYmxlXG4gICAqIEBwYXJhbSBpbnN0cnVjdGlvblNldCAtIFRoZSBpbnN0cnVjdGlvbiBzZXQgd2UgYXJlIGFkZGluZyB0b1xuICAgKi9cbiAgc2V0QmxlbmRNb2RlKHJlbmRlcmFibGUsIGJsZW5kTW9kZSwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlQmxlbmRNb2RlID09PSBibGVuZE1vZGUpIHtcbiAgICAgIGlmICh0aGlzLl9pc0FkdmFuY2VkKVxuICAgICAgICB0aGlzLl9yZW5kZXJhYmxlTGlzdC5wdXNoKHJlbmRlcmFibGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9hY3RpdmVCbGVuZE1vZGUgPSBibGVuZE1vZGU7XG4gICAgaWYgKHRoaXMuX2lzQWR2YW5jZWQpIHtcbiAgICAgIHRoaXMuX2VuZEFkdmFuY2VkQmxlbmRNb2RlKGluc3RydWN0aW9uU2V0KTtcbiAgICB9XG4gICAgdGhpcy5faXNBZHZhbmNlZCA9ICEhQkxFTkRfTU9ERV9GSUxURVJTW2JsZW5kTW9kZV07XG4gICAgaWYgKHRoaXMuX2lzQWR2YW5jZWQpIHtcbiAgICAgIHRoaXMuX2JlZ2luQWR2YW5jZWRCbGVuZE1vZGUoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgICAgdGhpcy5fcmVuZGVyYWJsZUxpc3QucHVzaChyZW5kZXJhYmxlKTtcbiAgICB9XG4gIH1cbiAgX2JlZ2luQWR2YW5jZWRCbGVuZE1vZGUoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgY29uc3QgYmxlbmRNb2RlID0gdGhpcy5fYWN0aXZlQmxlbmRNb2RlO1xuICAgIGlmICghQkxFTkRfTU9ERV9GSUxURVJTW2JsZW5kTW9kZV0pIHtcbiAgICAgIHdhcm4oYFVuYWJsZSB0byBhc3NpZ24gQmxlbmRNb2RlOiAnJHtibGVuZE1vZGV9Jy4gWW91IG1heSB3YW50IHRvIGluY2x1ZGU6IGltcG9ydCAncGl4aS5qcy9hZHZhbmNlZC1ibGVuZC1tb2RlcydgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGZpbHRlckVmZmVjdCA9IHRoaXMuX2ZpbHRlckhhc2hbYmxlbmRNb2RlXTtcbiAgICBpZiAoIWZpbHRlckVmZmVjdCkge1xuICAgICAgZmlsdGVyRWZmZWN0ID0gdGhpcy5fZmlsdGVySGFzaFtibGVuZE1vZGVdID0gbmV3IEZpbHRlckVmZmVjdCgpO1xuICAgICAgZmlsdGVyRWZmZWN0LmZpbHRlcnMgPSBbbmV3IEJMRU5EX01PREVfRklMVEVSU1tibGVuZE1vZGVdKCldO1xuICAgIH1cbiAgICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJmaWx0ZXJcIixcbiAgICAgIGFjdGlvbjogXCJwdXNoRmlsdGVyXCIsXG4gICAgICByZW5kZXJhYmxlczogW10sXG4gICAgICBmaWx0ZXJFZmZlY3QsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfTtcbiAgICB0aGlzLl9yZW5kZXJhYmxlTGlzdCA9IGluc3RydWN0aW9uLnJlbmRlcmFibGVzO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZChpbnN0cnVjdGlvbik7XG4gIH1cbiAgX2VuZEFkdmFuY2VkQmxlbmRNb2RlKGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5fcmVuZGVyYWJsZUxpc3QgPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcImZpbHRlclwiLFxuICAgICAgYWN0aW9uOiBcInBvcEZpbHRlclwiLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBjYWxsZWQgd2hlbiB0aGUgaW5zdHJ1Y3Rpb24gYnVpbGQgcHJvY2VzcyBpcyBzdGFydGluZyB0aGlzIHdpbGwgcmVzZXQgaW50ZXJuYWxseSB0byB0aGUgZGVmYXVsdCBibGVuZCBtb2RlXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgYnVpbGRTdGFydCgpIHtcbiAgICB0aGlzLl9pc0FkdmFuY2VkID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIGNhbGxlZCB3aGVuIHRoZSBpbnN0cnVjdGlvbiBidWlsZCBwcm9jZXNzIGlzIGZpbmlzaGVkLCBlbnN1cmluZyB0aGF0IGlmIHRoZXJlIGlzIGFuIGFkdmFuY2VkIGJsZW5kIG1vZGVcbiAgICogYWN0aXZlLCB3ZSBhZGQgdGhlIGZpbmFsIHJlbmRlciBpbnN0cnVjdGlvbnMgYWRkZWQgdG8gdGhlIGluc3RydWN0aW9uIHNldFxuICAgKiBAcGFyYW0gaW5zdHJ1Y3Rpb25TZXQgLSBUaGUgaW5zdHJ1Y3Rpb24gc2V0IHdlIGFyZSBhZGRpbmcgdG9cbiAgICogQGludGVybmFsXG4gICAqL1xuICBidWlsZEVuZChpbnN0cnVjdGlvblNldCkge1xuICAgIGlmICh0aGlzLl9pc0FkdmFuY2VkKSB7XG4gICAgICB0aGlzLl9lbmRBZHZhbmNlZEJsZW5kTW9kZShpbnN0cnVjdGlvblNldCk7XG4gICAgfVxuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyYWJsZUxpc3QgPSBudWxsO1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9maWx0ZXJIYXNoKSB7XG4gICAgICB0aGlzLl9maWx0ZXJIYXNoW2ldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5fZmlsdGVySGFzaCA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5CbGVuZE1vZGVQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJibGVuZE1vZGVcIlxufTtcblxuZXhwb3J0IHsgQmxlbmRNb2RlUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmxlbmRNb2RlUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBET01BZGFwdGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vZW52aXJvbm1lbnQvYWRhcHRlci5tanMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL0NvbnRhaW5lci5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IGltYWdlVHlwZXMgPSB7XG4gIHBuZzogXCJpbWFnZS9wbmdcIixcbiAganBnOiBcImltYWdlL2pwZWdcIixcbiAgd2VicDogXCJpbWFnZS93ZWJwXCJcbn07XG5jb25zdCBfRXh0cmFjdFN5c3RlbSA9IGNsYXNzIF9FeHRyYWN0U3lzdGVtIHtcbiAgLyoqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBfbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0cyA9IHt9KSB7XG4gICAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBDb250YWluZXIgfHwgb3B0aW9ucyBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRhcmdldDogb3B0aW9ucyxcbiAgICAgICAgLi4uZGVmYXVsdHNcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5kZWZhdWx0cyxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIElJbWFnZSBmcm9tIGEgZGlzcGxheSBvYmplY3Qgb3IgdGV4dHVyZS5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciBjcmVhdGluZyB0aGUgaW1hZ2UsIG9yIHRoZSB0YXJnZXQgdG8gZXh0cmFjdFxuICAgKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZ2VuZXJhdGVkIElJbWFnZVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiAvLyBCYXNpYyB1c2FnZSB3aXRoIGEgc3ByaXRlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAqIGNvbnN0IGltYWdlID0gYXdhaXQgcmVuZGVyZXIuZXh0cmFjdC5pbWFnZShzcHJpdGUpO1xuICAgKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGltYWdlKTtcbiAgICpcbiAgICogLy8gQWR2YW5jZWQgdXNhZ2Ugd2l0aCBvcHRpb25zXG4gICAqIGNvbnN0IGltYWdlID0gYXdhaXQgcmVuZGVyZXIuZXh0cmFjdC5pbWFnZSh7XG4gICAqICAgICB0YXJnZXQ6IGNvbnRhaW5lcixcbiAgICogICAgIGZvcm1hdDogJ3dlYnAnLFxuICAgKiAgICAgcXVhbGl0eTogMC44LFxuICAgKiAgICAgZnJhbWU6IG5ldyBSZWN0YW5nbGUoMCwgMCwgMTAwLCAxMDApLFxuICAgKiAgICAgcmVzb2x1dGlvbjogMixcbiAgICogICAgIGNsZWFyQ29sb3I6ICcjZmYwMDAwJyxcbiAgICogICAgIGFudGlhbGlhczogdHJ1ZVxuICAgKiB9KTtcbiAgICpcbiAgICogLy8gRXh0cmFjdCBkaXJlY3RseSBmcm9tIGEgdGV4dHVyZVxuICAgKiBjb25zdCB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tKCdteVRleHR1cmUucG5nJyk7XG4gICAqIGNvbnN0IGltYWdlID0gYXdhaXQgcmVuZGVyZXIuZXh0cmFjdC5pbWFnZSh0ZXh0dXJlKTtcbiAgICogYGBgXG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RJbWFnZU9wdGlvbnN9IEZvciBkZXRhaWxlZCBvcHRpb25zXG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RTeXN0ZW0uYmFzZTY0fSBGb3IgYmFzZTY0IHN0cmluZyBvdXRwdXRcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdFN5c3RlbS5jYW52YXN9IEZvciBjYW52YXMgb3V0cHV0XG4gICAqIEBzZWUge0BsaW5rIEltYWdlTGlrZX0gRm9yIHRoZSBpbWFnZSBpbnRlcmZhY2VcbiAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgKi9cbiAgYXN5bmMgaW1hZ2Uob3B0aW9ucykge1xuICAgIGNvbnN0IGltYWdlID0gRE9NQWRhcHRlci5nZXQoKS5jcmVhdGVJbWFnZSgpO1xuICAgIGltYWdlLnNyYyA9IGF3YWl0IHRoaXMuYmFzZTY0KG9wdGlvbnMpO1xuICAgIHJldHVybiBpbWFnZTtcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgdGhlIHRhcmdldCBpbnRvIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCB3b3JrcyBieSBmaXJzdCBjcmVhdGluZ1xuICAgKiBhIGNhbnZhcyB1c2luZyBgRXh0cmFjdC5jYW52YXNgIGFuZCB0aGVuIGNvbnZlcnRpbmcgaXQgdG8gYSBiYXNlNjQgc3RyaW5nLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBjcmVhdGluZyB0aGUgYmFzZTY0IHN0cmluZywgb3IgdGhlIHRhcmdldCB0byBleHRyYWN0XG4gICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmdcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogLy8gQmFzaWMgdXNhZ2Ugd2l0aCBhIHNwcml0ZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICAgKiBjb25zdCBiYXNlNjQgPSBhd2FpdCByZW5kZXJlci5leHRyYWN0LmJhc2U2NChzcHJpdGUpO1xuICAgKiBjb25zb2xlLmxvZyhiYXNlNjQpOyAvLyBkYXRhOmltYWdlL3BuZztiYXNlNjQsLi4uXG4gICAqXG4gICAqIC8vIEFkdmFuY2VkIHVzYWdlIHdpdGggb3B0aW9uc1xuICAgKiBjb25zdCBiYXNlNjQgPSBhd2FpdCByZW5kZXJlci5leHRyYWN0LmJhc2U2NCh7XG4gICAqICAgICB0YXJnZXQ6IGNvbnRhaW5lcixcbiAgICogICAgIGZvcm1hdDogJ3dlYnAnLFxuICAgKiAgICAgcXVhbGl0eTogMC44LFxuICAgKiAgICAgZnJhbWU6IG5ldyBSZWN0YW5nbGUoMCwgMCwgMTAwLCAxMDApLFxuICAgKiAgICAgcmVzb2x1dGlvbjogMlxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgcGxhdGZvcm0gZG9lc24ndCBzdXBwb3J0IGFueSBvZjpcbiAgICogLSBJQ2FudmFzLnRvRGF0YVVSTFxuICAgKiAtIElDYW52YXMudG9CbG9iXG4gICAqIC0gSUNhbnZhcy5jb252ZXJ0VG9CbG9iXG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RJbWFnZU9wdGlvbnN9IEZvciBkZXRhaWxlZCBvcHRpb25zXG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RTeXN0ZW0uY2FudmFzfSBGb3IgY2FudmFzIG91dHB1dFxuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0U3lzdGVtLmltYWdlfSBGb3IgSFRNTEltYWdlIG91dHB1dFxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBhc3luYyBiYXNlNjQob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB0aGlzLl9ub3JtYWxpemVPcHRpb25zKFxuICAgICAgb3B0aW9ucyxcbiAgICAgIF9FeHRyYWN0U3lzdGVtLmRlZmF1bHRJbWFnZU9wdGlvbnNcbiAgICApO1xuICAgIGNvbnN0IHsgZm9ybWF0LCBxdWFsaXR5IH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzKG9wdGlvbnMpO1xuICAgIGlmIChjYW52YXMudG9CbG9iICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNhbnZhcy50b0Jsb2IoKGJsb2IpID0+IHtcbiAgICAgICAgICBpZiAoIWJsb2IpIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJJQ2FudmFzLnRvQmxvYiBmYWlsZWQhXCIpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgICAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICAgICAgfSwgaW1hZ2VUeXBlc1tmb3JtYXRdLCBxdWFsaXR5KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoY2FudmFzLnRvRGF0YVVSTCAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTChpbWFnZVR5cGVzW2Zvcm1hdF0sIHF1YWxpdHkpO1xuICAgIH1cbiAgICBpZiAoY2FudmFzLmNvbnZlcnRUb0Jsb2IgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IGNhbnZhcy5jb252ZXJ0VG9CbG9iKHsgdHlwZTogaW1hZ2VUeXBlc1tmb3JtYXRdLCBxdWFsaXR5IH0pO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHRyYWN0LmJhc2U2NCgpIHJlcXVpcmVzIElDYW52YXMudG9EYXRhVVJMLCBJQ2FudmFzLnRvQmxvYiwgb3IgSUNhbnZhcy5jb252ZXJ0VG9CbG9iIHRvIGJlIGltcGxlbWVudGVkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQsIHJlbmRlcnMgdGhlIHRhcmdldCB0byBpdCBhbmQgcmV0dXJucyBpdC5cbiAgICogVGhpcyBtZXRob2QgaXMgdXNlZnVsIGZvciBjcmVhdGluZyBzdGF0aWMgaW1hZ2VzIG9yIHdoZW4geW91IG5lZWQgZGlyZWN0IGNhbnZhcyBhY2Nlc3MuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZSBjYW52YXMsIG9yIHRoZSB0YXJnZXQgdG8gZXh0cmFjdFxuICAgKiBAcmV0dXJucyBBIENhbnZhcyBlbGVtZW50IHdpdGggdGhlIHRleHR1cmUgcmVuZGVyZWQgb25cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogLy8gQmFzaWMgY2FudmFzIGV4dHJhY3Rpb24gZnJvbSBhIHNwcml0ZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICAgKiBjb25zdCBjYW52YXMgPSByZW5kZXJlci5leHRyYWN0LmNhbnZhcyhzcHJpdGUpO1xuICAgKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XG4gICAqXG4gICAqIC8vIEV4dHJhY3Qgd2l0aCBjdXN0b20gcmVnaW9uXG4gICAqIGNvbnN0IGNhbnZhcyA9IHJlbmRlcmVyLmV4dHJhY3QuY2FudmFzKHtcbiAgICogICAgIHRhcmdldDogY29udGFpbmVyLFxuICAgKiAgICAgZnJhbWU6IG5ldyBSZWN0YW5nbGUoMCwgMCwgMTAwLCAxMDApXG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBFeHRyYWN0IHdpdGggaGlnaCByZXNvbHV0aW9uXG4gICAqIGNvbnN0IGNhbnZhcyA9IHJlbmRlcmVyLmV4dHJhY3QuY2FudmFzKHtcbiAgICogICAgIHRhcmdldDogc3ByaXRlLFxuICAgKiAgICAgcmVzb2x1dGlvbjogMixcbiAgICogICAgIGNsZWFyQ29sb3I6ICcjZmYwMDAwJ1xuICAgKiB9KTtcbiAgICpcbiAgICogLy8gRXh0cmFjdCBkaXJlY3RseSBmcm9tIGEgdGV4dHVyZVxuICAgKiBjb25zdCB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tKCdteVRleHR1cmUucG5nJyk7XG4gICAqIGNvbnN0IGNhbnZhcyA9IHJlbmRlcmVyLmV4dHJhY3QuY2FudmFzKHRleHR1cmUpO1xuICAgKlxuICAgKiAvLyBFeHRyYWN0IHdpdGggYW50aS1hbGlhc2luZ1xuICAgKiBjb25zdCBjYW52YXMgPSByZW5kZXJlci5leHRyYWN0LmNhbnZhcyh7XG4gICAqICAgICB0YXJnZXQ6IGdyYXBoaWNzLFxuICAgKiAgICAgYW50aWFsaWFzOiB0cnVlXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdE9wdGlvbnN9IEZvciBkZXRhaWxlZCBvcHRpb25zXG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RTeXN0ZW0uaW1hZ2V9IEZvciBIVE1MSW1hZ2Ugb3V0cHV0XG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RTeXN0ZW0ucGl4ZWxzfSBGb3IgcmF3IHBpeGVsIGRhdGFcbiAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgKi9cbiAgY2FudmFzKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gdGhpcy5fbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zKTtcbiAgICBjb25zdCB0YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICByZXR1cm4gcmVuZGVyZXIudGV4dHVyZS5nZW5lcmF0ZUNhbnZhcyh0YXJnZXQpO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0dXJlID0gcmVuZGVyZXIudGV4dHVyZUdlbmVyYXRvci5nZW5lcmF0ZVRleHR1cmUob3B0aW9ucyk7XG4gICAgY29uc3QgY2FudmFzID0gcmVuZGVyZXIudGV4dHVyZS5nZW5lcmF0ZUNhbnZhcyh0ZXh0dXJlKTtcbiAgICB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgcmV0dXJuIGNhbnZhcztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBIG9yZGVyLFxuICAgKiB3aXRoIGludGVnZXIgdmFsdWVzIGJldHdlZW4gMCBhbmQgMjU1IChpbmNsdXNpdmUpLlxuICAgKiA+IFshTk9FXSBUaGUgcmV0dXJuZWQgYXJyYXkgaXMgYSBmbGF0IFVpbnQ4QXJyYXkgd2hlcmUgZXZlcnkgNCB2YWx1ZXMgcmVwcmVzZW50IFJHQkFcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgZXh0cmFjdGluZyB0aGUgaW1hZ2UsIG9yIHRoZSB0YXJnZXQgdG8gZXh0cmFjdFxuICAgKiBAcmV0dXJucyBPbmUtZGltZW5zaW9uYWwgVWludDhBcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIGluIFJHQkEgZm9ybWF0XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIC8vIEJhc2ljIHBpeGVsIGV4dHJhY3Rpb25cbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICogY29uc3QgcGl4ZWxzID0gcmVuZGVyZXIuZXh0cmFjdC5waXhlbHMoc3ByaXRlKTtcbiAgICogY29uc29sZS5sb2cocGl4ZWxzWzBdLCBwaXhlbHNbMV0sIHBpeGVsc1syXSwgcGl4ZWxzWzNdKTsgLy8gUixHLEIsQSB2YWx1ZXNcbiAgICpcbiAgICogLy8gRXh0cmFjdCB3aXRoIGN1c3RvbSByZWdpb25cbiAgICogY29uc3QgcGl4ZWxzID0gcmVuZGVyZXIuZXh0cmFjdC5waXhlbHMoe1xuICAgKiAgICAgdGFyZ2V0OiBzcHJpdGUsXG4gICAqICAgICBmcmFtZTogbmV3IFJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMClcbiAgICogfSk7XG4gICAqXG4gICAqIC8vIEV4dHJhY3Qgd2l0aCBoaWdoIHJlc29sdXRpb25cbiAgICogY29uc3QgcGl4ZWxzID0gcmVuZGVyZXIuZXh0cmFjdC5waXhlbHMoe1xuICAgKiAgICAgdGFyZ2V0OiBzcHJpdGUsXG4gICAqICAgICByZXNvbHV0aW9uOiAyXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdE9wdGlvbnN9IEZvciBkZXRhaWxlZCBvcHRpb25zXG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RTeXN0ZW0uY2FudmFzfSBGb3IgY2FudmFzIG91dHB1dFxuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0U3lzdGVtLmltYWdlfSBGb3IgaW1hZ2Ugb3V0cHV0XG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHBpeGVscyhvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHRoaXMuX25vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgY29uc3QgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICBjb25zdCB0ZXh0dXJlID0gdGFyZ2V0IGluc3RhbmNlb2YgVGV4dHVyZSA/IHRhcmdldCA6IHJlbmRlcmVyLnRleHR1cmVHZW5lcmF0b3IuZ2VuZXJhdGVUZXh0dXJlKG9wdGlvbnMpO1xuICAgIGNvbnN0IHBpeGVsSW5mbyA9IHJlbmRlcmVyLnRleHR1cmUuZ2V0UGl4ZWxzKHRleHR1cmUpO1xuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBDb250YWluZXIpIHtcbiAgICAgIHRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHBpeGVsSW5mbztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIHRleHR1cmUgZnJvbSBhIGRpc3BsYXkgb2JqZWN0IG9yIGV4aXN0aW5nIHRleHR1cmUuXG4gICAqXG4gICAqIFRoaXMgaXMgdXNlZnVsIGZvciBjcmVhdGluZ1xuICAgKiByZXVzYWJsZSB0ZXh0dXJlcyBmcm9tIHJlbmRlcmVkIGNvbnRlbnQgb3IgbWFraW5nIGNvcGllcyBvZiBleGlzdGluZyB0ZXh0dXJlcy5cbiAgICogPiBbIU5PVEVdIFRoZSByZXR1cm5lZCB0ZXh0dXJlIHNob3VsZCBiZSBkZXN0cm95ZWQgd2hlbiBubyBsb25nZXIgbmVlZGVkXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZSB0ZXh0dXJlLCBvciB0aGUgdGFyZ2V0IHRvIGV4dHJhY3RcbiAgICogQHJldHVybnMgQSBuZXcgdGV4dHVyZSBjb250YWluaW5nIHRoZSBleHRyYWN0ZWQgY29udGVudFxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiAvLyBCYXNpYyB0ZXh0dXJlIGV4dHJhY3Rpb24gZnJvbSBhIHNwcml0ZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICAgKiBjb25zdCBleHRyYWN0ZWRUZXh0dXJlID0gcmVuZGVyZXIuZXh0cmFjdC50ZXh0dXJlKHNwcml0ZSk7XG4gICAqXG4gICAqIC8vIEV4dHJhY3Qgd2l0aCBjdXN0b20gcmVnaW9uXG4gICAqIGNvbnN0IHJlZ2lvblRleHR1cmUgPSByZW5kZXJlci5leHRyYWN0LnRleHR1cmUoe1xuICAgKiAgICAgdGFyZ2V0OiBjb250YWluZXIsXG4gICAqICAgICBmcmFtZTogbmV3IFJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMClcbiAgICogfSk7XG4gICAqXG4gICAqIC8vIEV4dHJhY3Qgd2l0aCBoaWdoIHJlc29sdXRpb25cbiAgICogY29uc3QgaGlSZXNUZXh0dXJlID0gcmVuZGVyZXIuZXh0cmFjdC50ZXh0dXJlKHtcbiAgICogICAgIHRhcmdldDogc3ByaXRlLFxuICAgKiAgICAgcmVzb2x1dGlvbjogMixcbiAgICogICAgIGNsZWFyQ29sb3I6ICcjZmYwMDAwJ1xuICAgKiB9KTtcbiAgICpcbiAgICogLy8gQ3JlYXRlIGEgbmV3IHNwcml0ZSBmcm9tIGV4dHJhY3RlZCB0ZXh0dXJlXG4gICAqIGNvbnN0IG5ld1Nwcml0ZSA9IG5ldyBTcHJpdGUoXG4gICAqICAgICByZW5kZXJlci5leHRyYWN0LnRleHR1cmUoe1xuICAgKiAgICAgICAgIHRhcmdldDogZ3JhcGhpY3MsXG4gICAqICAgICAgICAgYW50aWFsaWFzOiB0cnVlXG4gICAqICAgICB9KVxuICAgKiApO1xuICAgKlxuICAgKiAvLyBDbGVhbiB1cCB3aGVuIGRvbmVcbiAgICogZXh0cmFjdGVkVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgKiBgYGBcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdE9wdGlvbnN9IEZvciBkZXRhaWxlZCBvcHRpb25zXG4gICAqIEBzZWUge0BsaW5rIFRleHR1cmV9IEZvciB0ZXh0dXJlIG1hbmFnZW1lbnRcbiAgICogQHNlZSB7QGxpbmsgR2VuZXJhdGVUZXh0dXJlU3lzdGVtfSBGb3IgdGV4dHVyZSBnZW5lcmF0aW9uXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHRleHR1cmUob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB0aGlzLl9ub3JtYWxpemVPcHRpb25zKG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLnRhcmdldCBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICByZXR1cm4gb3B0aW9ucy50YXJnZXQ7XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVyLnRleHR1cmVHZW5lcmF0b3IuZ2VuZXJhdGVUZXh0dXJlKG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBFeHRyYWN0cyBhbmQgZG93bmxvYWRzIGNvbnRlbnQgZnJvbSB0aGUgcmVuZGVyZXIgYXMgYW4gaW1hZ2UgZmlsZS5cbiAgICogVGhpcyBpcyBhIGNvbnZlbmllbnQgd2F5IHRvIHNhdmUgc2NyZWVuc2hvdHMgb3IgZXhwb3J0IHJlbmRlcmVkIGNvbnRlbnQuXG4gICAqID4gWyFOT1RFXSBUaGUgZG93bmxvYWQgd2lsbCB1c2UgUE5HIGZvcm1hdCByZWdhcmRsZXNzIG9mIHRoZSBmaWxlbmFtZSBleHRlbnNpb25cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgZG93bmxvYWRpbmcgYW5kIGV4dHJhY3RpbmcgdGhlIGltYWdlLCBvciB0aGUgdGFyZ2V0IHRvIGV4dHJhY3RcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogLy8gQmFzaWMgZG93bmxvYWQgd2l0aCBkZWZhdWx0IGZpbGVuYW1lXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAqIHJlbmRlcmVyLmV4dHJhY3QuZG93bmxvYWQoc3ByaXRlKTsgLy8gRG93bmxvYWRzIGFzICdpbWFnZS5wbmcnXG4gICAqXG4gICAqIC8vIERvd25sb2FkIHdpdGggY3VzdG9tIGZpbGVuYW1lXG4gICAqIHJlbmRlcmVyLmV4dHJhY3QuZG93bmxvYWQoe1xuICAgKiAgICAgdGFyZ2V0OiBzcHJpdGUsXG4gICAqICAgICBmaWxlbmFtZTogJ3NjcmVlbnNob3QucG5nJ1xuICAgKiB9KTtcbiAgICpcbiAgICogLy8gRG93bmxvYWQgd2l0aCBjdXN0b20gcmVnaW9uXG4gICAqIHJlbmRlcmVyLmV4dHJhY3QuZG93bmxvYWQoe1xuICAgKiAgICAgdGFyZ2V0OiBjb250YWluZXIsXG4gICAqICAgICBmaWxlbmFtZTogJ3JlZ2lvbi5wbmcnLFxuICAgKiAgICAgZnJhbWU6IG5ldyBSZWN0YW5nbGUoMCwgMCwgMTAwLCAxMDApXG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBEb3dubG9hZCB3aXRoIGhpZ2ggcmVzb2x1dGlvbiBhbmQgYmFja2dyb3VuZFxuICAgKiByZW5kZXJlci5leHRyYWN0LmRvd25sb2FkKHtcbiAgICogICAgIHRhcmdldDogc3RhZ2UsXG4gICAqICAgICBmaWxlbmFtZTogJ2hkLXNjcmVlbnNob3QucG5nJyxcbiAgICogICAgIHJlc29sdXRpb246IDIsXG4gICAqICAgICBjbGVhckNvbG9yOiAnI2ZmMDAwMCdcbiAgICogfSk7XG4gICAqXG4gICAqIC8vIERvd25sb2FkIHdpdGggYW50aS1hbGlhc2luZ1xuICAgKiByZW5kZXJlci5leHRyYWN0LmRvd25sb2FkKHtcbiAgICogICAgIHRhcmdldDogZ3JhcGhpY3MsXG4gICAqICAgICBmaWxlbmFtZTogJ3Ntb290aC5wbmcnLFxuICAgKiAgICAgYW50aWFsaWFzOiB0cnVlXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdERvd25sb2FkT3B0aW9uc30gRm9yIGRldGFpbGVkIG9wdGlvbnNcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdFN5c3RlbS5pbWFnZX0gRm9yIGNyZWF0aW5nIGltYWdlcyB3aXRob3V0IGRvd25sb2FkXG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RTeXN0ZW0uY2FudmFzfSBGb3IgY2FudmFzIG91dHB1dFxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBkb3dubG9hZChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHRoaXMuX25vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5jYW52YXMob3B0aW9ucyk7XG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIGxpbmsuZG93bmxvYWQgPSBvcHRpb25zLmZpbGVuYW1lID8/IFwiaW1hZ2UucG5nXCI7XG4gICAgbGluay5ocmVmID0gY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgIGxpbmsuY2xpY2soKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICB9XG4gIC8qKlxuICAgKiBMb2dzIHRoZSB0YXJnZXQgdG8gdGhlIGNvbnNvbGUgYXMgYW4gaW1hZ2UuIFRoaXMgaXMgYSB1c2VmdWwgd2F5IHRvIGRlYnVnIHdoYXQncyBoYXBwZW5pbmcgaW4gdGhlIHJlbmRlcmVyLlxuICAgKiBUaGUgaW1hZ2Ugd2lsbCBiZSBkaXNwbGF5ZWQgaW4gdGhlIGJyb3dzZXIncyBjb25zb2xlIHVzaW5nIENTUyBiYWNrZ3JvdW5kIGltYWdlcy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgbG9nZ2luZyB0aGUgaW1hZ2UsIG9yIHRoZSB0YXJnZXQgdG8gbG9nXG4gICAqIEBwYXJhbSBvcHRpb25zLndpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSBsb2dnZWQgaW1hZ2UgcHJldmlldyBpbiB0aGUgY29uc29sZSAoaW4gcGl4ZWxzKVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiAvLyBCYXNpYyB1c2FnZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICAgKiByZW5kZXJlci5leHRyYWN0LmxvZyhzcHJpdGUpO1xuICAgKiBgYGBcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdFN5c3RlbS5jYW52YXN9IEZvciBnZXR0aW5nIHJhdyBjYW52YXMgb3V0cHV0XG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RTeXN0ZW0ucGl4ZWxzfSBGb3IgcmF3IHBpeGVsIGRhdGFcbiAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgKiBAYWR2YW5jZWRcbiAgICovXG4gIGxvZyhvcHRpb25zKSB7XG4gICAgY29uc3Qgd2lkdGggPSBvcHRpb25zLndpZHRoID8/IDIwMDtcbiAgICBvcHRpb25zID0gdGhpcy5fbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zKTtcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLmNhbnZhcyhvcHRpb25zKTtcbiAgICBjb25zdCBiYXNlNjQgPSBjYW52YXMudG9EYXRhVVJMKCk7XG4gICAgY29uc29sZS5sb2coYFtQaXhpIFRleHR1cmVdICR7Y2FudmFzLndpZHRofXB4ICR7Y2FudmFzLmhlaWdodH1weGApO1xuICAgIGNvbnN0IHN0eWxlID0gW1xuICAgICAgXCJmb250LXNpemU6IDFweDtcIixcbiAgICAgIGBwYWRkaW5nOiAke3dpZHRofXB4ICR7MzAwfXB4O2AsXG4gICAgICBgYmFja2dyb3VuZDogdXJsKCR7YmFzZTY0fSkgbm8tcmVwZWF0O2AsXG4gICAgICBcImJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcIlxuICAgIF0uam9pbihcIiBcIik7XG4gICAgY29uc29sZS5sb2coXCIlYyBcIiwgc3R5bGUpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59O1xuLyoqIEBpZ25vcmUgKi9cbl9FeHRyYWN0U3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJleHRyYWN0XCJcbn07XG4vKipcbiAqIERlZmF1bHQgb3B0aW9ucyBmb3IgaW1hZ2UgZXh0cmFjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogLy8gQ3VzdG9taXplIGRlZmF1bHQgb3B0aW9uc1xuICogRXh0cmFjdFN5c3RlbS5kZWZhdWx0SW1hZ2VPcHRpb25zLmZvcm1hdCA9ICd3ZWJwJztcbiAqIEV4dHJhY3RTeXN0ZW0uZGVmYXVsdEltYWdlT3B0aW9ucy5xdWFsaXR5ID0gMC44O1xuICpcbiAqIC8vIFVzZSBkZWZhdWx0c1xuICogY29uc3QgaW1hZ2UgPSBhd2FpdCByZW5kZXJlci5leHRyYWN0LmltYWdlKHNwcml0ZSk7XG4gKiBgYGBcbiAqL1xuX0V4dHJhY3RTeXN0ZW0uZGVmYXVsdEltYWdlT3B0aW9ucyA9IHtcbiAgZm9ybWF0OiBcInBuZ1wiLFxuICBxdWFsaXR5OiAxXG59O1xubGV0IEV4dHJhY3RTeXN0ZW0gPSBfRXh0cmFjdFN5c3RlbTtcblxuZXhwb3J0IHsgRXh0cmFjdFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXh0cmFjdFN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBUZXh0dXJlU291cmNlIH0gZnJvbSAnLi9zb3VyY2VzL1RleHR1cmVTb3VyY2UubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuL1RleHR1cmUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBSZW5kZXJUZXh0dXJlIGV4dGVuZHMgVGV4dHVyZSB7XG4gIHN0YXRpYyBjcmVhdGUob3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZSh7XG4gICAgICBzb3VyY2U6IG5ldyBUZXh0dXJlU291cmNlKG9wdGlvbnMpXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlc2l6ZXMgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgKiBAcGFyYW0gd2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICogQHBhcmFtIGhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICogQHBhcmFtIHJlc29sdXRpb24gLSBUaGUgbmV3IHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgKiBAcmV0dXJucyBUaGlzIHRleHR1cmUuXG4gICAqL1xuICByZXNpemUod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgIHRoaXMuc291cmNlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgeyBSZW5kZXJUZXh0dXJlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJUZXh0dXJlLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL3NoYXBlcy9SZWN0YW5nbGUubWpzJztcbmltcG9ydCB7IEJvdW5kcyB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci9ib3VuZHMvQm91bmRzLm1qcyc7XG5pbXBvcnQgeyBnZXRMb2NhbEJvdW5kcyB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci9ib3VuZHMvZ2V0TG9jYWxCb3VuZHMubWpzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci9Db250YWluZXIubWpzJztcbmltcG9ydCB7IFJlbmRlclRleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlL1JlbmRlclRleHR1cmUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbmNvbnN0IHRlbXBCb3VuZHMgPSBuZXcgQm91bmRzKCk7XG5jb25zdCBub0NvbG9yID0gWzAsIDAsIDAsIDBdO1xuY2xhc3MgR2VuZXJhdGVUZXh0dXJlU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdGV4dHVyZSBmcm9tIGEgZGlzcGxheSBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBmb3IgY3JlYXRpbmcgc3ByaXRlcyBhbmQgb3RoZXIgdGV4dHVyZXMuXG4gICAqIFRoaXMgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igb3B0aW1pemluZyBwZXJmb3JtYW5jZSB3aGVuIGEgY29tcGxleCBjb250YWluZXIgbmVlZHMgdG8gYmUgcmV1c2VkLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEdlbmVyYXRlIHRleHR1cmUgb3B0aW9ucyBvciBhIGNvbnRhaW5lciB0byBjb252ZXJ0IHRvIHRleHR1cmVcbiAgICogQHJldHVybnMgQSBuZXcgUmVuZGVyVGV4dHVyZSBjb250YWluaW5nIHRoZSByZW5kZXJlZCBkaXNwbGF5IG9iamVjdFxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiAvLyBCYXNpYyB1c2FnZSB3aXRoIGEgY29udGFpbmVyXG4gICAqIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcbiAgICogY29udGFpbmVyLmFkZENoaWxkKFxuICAgKiAgICAgbmV3IEdyYXBoaWNzKClcbiAgICogICAgICAgICAuY2lyY2xlKDAsIDAsIDUwKVxuICAgKiAgICAgICAgIC5maWxsKCdyZWQnKVxuICAgKiApO1xuICAgKlxuICAgKiBjb25zdCB0ZXh0dXJlID0gcmVuZGVyZXIudGV4dHVyZUdlbmVyYXRvci5nZW5lcmF0ZVRleHR1cmUoY29udGFpbmVyKTtcbiAgICpcbiAgICogLy8gQWR2YW5jZWQgdXNhZ2Ugd2l0aCBvcHRpb25zXG4gICAqIGNvbnN0IHRleHR1cmUgPSByZW5kZXJlci50ZXh0dXJlR2VuZXJhdG9yLmdlbmVyYXRlVGV4dHVyZSh7XG4gICAqICAgICB0YXJnZXQ6IGNvbnRhaW5lcixcbiAgICogICAgIGZyYW1lOiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKSwgLy8gU3BlY2lmaWMgcmVnaW9uXG4gICAqICAgICByZXNvbHV0aW9uOiAyLCAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhpZ2ggRFBJXG4gICAqICAgICBjbGVhckNvbG9yOiAnI2ZmMDAwMCcsICAgICAgICAgICAgICAgLy8gUmVkIGJhY2tncm91bmRcbiAgICogICAgIGFudGlhbGlhczogdHJ1ZSAgICAgICAgICAgICAgICAgICAgICAvLyBTbW9vdGggZWRnZXNcbiAgICogfSk7XG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIHNwcml0ZSBmcm9tIHRoZSBnZW5lcmF0ZWQgdGV4dHVyZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICAgKlxuICAgKiAvLyBDbGVhbiB1cCB3aGVuIGRvbmVcbiAgICogdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgKiBgYGBcbiAgICogQHNlZSB7QGxpbmsgR2VuZXJhdGVUZXh0dXJlT3B0aW9uc30gRm9yIGRldGFpbGVkIHRleHR1cmUgZ2VuZXJhdGlvbiBvcHRpb25zXG4gICAqIEBzZWUge0BsaW5rIFJlbmRlclRleHR1cmV9IEZvciB0aGUgdHlwZSBvZiB0ZXh0dXJlIGNyZWF0ZWRcbiAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgKi9cbiAgZ2VuZXJhdGVUZXh0dXJlKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIENvbnRhaW5lcikge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgdGFyZ2V0OiBvcHRpb25zLFxuICAgICAgICBmcmFtZTogdm9pZCAwLFxuICAgICAgICB0ZXh0dXJlU291cmNlT3B0aW9uczoge30sXG4gICAgICAgIHJlc29sdXRpb246IHZvaWQgMFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiB8fCB0aGlzLl9yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgIGNvbnN0IGFudGlhbGlhcyA9IG9wdGlvbnMuYW50aWFsaWFzIHx8IHRoaXMuX3JlbmRlcmVyLnZpZXcuYW50aWFsaWFzO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG9wdGlvbnMudGFyZ2V0O1xuICAgIGxldCBjbGVhckNvbG9yID0gb3B0aW9ucy5jbGVhckNvbG9yO1xuICAgIGlmIChjbGVhckNvbG9yKSB7XG4gICAgICBjb25zdCBpc1JHQkFBcnJheSA9IEFycmF5LmlzQXJyYXkoY2xlYXJDb2xvcikgJiYgY2xlYXJDb2xvci5sZW5ndGggPT09IDQ7XG4gICAgICBjbGVhckNvbG9yID0gaXNSR0JBQXJyYXkgPyBjbGVhckNvbG9yIDogQ29sb3Iuc2hhcmVkLnNldFZhbHVlKGNsZWFyQ29sb3IpLnRvQXJyYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYXJDb2xvciA9IG5vQ29sb3I7XG4gICAgfVxuICAgIGNvbnN0IHJlZ2lvbiA9IG9wdGlvbnMuZnJhbWU/LmNvcHlUbyh0ZW1wUmVjdCkgfHwgZ2V0TG9jYWxCb3VuZHMoY29udGFpbmVyLCB0ZW1wQm91bmRzKS5yZWN0YW5nbGU7XG4gICAgcmVnaW9uLndpZHRoID0gTWF0aC5tYXgocmVnaW9uLndpZHRoLCAxIC8gcmVzb2x1dGlvbikgfCAwO1xuICAgIHJlZ2lvbi5oZWlnaHQgPSBNYXRoLm1heChyZWdpb24uaGVpZ2h0LCAxIC8gcmVzb2x1dGlvbikgfCAwO1xuICAgIGNvbnN0IHRhcmdldCA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHtcbiAgICAgIC4uLm9wdGlvbnMudGV4dHVyZVNvdXJjZU9wdGlvbnMsXG4gICAgICB3aWR0aDogcmVnaW9uLndpZHRoLFxuICAgICAgaGVpZ2h0OiByZWdpb24uaGVpZ2h0LFxuICAgICAgcmVzb2x1dGlvbixcbiAgICAgIGFudGlhbGlhc1xuICAgIH0pO1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IE1hdHJpeC5zaGFyZWQudHJhbnNsYXRlKC1yZWdpb24ueCwgLXJlZ2lvbi55KTtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXIoe1xuICAgICAgY29udGFpbmVyLFxuICAgICAgdHJhbnNmb3JtLFxuICAgICAgdGFyZ2V0LFxuICAgICAgY2xlYXJDb2xvclxuICAgIH0pO1xuICAgIHRhcmdldC5zb3VyY2UudXBkYXRlTWlwbWFwcygpO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5HZW5lcmF0ZVRleHR1cmVTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbVxuICBdLFxuICBuYW1lOiBcInRleHR1cmVHZW5lcmF0b3JcIlxufTtcblxuZXhwb3J0IHsgR2VuZXJhdGVUZXh0dXJlU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HZW5lcmF0ZVRleHR1cmVTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9wb2ludC9Qb2ludC5tanMnO1xuaW1wb3J0IHsgY29sb3IzMkJpdFRvVW5pZm9ybSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lL2dyYXBoaWNzL2dwdS9jb2xvclRvVW5pZm9ybS5tanMnO1xuaW1wb3J0IHsgQmluZEdyb3VwIH0gZnJvbSAnLi4vLi4vZ3B1L3NoYWRlci9CaW5kR3JvdXAubWpzJztcbmltcG9ydCB7IFJlbmRlcmVyVHlwZSB9IGZyb20gJy4uLy4uL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyBVbmlmb3JtR3JvdXAgfSBmcm9tICcuLi9zaGFkZXIvVW5pZm9ybUdyb3VwLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgR2xvYmFsVW5pZm9ybVN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fc3RhY2tJbmRleCA9IDA7XG4gICAgdGhpcy5fZ2xvYmFsVW5pZm9ybURhdGFTdGFjayA9IFtdO1xuICAgIHRoaXMuX3VuaWZvcm1zUG9vbCA9IFtdO1xuICAgIHRoaXMuX2FjdGl2ZVVuaWZvcm1zID0gW107XG4gICAgdGhpcy5fYmluZEdyb3VwUG9vbCA9IFtdO1xuICAgIHRoaXMuX2FjdGl2ZUJpbmRHcm91cHMgPSBbXTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX3N0YWNrSW5kZXggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fYWN0aXZlVW5pZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuX3VuaWZvcm1zUG9vbC5wdXNoKHRoaXMuX2FjdGl2ZVVuaWZvcm1zW2ldKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hY3RpdmVCaW5kR3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9iaW5kR3JvdXBQb29sLnB1c2godGhpcy5fYWN0aXZlQmluZEdyb3Vwc1tpXSk7XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZVVuaWZvcm1zLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5fYWN0aXZlQmluZEdyb3Vwcy5sZW5ndGggPSAwO1xuICB9XG4gIHN0YXJ0KG9wdGlvbnMpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgdGhpcy5wdXNoKG9wdGlvbnMpO1xuICB9XG4gIGJpbmQoe1xuICAgIHNpemUsXG4gICAgcHJvamVjdGlvbk1hdHJpeCxcbiAgICB3b3JsZFRyYW5zZm9ybU1hdHJpeCxcbiAgICB3b3JsZENvbG9yLFxuICAgIG9mZnNldFxuICB9KSB7XG4gICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gdGhpcy5fcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJlbmRlclRhcmdldDtcbiAgICBjb25zdCBjdXJyZW50R2xvYmFsVW5pZm9ybURhdGEgPSB0aGlzLl9zdGFja0luZGV4ID8gdGhpcy5fZ2xvYmFsVW5pZm9ybURhdGFTdGFja1t0aGlzLl9zdGFja0luZGV4IC0gMV0gOiB7XG4gICAgICBwcm9qZWN0aW9uRGF0YTogcmVuZGVyVGFyZ2V0LFxuICAgICAgd29ybGRUcmFuc2Zvcm1NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgIHdvcmxkQ29sb3I6IDQyOTQ5NjcyOTUsXG4gICAgICBvZmZzZXQ6IG5ldyBQb2ludCgpXG4gICAgfTtcbiAgICBjb25zdCBnbG9iYWxVbmlmb3JtRGF0YSA9IHtcbiAgICAgIHByb2plY3Rpb25NYXRyaXg6IHByb2plY3Rpb25NYXRyaXggfHwgdGhpcy5fcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnByb2plY3Rpb25NYXRyaXgsXG4gICAgICByZXNvbHV0aW9uOiBzaXplIHx8IHJlbmRlclRhcmdldC5zaXplLFxuICAgICAgd29ybGRUcmFuc2Zvcm1NYXRyaXg6IHdvcmxkVHJhbnNmb3JtTWF0cml4IHx8IGN1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YS53b3JsZFRyYW5zZm9ybU1hdHJpeCxcbiAgICAgIHdvcmxkQ29sb3I6IHdvcmxkQ29sb3IgfHwgY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhLndvcmxkQ29sb3IsXG4gICAgICBvZmZzZXQ6IG9mZnNldCB8fCBjdXJyZW50R2xvYmFsVW5pZm9ybURhdGEub2Zmc2V0LFxuICAgICAgYmluZEdyb3VwOiBudWxsXG4gICAgfTtcbiAgICBjb25zdCB1bmlmb3JtR3JvdXAgPSB0aGlzLl91bmlmb3Jtc1Bvb2wucG9wKCkgfHwgdGhpcy5fY3JlYXRlVW5pZm9ybXMoKTtcbiAgICB0aGlzLl9hY3RpdmVVbmlmb3Jtcy5wdXNoKHVuaWZvcm1Hcm91cCk7XG4gICAgY29uc3QgdW5pZm9ybXMgPSB1bmlmb3JtR3JvdXAudW5pZm9ybXM7XG4gICAgdW5pZm9ybXMudVByb2plY3Rpb25NYXRyaXggPSBnbG9iYWxVbmlmb3JtRGF0YS5wcm9qZWN0aW9uTWF0cml4O1xuICAgIHVuaWZvcm1zLnVSZXNvbHV0aW9uID0gZ2xvYmFsVW5pZm9ybURhdGEucmVzb2x1dGlvbjtcbiAgICB1bmlmb3Jtcy51V29ybGRUcmFuc2Zvcm1NYXRyaXguY29weUZyb20oZ2xvYmFsVW5pZm9ybURhdGEud29ybGRUcmFuc2Zvcm1NYXRyaXgpO1xuICAgIHVuaWZvcm1zLnVXb3JsZFRyYW5zZm9ybU1hdHJpeC50eCAtPSBnbG9iYWxVbmlmb3JtRGF0YS5vZmZzZXQueDtcbiAgICB1bmlmb3Jtcy51V29ybGRUcmFuc2Zvcm1NYXRyaXgudHkgLT0gZ2xvYmFsVW5pZm9ybURhdGEub2Zmc2V0Lnk7XG4gICAgY29sb3IzMkJpdFRvVW5pZm9ybShcbiAgICAgIGdsb2JhbFVuaWZvcm1EYXRhLndvcmxkQ29sb3IsXG4gICAgICB1bmlmb3Jtcy51V29ybGRDb2xvckFscGhhLFxuICAgICAgMFxuICAgICk7XG4gICAgdW5pZm9ybUdyb3VwLnVwZGF0ZSgpO1xuICAgIGxldCBiaW5kR3JvdXA7XG4gICAgaWYgKHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLnVuaWZvcm1CYXRjaCkge1xuICAgICAgYmluZEdyb3VwID0gdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMudW5pZm9ybUJhdGNoLmdldFVuaWZvcm1CaW5kR3JvdXAodW5pZm9ybUdyb3VwLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJpbmRHcm91cCA9IHRoaXMuX2JpbmRHcm91cFBvb2wucG9wKCkgfHwgbmV3IEJpbmRHcm91cCgpO1xuICAgICAgdGhpcy5fYWN0aXZlQmluZEdyb3Vwcy5wdXNoKGJpbmRHcm91cCk7XG4gICAgICBiaW5kR3JvdXAuc2V0UmVzb3VyY2UodW5pZm9ybUdyb3VwLCAwKTtcbiAgICB9XG4gICAgZ2xvYmFsVW5pZm9ybURhdGEuYmluZEdyb3VwID0gYmluZEdyb3VwO1xuICAgIHRoaXMuX2N1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YSA9IGdsb2JhbFVuaWZvcm1EYXRhO1xuICB9XG4gIHB1c2gob3B0aW9ucykge1xuICAgIHRoaXMuYmluZChvcHRpb25zKTtcbiAgICB0aGlzLl9nbG9iYWxVbmlmb3JtRGF0YVN0YWNrW3RoaXMuX3N0YWNrSW5kZXgrK10gPSB0aGlzLl9jdXJyZW50R2xvYmFsVW5pZm9ybURhdGE7XG4gIH1cbiAgcG9wKCkge1xuICAgIHRoaXMuX2N1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YSA9IHRoaXMuX2dsb2JhbFVuaWZvcm1EYXRhU3RhY2tbLS10aGlzLl9zdGFja0luZGV4IC0gMV07XG4gICAgaWYgKHRoaXMuX3JlbmRlcmVyLnR5cGUgPT09IFJlbmRlcmVyVHlwZS5XRUJHTCkge1xuICAgICAgdGhpcy5fY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhLmJpbmRHcm91cC5yZXNvdXJjZXNbMF0udXBkYXRlKCk7XG4gICAgfVxuICB9XG4gIGdldCBiaW5kR3JvdXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YS5iaW5kR3JvdXA7XG4gIH1cbiAgZ2V0IGdsb2JhbFVuaWZvcm1EYXRhKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50R2xvYmFsVW5pZm9ybURhdGE7XG4gIH1cbiAgZ2V0IHVuaWZvcm1Hcm91cCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhLmJpbmRHcm91cC5yZXNvdXJjZXNbMF07XG4gIH1cbiAgX2NyZWF0ZVVuaWZvcm1zKCkge1xuICAgIGNvbnN0IGdsb2JhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1UHJvamVjdGlvbk1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgIHVXb3JsZFRyYW5zZm9ybU1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgIC8vIFRPRE8gLSBzb21lb25lIHNtYXJ0IC0gc2V0IHRoaXMgdG8gYmUgYSB1bm9ybTh4NCByYXRoZXIgdGhhbiBhIHZlYzQ8ZjMyPlxuICAgICAgdVdvcmxkQ29sb3JBbHBoYTogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheSg0KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdVJlc29sdXRpb246IHsgdmFsdWU6IFswLCAwXSwgdHlwZTogXCJ2ZWMyPGYzMj5cIiB9XG4gICAgfSwge1xuICAgICAgaXNTdGF0aWM6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gZ2xvYmFsVW5pZm9ybXM7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5HbG9iYWxVbmlmb3JtU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJnbG9iYWxVbmlmb3Jtc1wiXG59O1xuXG5leHBvcnQgeyBHbG9iYWxVbmlmb3JtU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HbG9iYWxVbmlmb3JtU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFRpY2tlciB9IGZyb20gJy4uLy4uLy4uL3RpY2tlci9UaWNrZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgdWlkID0gMTtcbmNsYXNzIFNjaGVkdWxlclN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3Rhc2tzID0gW107XG4gICAgLyoqIGEgc21hbGwgb2ZmIHNldCB0byBhcHBseSB0byB0aGUgcmVwZWF0IHNjaGVkdWxlcy4gVGhpcyBpcyBqdXN0IHRvIG1ha2Ugc3VyZSB0aGV5IHJ1biBhdCBzbGlnaHRseSBkaWZmZXJlbnQgdGltZXMgKi9cbiAgICB0aGlzLl9vZmZzZXQgPSAwO1xuICB9XG4gIC8qKiBJbml0aWFsaXplcyB0aGUgc2NoZWR1bGVyIHN5c3RlbSBhbmQgc3RhcnRzIHRoZSB0aWNrZXIuICovXG4gIGluaXQoKSB7XG4gICAgVGlja2VyLnN5c3RlbS5hZGQodGhpcy5fdXBkYXRlLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogU2NoZWR1bGVzIGEgcmVwZWF0aW5nIHRhc2suXG4gICAqIEBwYXJhbSBmdW5jIC0gVGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gICAqIEBwYXJhbSBkdXJhdGlvbiAtIFRoZSBpbnRlcnZhbCBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gICAqIEBwYXJhbSB1c2VPZmZzZXQgLSB0aGlzIHdpbGwgc3ByZWFkIG91dCB0YXNrcyBzbyB0aGF0IHRoZXkgZG8gbm90IGFsbCBydW4gYXQgdGhlIHNhbWUgdGltZVxuICAgKiBAcmV0dXJucyBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBzY2hlZHVsZWQgdGFzay5cbiAgICovXG4gIHJlcGVhdChmdW5jLCBkdXJhdGlvbiwgdXNlT2Zmc2V0ID0gdHJ1ZSkge1xuICAgIGNvbnN0IGlkID0gdWlkKys7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgaWYgKHVzZU9mZnNldCkge1xuICAgICAgdGhpcy5fb2Zmc2V0ICs9IDFlMztcbiAgICAgIG9mZnNldCA9IHRoaXMuX29mZnNldDtcbiAgICB9XG4gICAgdGhpcy5fdGFza3MucHVzaCh7XG4gICAgICBmdW5jLFxuICAgICAgZHVyYXRpb24sXG4gICAgICBzdGFydDogcGVyZm9ybWFuY2Uubm93KCksXG4gICAgICBvZmZzZXQsXG4gICAgICBsYXN0OiBwZXJmb3JtYW5jZS5ub3coKSxcbiAgICAgIHJlcGVhdDogdHJ1ZSxcbiAgICAgIGlkXG4gICAgfSk7XG4gICAgcmV0dXJuIGlkO1xuICB9XG4gIC8qKlxuICAgKiBDYW5jZWxzIGEgc2NoZWR1bGVkIHRhc2suXG4gICAqIEBwYXJhbSBpZCAtIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgdGFzayB0byBjYW5jZWwuXG4gICAqL1xuICBjYW5jZWwoaWQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3Rhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5fdGFza3NbaV0uaWQgPT09IGlkKSB7XG4gICAgICAgIHRoaXMuX3Rhc2tzLnNwbGljZShpLCAxKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyBhbmQgZXhlY3V0ZXMgdGhlIHNjaGVkdWxlZCB0YXNrcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGUoKSB7XG4gICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl90YXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdGFzayA9IHRoaXMuX3Rhc2tzW2ldO1xuICAgICAgaWYgKG5vdyAtIHRhc2sub2Zmc2V0IC0gdGFzay5sYXN0ID49IHRhc2suZHVyYXRpb24pIHtcbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IG5vdyAtIHRhc2suc3RhcnQ7XG4gICAgICAgIHRhc2suZnVuYyhlbGFwc2VkKTtcbiAgICAgICAgdGFzay5sYXN0ID0gbm93O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIHNjaGVkdWxlciBzeXN0ZW0gYW5kIHJlbW92ZXMgYWxsIHRhc2tzLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgVGlja2VyLnN5c3RlbS5yZW1vdmUodGhpcy5fdXBkYXRlLCB0aGlzKTtcbiAgICB0aGlzLl90YXNrcy5sZW5ndGggPSAwO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuU2NoZWR1bGVyU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJzY2hlZHVsZXJcIixcbiAgcHJpb3JpdHk6IDBcbn07XG5cbmV4cG9ydCB7IFNjaGVkdWxlclN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IERPTUFkYXB0ZXIgfSBmcm9tICcuLi9lbnZpcm9ubWVudC9hZGFwdGVyLm1qcyc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi9jb25zdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCBzYWlkSGVsbG8gPSBmYWxzZTtcbmZ1bmN0aW9uIHNheUhlbGxvKHR5cGUpIHtcbiAgaWYgKHNhaWRIZWxsbykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoRE9NQWRhcHRlci5nZXQoKS5nZXROYXZpZ2F0b3IoKS51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiY2hyb21lXCIpID4gLTEpIHtcbiAgICBjb25zdCBhcmdzID0gW1xuICAgICAgYCVjICAlYyAgJWMgICVjICAlYyBQaXhpSlMgJWMgdiR7VkVSU0lPTn0gKCR7dHlwZX0pIGh0dHA6Ly93d3cucGl4aWpzLmNvbS9cblxuYCxcbiAgICAgIFwiYmFja2dyb3VuZDogI0U3MjI2NDsgcGFkZGluZzo1cHggMDtcIixcbiAgICAgIFwiYmFja2dyb3VuZDogIzZDQTJFQTsgcGFkZGluZzo1cHggMDtcIixcbiAgICAgIFwiYmFja2dyb3VuZDogI0I1RDMzRDsgcGFkZGluZzo1cHggMDtcIixcbiAgICAgIFwiYmFja2dyb3VuZDogI0ZFRDIzRjsgcGFkZGluZzo1cHggMDtcIixcbiAgICAgIFwiY29sb3I6ICNGRkZGRkY7IGJhY2tncm91bmQ6ICNFNzIyNjQ7IHBhZGRpbmc6NXB4IDA7XCIsXG4gICAgICBcImNvbG9yOiAjRTcyMjY0OyBiYWNrZ3JvdW5kOiAjRkZGRkZGOyBwYWRkaW5nOjVweCAwO1wiXG4gICAgXTtcbiAgICBnbG9iYWxUaGlzLmNvbnNvbGUubG9nKC4uLmFyZ3MpO1xuICB9IGVsc2UgaWYgKGdsb2JhbFRoaXMuY29uc29sZSkge1xuICAgIGdsb2JhbFRoaXMuY29uc29sZS5sb2coYFBpeGlKUyAke1ZFUlNJT059IC0gJHt0eXBlfSAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS9gKTtcbiAgfVxuICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuXG5leHBvcnQgeyBzYXlIZWxsbyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2F5SGVsbG8ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgc2F5SGVsbG8gfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9zYXlIZWxsby5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBIZWxsb1N5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICAvKipcbiAgICogSXQgYWxsIHN0YXJ0cyBoZXJlISBUaGlzIGluaXRpYXRlcyBldmVyeSBzeXN0ZW0sIHBhc3NpbmcgaW4gdGhlIG9wdGlvbnMgZm9yIGFueSBzeXN0ZW0gYnkgbmFtZS5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSB0aGUgY29uZmlnIGZvciB0aGUgcmVuZGVyZXIgYW5kIGFsbCBpdHMgc3lzdGVtc1xuICAgKi9cbiAgaW5pdChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuaGVsbG8pIHtcbiAgICAgIGxldCBuYW1lID0gdGhpcy5fcmVuZGVyZXIubmFtZTtcbiAgICAgIGlmICh0aGlzLl9yZW5kZXJlci50eXBlID09PSBSZW5kZXJlclR5cGUuV0VCR0wpIHtcbiAgICAgICAgbmFtZSArPSBgICR7dGhpcy5fcmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb259YDtcbiAgICAgIH1cbiAgICAgIHNheUhlbGxvKG5hbWUpO1xuICAgIH1cbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkhlbGxvU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJoZWxsb1wiLFxuICBwcmlvcml0eTogLTJcbn07XG4vKiogVGhlIGRlZmF1bHQgb3B0aW9ucyBmb3IgdGhlIHN5c3RlbS4gKi9cbkhlbGxvU3lzdGVtLmRlZmF1bHRPcHRpb25zID0ge1xuICAvKioge0BsaW5rIFdlYkdMT3B0aW9ucy5oZWxsb30gKi9cbiAgaGVsbG86IGZhbHNlXG59O1xuXG5leHBvcnQgeyBIZWxsb1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SGVsbG9TeXN0ZW0ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjbGVhbkhhc2goaGFzaCkge1xuICBsZXQgY2xlYW4gPSBmYWxzZTtcbiAgZm9yIChjb25zdCBpIGluIGhhc2gpIHtcbiAgICBpZiAoaGFzaFtpXSA9PSB2b2lkIDApIHtcbiAgICAgIGNsZWFuID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAoIWNsZWFuKVxuICAgIHJldHVybiBoYXNoO1xuICBjb25zdCBjbGVhbkhhc2gyID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGZvciAoY29uc3QgaSBpbiBoYXNoKSB7XG4gICAgY29uc3QgdmFsdWUgPSBoYXNoW2ldO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgY2xlYW5IYXNoMltpXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2xlYW5IYXNoMjtcbn1cbmZ1bmN0aW9uIGNsZWFuQXJyYXkoYXJyKSB7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChhcnJbaV0gPT0gdm9pZCAwKSB7XG4gICAgICBvZmZzZXQrKztcbiAgICB9IGVsc2Uge1xuICAgICAgYXJyW2kgLSBvZmZzZXRdID0gYXJyW2ldO1xuICAgIH1cbiAgfVxuICBhcnIubGVuZ3RoIC09IG9mZnNldDtcbiAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IHsgY2xlYW5BcnJheSwgY2xlYW5IYXNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGVhbi5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBjbGVhbkhhc2gsIGNsZWFuQXJyYXkgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9kYXRhL2NsZWFuLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xubGV0IHJlbmRlcmFibGVHQ1RpY2sgPSAwO1xuY29uc3QgX1JlbmRlcmFibGVHQ1N5c3RlbSA9IGNsYXNzIF9SZW5kZXJhYmxlR0NTeXN0ZW0ge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBSZW5kZXJhYmxlR0NTeXN0ZW0gaW5zdGFuY2UuXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIGdhcmJhZ2UgY29sbGVjdGlvbiBzeXN0ZW0gd29ya3MgZm9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIC8qKiBBcnJheSBvZiByZW5kZXJhYmxlcyBiZWluZyB0cmFja2VkIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24gKi9cbiAgICB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXMgPSBbXTtcbiAgICAvKiogQXJyYXkgb2YgaGFzaCBvYmplY3RzIGJlaW5nIHRyYWNrZWQgZm9yIGNsZWFudXAgKi9cbiAgICB0aGlzLl9tYW5hZ2VkSGFzaGVzID0gW107XG4gICAgLyoqIEFycmF5IG9mIGFycmF5cyBiZWluZyB0cmFja2VkIGZvciBjbGVhbnVwICovXG4gICAgdGhpcy5fbWFuYWdlZEFycmF5cyA9IFtdO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBnYXJiYWdlIGNvbGxlY3Rpb24gc3lzdGVtIHdpdGggdGhlIHByb3ZpZGVkIG9wdGlvbnMuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgcmVuZGVyZXJcbiAgICovXG4gIGluaXQob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7IC4uLl9SZW5kZXJhYmxlR0NTeXN0ZW0uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICB0aGlzLm1heFVudXNlZFRpbWUgPSBvcHRpb25zLnJlbmRlcmFibGVHQ01heFVudXNlZFRpbWU7XG4gICAgdGhpcy5fZnJlcXVlbmN5ID0gb3B0aW9ucy5yZW5kZXJhYmxlR0NGcmVxdWVuY3k7XG4gICAgdGhpcy5lbmFibGVkID0gb3B0aW9ucy5yZW5kZXJhYmxlR0NBY3RpdmU7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgd2hldGhlciB0aGUgZ2FyYmFnZSBjb2xsZWN0aW9uIHN5c3RlbSBpcyBjdXJyZW50bHkgZW5hYmxlZC5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiBHQyBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICovXG4gIGdldCBlbmFibGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2hhbmRsZXI7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIGdhcmJhZ2UgY29sbGVjdGlvbiBzeXN0ZW0uXG4gICAqIFdoZW4gZW5hYmxlZCwgc2NoZWR1bGVzIHBlcmlvZGljIGNsZWFudXAgb2YgcmVzb3VyY2VzLlxuICAgKiBXaGVuIGRpc2FibGVkLCBjYW5jZWxzIGFsbCBzY2hlZHVsZWQgY2xlYW51cHMuXG4gICAqL1xuICBzZXQgZW5hYmxlZCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmVuYWJsZWQgPT09IHZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5faGFuZGxlciA9IHRoaXMuX3JlbmRlcmVyLnNjaGVkdWxlci5yZXBlYXQoXG4gICAgICAgICgpID0+IHRoaXMucnVuKCksXG4gICAgICAgIHRoaXMuX2ZyZXF1ZW5jeSxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgICB0aGlzLl9oYXNoSGFuZGxlciA9IHRoaXMuX3JlbmRlcmVyLnNjaGVkdWxlci5yZXBlYXQoXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGhhc2ggb2YgdGhpcy5fbWFuYWdlZEhhc2hlcykge1xuICAgICAgICAgICAgaGFzaC5jb250ZXh0W2hhc2guaGFzaF0gPSBjbGVhbkhhc2goaGFzaC5jb250ZXh0W2hhc2guaGFzaF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5fZnJlcXVlbmN5XG4gICAgICApO1xuICAgICAgdGhpcy5fYXJyYXlIYW5kbGVyID0gdGhpcy5fcmVuZGVyZXIuc2NoZWR1bGVyLnJlcGVhdChcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3QgYXJyYXkgb2YgdGhpcy5fbWFuYWdlZEFycmF5cykge1xuICAgICAgICAgICAgY2xlYW5BcnJheShhcnJheS5jb250ZXh0W2FycmF5Lmhhc2hdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRoaXMuX2ZyZXF1ZW5jeVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVuZGVyZXIuc2NoZWR1bGVyLmNhbmNlbCh0aGlzLl9oYW5kbGVyKTtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLnNjaGVkdWxlci5jYW5jZWwodGhpcy5faGFzaEhhbmRsZXIpO1xuICAgICAgdGhpcy5fcmVuZGVyZXIuc2NoZWR1bGVyLmNhbmNlbCh0aGlzLl9hcnJheUhhbmRsZXIpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWRkcyBhIGhhc2ggdGFibGUgdG8gYmUgbWFuYWdlZCBieSB0aGUgZ2FyYmFnZSBjb2xsZWN0b3IuXG4gICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIG9iamVjdCBjb250YWluaW5nIHRoZSBoYXNoIHRhYmxlXG4gICAqIEBwYXJhbSBoYXNoIC0gVGhlIHByb3BlcnR5IG5hbWUgb2YgdGhlIGhhc2ggdGFibGVcbiAgICovXG4gIGFkZE1hbmFnZWRIYXNoKGNvbnRleHQsIGhhc2gpIHtcbiAgICB0aGlzLl9tYW5hZ2VkSGFzaGVzLnB1c2goeyBjb250ZXh0LCBoYXNoIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGFuIGFycmF5IHRvIGJlIG1hbmFnZWQgYnkgdGhlIGdhcmJhZ2UgY29sbGVjdG9yLlxuICAgKiBAcGFyYW0gY29udGV4dCAtIFRoZSBvYmplY3QgY29udGFpbmluZyB0aGUgYXJyYXlcbiAgICogQHBhcmFtIGhhc2ggLSBUaGUgcHJvcGVydHkgbmFtZSBvZiB0aGUgYXJyYXlcbiAgICovXG4gIGFkZE1hbmFnZWRBcnJheShjb250ZXh0LCBoYXNoKSB7XG4gICAgdGhpcy5fbWFuYWdlZEFycmF5cy5wdXNoKHsgY29udGV4dCwgaGFzaCB9KTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgR0MgdGltZXN0YW1wIGFuZCB0cmFja2luZyBiZWZvcmUgcmVuZGVyaW5nLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSByZW5kZXIgb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5jb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlclxuICAgKi9cbiAgcHJlcmVuZGVyKHtcbiAgICBjb250YWluZXJcbiAgfSkge1xuICAgIHRoaXMuX25vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnRhaW5lci5yZW5kZXJHcm91cC5nY1RpY2sgPSByZW5kZXJhYmxlR0NUaWNrKys7XG4gICAgdGhpcy5fdXBkYXRlSW5zdHJ1Y3Rpb25HQ1RpY2soY29udGFpbmVyLnJlbmRlckdyb3VwLCBjb250YWluZXIucmVuZGVyR3JvdXAuZ2NUaWNrKTtcbiAgfVxuICAvKipcbiAgICogU3RhcnRzIHRyYWNraW5nIGEgcmVuZGVyYWJsZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gcmVuZGVyYWJsZSAtIFRoZSByZW5kZXJhYmxlIHRvIHRyYWNrXG4gICAqL1xuICBhZGRSZW5kZXJhYmxlKHJlbmRlcmFibGUpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZClcbiAgICAgIHJldHVybjtcbiAgICBpZiAocmVuZGVyYWJsZS5fbGFzdFVzZWQgPT09IC0xKSB7XG4gICAgICB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXMucHVzaChyZW5kZXJhYmxlKTtcbiAgICAgIHJlbmRlcmFibGUub25jZShcImRlc3Ryb3llZFwiLCB0aGlzLl9yZW1vdmVSZW5kZXJhYmxlLCB0aGlzKTtcbiAgICB9XG4gICAgcmVuZGVyYWJsZS5fbGFzdFVzZWQgPSB0aGlzLl9ub3c7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGdhcmJhZ2UgY29sbGVjdGlvbiBieSBjbGVhbmluZyB1cCB1bnVzZWQgcmVuZGVyYWJsZXMuXG4gICAqIFJlbW92ZXMgcmVuZGVyYWJsZXMgdGhhdCBoYXZlbid0IGJlZW4gdXNlZCBmb3IgbG9uZ2VyIHRoYW4gbWF4VW51c2VkVGltZS5cbiAgICovXG4gIHJ1bigpIHtcbiAgICBjb25zdCBub3cgPSB0aGlzLl9ub3c7XG4gICAgY29uc3QgbWFuYWdlZFJlbmRlcmFibGVzID0gdGhpcy5fbWFuYWdlZFJlbmRlcmFibGVzO1xuICAgIGNvbnN0IHJlbmRlclBpcGVzID0gdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXM7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYW5hZ2VkUmVuZGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHJlbmRlcmFibGUgPSBtYW5hZ2VkUmVuZGVyYWJsZXNbaV07XG4gICAgICBpZiAocmVuZGVyYWJsZSA9PT0gbnVsbCkge1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJHcm91cCA9IHJlbmRlcmFibGUucmVuZGVyR3JvdXAgPz8gcmVuZGVyYWJsZS5wYXJlbnRSZW5kZXJHcm91cDtcbiAgICAgIGNvbnN0IGN1cnJlbnRUaWNrID0gcmVuZGVyR3JvdXA/Lmluc3RydWN0aW9uU2V0Py5nY1RpY2sgPz8gLTE7XG4gICAgICBpZiAoKHJlbmRlckdyb3VwPy5nY1RpY2sgPz8gMCkgPT09IGN1cnJlbnRUaWNrKSB7XG4gICAgICAgIHJlbmRlcmFibGUuX2xhc3RVc2VkID0gbm93O1xuICAgICAgfVxuICAgICAgaWYgKG5vdyAtIHJlbmRlcmFibGUuX2xhc3RVc2VkID4gdGhpcy5tYXhVbnVzZWRUaW1lKSB7XG4gICAgICAgIGlmICghcmVuZGVyYWJsZS5kZXN0cm95ZWQpIHtcbiAgICAgICAgICBjb25zdCBycCA9IHJlbmRlclBpcGVzO1xuICAgICAgICAgIGlmIChyZW5kZXJHcm91cClcbiAgICAgICAgICAgIHJlbmRlckdyb3VwLnN0cnVjdHVyZURpZENoYW5nZSA9IHRydWU7XG4gICAgICAgICAgcnBbcmVuZGVyYWJsZS5yZW5kZXJQaXBlSWRdLmRlc3Ryb3lSZW5kZXJhYmxlKHJlbmRlcmFibGUpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlcmFibGUuX2xhc3RVc2VkID0gLTE7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICByZW5kZXJhYmxlLm9mZihcImRlc3Ryb3llZFwiLCB0aGlzLl9yZW1vdmVSZW5kZXJhYmxlLCB0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hbmFnZWRSZW5kZXJhYmxlc1tpIC0gb2Zmc2V0XSA9IHJlbmRlcmFibGU7XG4gICAgICB9XG4gICAgfVxuICAgIG1hbmFnZWRSZW5kZXJhYmxlcy5sZW5ndGggLT0gb2Zmc2V0O1xuICB9XG4gIC8qKiBDbGVhbnMgdXAgdGhlIGdhcmJhZ2UgY29sbGVjdGlvbiBzeXN0ZW0uIERpc2FibGVzIEdDIGFuZCByZW1vdmVzIGFsbCB0cmFja2VkIHJlc291cmNlcy4gKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fbWFuYWdlZFJlbmRlcmFibGVzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5fbWFuYWdlZEhhc2hlcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuX21hbmFnZWRBcnJheXMubGVuZ3RoID0gMDtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBhIHJlbmRlcmFibGUgZnJvbSBiZWluZyB0cmFja2VkIHdoZW4gaXQncyBkZXN0cm95ZWQuXG4gICAqIEBwYXJhbSByZW5kZXJhYmxlIC0gVGhlIHJlbmRlcmFibGUgdG8gc3RvcCB0cmFja2luZ1xuICAgKi9cbiAgX3JlbW92ZVJlbmRlcmFibGUocmVuZGVyYWJsZSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbWFuYWdlZFJlbmRlcmFibGVzLmluZGV4T2YocmVuZGVyYWJsZSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHJlbmRlcmFibGUub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX3JlbW92ZVJlbmRlcmFibGUsIHRoaXMpO1xuICAgICAgdGhpcy5fbWFuYWdlZFJlbmRlcmFibGVzW2luZGV4XSA9IG51bGw7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBHQyB0aWNrIGNvdW50ZXIgZm9yIGEgcmVuZGVyIGdyb3VwIGFuZCBpdHMgY2hpbGRyZW4uXG4gICAqIEBwYXJhbSByZW5kZXJHcm91cCAtIFRoZSByZW5kZXIgZ3JvdXAgdG8gdXBkYXRlXG4gICAqIEBwYXJhbSBnY1RpY2sgLSBUaGUgbmV3IHRpY2sgdmFsdWVcbiAgICovXG4gIF91cGRhdGVJbnN0cnVjdGlvbkdDVGljayhyZW5kZXJHcm91cCwgZ2NUaWNrKSB7XG4gICAgcmVuZGVyR3JvdXAuaW5zdHJ1Y3Rpb25TZXQuZ2NUaWNrID0gZ2NUaWNrO1xuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgcmVuZGVyR3JvdXAucmVuZGVyR3JvdXBDaGlsZHJlbikge1xuICAgICAgdGhpcy5fdXBkYXRlSW5zdHJ1Y3Rpb25HQ1RpY2soY2hpbGQsIGdjVGljayk7XG4gICAgfVxuICB9XG59O1xuLyoqXG4gKiBFeHRlbnNpb24gbWV0YWRhdGEgZm9yIHJlZ2lzdGVyaW5nIHRoaXMgc3lzdGVtIHdpdGggdGhlIHJlbmRlcmVyLlxuICogQGlnbm9yZVxuICovXG5fUmVuZGVyYWJsZUdDU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJyZW5kZXJhYmxlR0NcIixcbiAgcHJpb3JpdHk6IDBcbn07XG4vKipcbiAqIERlZmF1bHQgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgZ2FyYmFnZSBjb2xsZWN0aW9uIHN5c3RlbS5cbiAqIFRoZXNlIGNhbiBiZSBvdmVycmlkZGVuIHdoZW4gaW5pdGlhbGl6aW5nIHRoZSByZW5kZXJlci5cbiAqL1xuX1JlbmRlcmFibGVHQ1N5c3RlbS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqIEVuYWJsZS9kaXNhYmxlIHRoZSBnYXJiYWdlIGNvbGxlY3RvciAqL1xuICByZW5kZXJhYmxlR0NBY3RpdmU6IHRydWUsXG4gIC8qKiBUaW1lIGluIG1zIGJlZm9yZSBhbiB1bnVzZWQgcmVzb3VyY2UgaXMgY29sbGVjdGVkIChkZWZhdWx0IDEgbWludXRlKSAqL1xuICByZW5kZXJhYmxlR0NNYXhVbnVzZWRUaW1lOiA2ZTQsXG4gIC8qKiBIb3cgb2Z0ZW4gdG8gcnVuIGdhcmJhZ2UgY29sbGVjdGlvbiBpbiBtcyAoZGVmYXVsdCAzMCBzZWNvbmRzKSAqL1xuICByZW5kZXJhYmxlR0NGcmVxdWVuY3k6IDNlNFxufTtcbmxldCBSZW5kZXJhYmxlR0NTeXN0ZW0gPSBfUmVuZGVyYWJsZUdDU3lzdGVtO1xuXG5leHBvcnQgeyBSZW5kZXJhYmxlR0NTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlcmFibGVHQ1N5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgX1RleHR1cmVHQ1N5c3RlbSA9IGNsYXNzIF9UZXh0dXJlR0NTeXN0ZW0ge1xuICAvKiogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci4gKi9cbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuY291bnQgPSAwO1xuICAgIHRoaXMuY2hlY2tDb3VudCA9IDA7XG4gIH1cbiAgaW5pdChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX1RleHR1cmVHQ1N5c3RlbS5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHRoaXMuY2hlY2tDb3VudE1heCA9IG9wdGlvbnMudGV4dHVyZUdDQ2hlY2tDb3VudE1heDtcbiAgICB0aGlzLm1heElkbGUgPSBvcHRpb25zLnRleHR1cmVHQ0FNYXhJZGxlID8/IG9wdGlvbnMudGV4dHVyZUdDTWF4SWRsZTtcbiAgICB0aGlzLmFjdGl2ZSA9IG9wdGlvbnMudGV4dHVyZUdDQWN0aXZlO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWQuXG4gICAqIElmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSwgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS5cbiAgICovXG4gIHBvc3RyZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLl9yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNvdW50Kys7XG4gICAgaWYgKCF0aGlzLmFjdGl2ZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmNoZWNrQ291bnQrKztcbiAgICBpZiAodGhpcy5jaGVja0NvdW50ID4gdGhpcy5jaGVja0NvdW50TWF4KSB7XG4gICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuICAgICAgdGhpcy5ydW4oKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZC5cbiAgICogSWYgdGhlIHRleHR1cmUgaGFzIG5vdCBiZWVuIHVzZWQgZm9yIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lLCBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVLlxuICAgKi9cbiAgcnVuKCkge1xuICAgIGNvbnN0IG1hbmFnZWRUZXh0dXJlcyA9IHRoaXMuX3JlbmRlcmVyLnRleHR1cmUubWFuYWdlZFRleHR1cmVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0ZXh0dXJlID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuICAgICAgaWYgKHRleHR1cmUuYXV0b0dhcmJhZ2VDb2xsZWN0ICYmIHRleHR1cmUucmVzb3VyY2UgJiYgdGV4dHVyZS5fdG91Y2hlZCA+IC0xICYmIHRoaXMuY291bnQgLSB0ZXh0dXJlLl90b3VjaGVkID4gdGhpcy5tYXhJZGxlKSB7XG4gICAgICAgIHRleHR1cmUuX3RvdWNoZWQgPSAtMTtcbiAgICAgICAgdGV4dHVyZS51bmxvYWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn07XG4vKiogQGlnbm9yZSAqL1xuX1RleHR1cmVHQ1N5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwidGV4dHVyZUdDXCJcbn07XG4vKiogZGVmYXVsdCBvcHRpb25zIGZvciB0aGUgVGV4dHVyZUdDU3lzdGVtICovXG5fVGV4dHVyZUdDU3lzdGVtLmRlZmF1bHRPcHRpb25zID0ge1xuICAvKipcbiAgICogSWYgc2V0IHRvIHRydWUsIHRoaXMgd2lsbCBlbmFibGUgdGhlIGdhcmJhZ2UgY29sbGVjdG9yIG9uIHRoZSBHUFUuXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIHRleHR1cmVHQ0FjdGl2ZTogdHJ1ZSxcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDguMy4wXG4gICAqIEBzZWUge0BsaW5rIFRleHR1cmVHQ1N5c3RlbU9wdGlvbnMudGV4dHVyZUdDTWF4SWRsZX1cbiAgICovXG4gIHRleHR1cmVHQ0FNYXhJZGxlOiBudWxsLFxuICAvKipcbiAgICogVGhlIG1heGltdW0gaWRsZSBmcmFtZXMgYmVmb3JlIGEgdGV4dHVyZSBpcyBkZXN0cm95ZWQgYnkgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICAgKiBAZGVmYXVsdCA2MCAqIDYwXG4gICAqL1xuICB0ZXh0dXJlR0NNYXhJZGxlOiA2MCAqIDYwLFxuICAvKipcbiAgICogRnJhbWVzIGJldHdlZW4gdHdvIGdhcmJhZ2UgY29sbGVjdGlvbnMuXG4gICAqIEBkZWZhdWx0IDYwMFxuICAgKi9cbiAgdGV4dHVyZUdDQ2hlY2tDb3VudE1heDogNjAwXG59O1xubGV0IFRleHR1cmVHQ1N5c3RlbSA9IF9UZXh0dXJlR0NTeXN0ZW07XG5cbmV4cG9ydCB7IFRleHR1cmVHQ1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZUdDU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IERPTUFkYXB0ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9lbnZpcm9ubWVudC9hZGFwdGVyLm1qcyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9zaGFwZXMvUmVjdGFuZ2xlLm1qcyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiwgdjhfMF8wIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuaW1wb3J0IHsgUmVuZGVyVGFyZ2V0IH0gZnJvbSAnLi4vcmVuZGVyVGFyZ2V0L1JlbmRlclRhcmdldC5tanMnO1xuaW1wb3J0IHsgZ2V0Q2FudmFzVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvdXRpbHMvZ2V0Q2FudmFzVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9WaWV3U3lzdGVtID0gY2xhc3MgX1ZpZXdTeXN0ZW0ge1xuICAvKipcbiAgICogV2hldGhlciBDU1MgZGltZW5zaW9ucyBvZiBjYW52YXMgdmlldyBzaG91bGQgYmUgcmVzaXplZCB0byBzY3JlZW4gZGltZW5zaW9ucyBhdXRvbWF0aWNhbGx5LlxuICAgKiBUaGlzIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBIVE1MQ2FudmFzRWxlbWVudCBhbmQgd2lsbCBiZSBpZ25vcmVkIGlmIHRoZSBjYW52YXMgaXMgYW4gT2Zmc2NyZWVuQ2FudmFzLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBhdXRvRGVuc2l0eSgpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0dXJlLnNvdXJjZS5hdXRvRGVuc2l0eTtcbiAgfVxuICBzZXQgYXV0b0RlbnNpdHkodmFsdWUpIHtcbiAgICB0aGlzLnRleHR1cmUuc291cmNlLmF1dG9EZW5zaXR5ID0gdmFsdWU7XG4gIH1cbiAgLyoqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci4gKi9cbiAgZ2V0IHJlc29sdXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dHVyZS5zb3VyY2UuX3Jlc29sdXRpb247XG4gIH1cbiAgc2V0IHJlc29sdXRpb24odmFsdWUpIHtcbiAgICB0aGlzLnRleHR1cmUuc291cmNlLnJlc2l6ZShcbiAgICAgIHRoaXMudGV4dHVyZS5zb3VyY2Uud2lkdGgsXG4gICAgICB0aGlzLnRleHR1cmUuc291cmNlLmhlaWdodCxcbiAgICAgIHZhbHVlXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogaW5pdGlhdGVzIHRoZSB2aWV3IHN5c3RlbVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIHRoZSBvcHRpb25zIGZvciB0aGUgdmlld1xuICAgKi9cbiAgaW5pdChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIC4uLl9WaWV3U3lzdGVtLmRlZmF1bHRPcHRpb25zLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG4gICAgaWYgKG9wdGlvbnMudmlldykge1xuICAgICAgZGVwcmVjYXRpb24odjhfMF8wLCBcIlZpZXdTeXN0ZW0udmlldyBoYXMgYmVlbiByZW5hbWVkIHRvIFZpZXdTeXN0ZW0uY2FudmFzXCIpO1xuICAgICAgb3B0aW9ucy5jYW52YXMgPSBvcHRpb25zLnZpZXc7XG4gICAgfVxuICAgIHRoaXMuc2NyZWVuID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG4gICAgdGhpcy5jYW52YXMgPSBvcHRpb25zLmNhbnZhcyB8fCBET01BZGFwdGVyLmdldCgpLmNyZWF0ZUNhbnZhcygpO1xuICAgIHRoaXMuYW50aWFsaWFzID0gISFvcHRpb25zLmFudGlhbGlhcztcbiAgICB0aGlzLnRleHR1cmUgPSBnZXRDYW52YXNUZXh0dXJlKHRoaXMuY2FudmFzLCBvcHRpb25zKTtcbiAgICB0aGlzLnJlbmRlclRhcmdldCA9IG5ldyBSZW5kZXJUYXJnZXQoe1xuICAgICAgY29sb3JUZXh0dXJlczogW3RoaXMudGV4dHVyZV0sXG4gICAgICBkZXB0aDogISFvcHRpb25zLmRlcHRoLFxuICAgICAgaXNSb290OiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy50ZXh0dXJlLnNvdXJjZS50cmFuc3BhcmVudCA9IG9wdGlvbnMuYmFja2dyb3VuZEFscGhhIDwgMTtcbiAgICB0aGlzLnJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb247XG4gIH1cbiAgLyoqXG4gICAqIFJlc2l6ZXMgdGhlIHNjcmVlbiBhbmQgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgZGltZW5zaW9ucy5cbiAgICogQHBhcmFtIGRlc2lyZWRTY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICogQHBhcmFtIGRlc2lyZWRTY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgKiBAcGFyYW0gcmVzb2x1dGlvblxuICAgKi9cbiAgcmVzaXplKGRlc2lyZWRTY3JlZW5XaWR0aCwgZGVzaXJlZFNjcmVlbkhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgIHRoaXMudGV4dHVyZS5zb3VyY2UucmVzaXplKGRlc2lyZWRTY3JlZW5XaWR0aCwgZGVzaXJlZFNjcmVlbkhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgdGhpcy5zY3JlZW4ud2lkdGggPSB0aGlzLnRleHR1cmUuZnJhbWUud2lkdGg7XG4gICAgdGhpcy5zY3JlZW4uaGVpZ2h0ID0gdGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodDtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveXMgdGhpcyBTeXN0ZW0gYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgY2FudmFzIGZyb20gdGhlIGRvbS5cbiAgICogQHBhcmFtIHtvcHRpb25zIHwgZmFsc2V9IG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgZGVzdHJveWluZyB0aGUgdmlldywgb3IgXCJmYWxzZVwiLlxuICAgKiBAZXhhbXBsZVxuICAgKiB2aWV3U3lzdGVtLmRlc3Ryb3koKTtcbiAgICogdmlld1N5c3RlbS5kZXN0cm95KHRydWUpO1xuICAgKiB2aWV3U3lzdGVtLmRlc3Ryb3koeyByZW1vdmVWaWV3OiB0cnVlIH0pO1xuICAgKi9cbiAgZGVzdHJveShvcHRpb25zID0gZmFsc2UpIHtcbiAgICBjb25zdCByZW1vdmVWaWV3ID0gdHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiID8gb3B0aW9ucyA6ICEhb3B0aW9ucz8ucmVtb3ZlVmlldztcbiAgICBpZiAocmVtb3ZlVmlldyAmJiB0aGlzLmNhbnZhcy5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLmNhbnZhcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY2FudmFzKTtcbiAgICB9XG4gIH1cbn07XG4vKiogQGlnbm9yZSAqL1xuX1ZpZXdTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcInZpZXdcIixcbiAgcHJpb3JpdHk6IDBcbn07XG4vKiogVGhlIGRlZmF1bHQgb3B0aW9ucyBmb3IgdGhlIHZpZXcgc3lzdGVtLiAqL1xuX1ZpZXdTeXN0ZW0uZGVmYXVsdE9wdGlvbnMgPSB7XG4gIC8qKlxuICAgKiB7QGxpbmsgV2ViR0xPcHRpb25zLndpZHRofVxuICAgKiBAZGVmYXVsdCA4MDBcbiAgICovXG4gIHdpZHRoOiA4MDAsXG4gIC8qKlxuICAgKiB7QGxpbmsgV2ViR0xPcHRpb25zLmhlaWdodH1cbiAgICogQGRlZmF1bHQgNjAwXG4gICAqL1xuICBoZWlnaHQ6IDYwMCxcbiAgLyoqXG4gICAqIHtAbGluayBXZWJHTE9wdGlvbnMuYXV0b0RlbnNpdHl9XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBhdXRvRGVuc2l0eTogZmFsc2UsXG4gIC8qKlxuICAgKiB7QGxpbmsgV2ViR0xPcHRpb25zLmFudGlhbGlhc31cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGFudGlhbGlhczogZmFsc2Vcbn07XG5sZXQgVmlld1N5c3RlbSA9IF9WaWV3U3lzdGVtO1xuXG5leHBvcnQgeyBWaWV3U3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWV3U3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IEN1c3RvbVJlbmRlclBpcGUgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZS9jb250YWluZXIvQ3VzdG9tUmVuZGVyUGlwZS5tanMnO1xuaW1wb3J0IHsgUmVuZGVyR3JvdXBQaXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL1JlbmRlckdyb3VwUGlwZS5tanMnO1xuaW1wb3J0IHsgUmVuZGVyR3JvdXBTeXN0ZW0gfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZS9jb250YWluZXIvUmVuZGVyR3JvdXBTeXN0ZW0ubWpzJztcbmltcG9ydCB7IFNwcml0ZVBpcGUgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZS9zcHJpdGUvU3ByaXRlUGlwZS5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJJbml0SG9vayB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2dsb2JhbC9nbG9iYWxIb29rcy5tanMnO1xuaW1wb3J0IHsgQmF0Y2hlclBpcGUgfSBmcm9tICcuLi8uLi8uLi9iYXRjaGVyL3NoYXJlZC9CYXRjaGVyUGlwZS5tanMnO1xuaW1wb3J0IHsgQWxwaGFNYXNrUGlwZSB9IGZyb20gJy4uLy4uLy4uL21hc2svYWxwaGEvQWxwaGFNYXNrUGlwZS5tanMnO1xuaW1wb3J0IHsgQ29sb3JNYXNrUGlwZSB9IGZyb20gJy4uLy4uLy4uL21hc2svY29sb3IvQ29sb3JNYXNrUGlwZS5tanMnO1xuaW1wb3J0IHsgU3RlbmNpbE1hc2tQaXBlIH0gZnJvbSAnLi4vLi4vLi4vbWFzay9zdGVuY2lsL1N0ZW5jaWxNYXNrUGlwZS5tanMnO1xuaW1wb3J0IHsgQmFja2dyb3VuZFN5c3RlbSB9IGZyb20gJy4uL2JhY2tncm91bmQvQmFja2dyb3VuZFN5c3RlbS5tanMnO1xuaW1wb3J0IHsgQmxlbmRNb2RlUGlwZSB9IGZyb20gJy4uL2JsZW5kTW9kZXMvQmxlbmRNb2RlUGlwZS5tanMnO1xuaW1wb3J0IHsgRXh0cmFjdFN5c3RlbSB9IGZyb20gJy4uL2V4dHJhY3QvRXh0cmFjdFN5c3RlbS5tanMnO1xuaW1wb3J0IHsgR2VuZXJhdGVUZXh0dXJlU3lzdGVtIH0gZnJvbSAnLi4vZXh0cmFjdC9HZW5lcmF0ZVRleHR1cmVTeXN0ZW0ubWpzJztcbmltcG9ydCB7IEdsb2JhbFVuaWZvcm1TeXN0ZW0gfSBmcm9tICcuLi9yZW5kZXJUYXJnZXQvR2xvYmFsVW5pZm9ybVN5c3RlbS5tanMnO1xuaW1wb3J0IHsgU2NoZWR1bGVyU3lzdGVtIH0gZnJvbSAnLi4vU2NoZWR1bGVyU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBIZWxsb1N5c3RlbSB9IGZyb20gJy4uL3N0YXJ0dXAvSGVsbG9TeXN0ZW0ubWpzJztcbmltcG9ydCB7IFJlbmRlcmFibGVHQ1N5c3RlbSB9IGZyb20gJy4uL3RleHR1cmUvUmVuZGVyYWJsZUdDU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlR0NTeXN0ZW0gfSBmcm9tICcuLi90ZXh0dXJlL1RleHR1cmVHQ1N5c3RlbS5tanMnO1xuaW1wb3J0IHsgVmlld1N5c3RlbSB9IGZyb20gJy4uL3ZpZXcvVmlld1N5c3RlbS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IFNoYXJlZFN5c3RlbXMgPSBbXG4gIEJhY2tncm91bmRTeXN0ZW0sXG4gIEdsb2JhbFVuaWZvcm1TeXN0ZW0sXG4gIEhlbGxvU3lzdGVtLFxuICBWaWV3U3lzdGVtLFxuICBSZW5kZXJHcm91cFN5c3RlbSxcbiAgVGV4dHVyZUdDU3lzdGVtLFxuICBHZW5lcmF0ZVRleHR1cmVTeXN0ZW0sXG4gIEV4dHJhY3RTeXN0ZW0sXG4gIFJlbmRlcmVySW5pdEhvb2ssXG4gIFJlbmRlcmFibGVHQ1N5c3RlbSxcbiAgU2NoZWR1bGVyU3lzdGVtXG5dO1xuY29uc3QgU2hhcmVkUmVuZGVyUGlwZXMgPSBbXG4gIEJsZW5kTW9kZVBpcGUsXG4gIEJhdGNoZXJQaXBlLFxuICBTcHJpdGVQaXBlLFxuICBSZW5kZXJHcm91cFBpcGUsXG4gIEFscGhhTWFza1BpcGUsXG4gIFN0ZW5jaWxNYXNrUGlwZSxcbiAgQ29sb3JNYXNrUGlwZSxcbiAgQ3VzdG9tUmVuZGVyUGlwZVxuXTtcblxuZXhwb3J0IHsgU2hhcmVkUmVuZGVyUGlwZXMsIFNoYXJlZFN5c3RlbXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNoYXJlZFN5c3RlbXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ2FudmFzU291cmNlIH0gZnJvbSAnLi4vc291cmNlcy9DYW52YXNTb3VyY2UubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi9UZXh0dXJlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgY2FudmFzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuZnVuY3Rpb24gZ2V0Q2FudmFzVGV4dHVyZShjYW52YXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFjYW52YXNDYWNoZS5oYXMoY2FudmFzKSkge1xuICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZSh7XG4gICAgICBzb3VyY2U6IG5ldyBDYW52YXNTb3VyY2Uoe1xuICAgICAgICByZXNvdXJjZTogY2FudmFzLFxuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9KVxuICAgIH0pO1xuICAgIGNvbnN0IG9uRGVzdHJveSA9ICgpID0+IHtcbiAgICAgIGlmIChjYW52YXNDYWNoZS5nZXQoY2FudmFzKSA9PT0gdGV4dHVyZSkge1xuICAgICAgICBjYW52YXNDYWNoZS5kZWxldGUoY2FudmFzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRleHR1cmUub25jZShcImRlc3Ryb3lcIiwgb25EZXN0cm95KTtcbiAgICB0ZXh0dXJlLnNvdXJjZS5vbmNlKFwiZGVzdHJveVwiLCBvbkRlc3Ryb3kpO1xuICAgIGNhbnZhc0NhY2hlLnNldChjYW52YXMsIHRleHR1cmUpO1xuICB9XG4gIHJldHVybiBjYW52YXNDYWNoZS5nZXQoY2FudmFzKTtcbn1cbmZ1bmN0aW9uIGhhc0NhY2hlZENhbnZhc1RleHR1cmUoY2FudmFzKSB7XG4gIHJldHVybiBjYW52YXNDYWNoZS5oYXMoY2FudmFzKTtcbn1cblxuZXhwb3J0IHsgZ2V0Q2FudmFzVGV4dHVyZSwgaGFzQ2FjaGVkQ2FudmFzVGV4dHVyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Q2FudmFzVGV4dHVyZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNvbG9yVG9Vbmlmb3JtKHJnYiwgYWxwaGEsIG91dCwgb2Zmc2V0KSB7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiID4+IDE2ICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IChyZ2IgPj4gOCAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IGFscGhhO1xufVxuZnVuY3Rpb24gY29sb3IzMkJpdFRvVW5pZm9ybShhYmdyLCBvdXQsIG9mZnNldCkge1xuICBjb25zdCBhbHBoYSA9IChhYmdyID4+IDI0ICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyICYgMjU1KSAvIDI1NSAqIGFscGhhO1xuICBvdXRbb2Zmc2V0KytdID0gKGFiZ3IgPj4gOCAmIDI1NSkgLyAyNTUgKiBhbHBoYTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyID4+IDE2ICYgMjU1KSAvIDI1NSAqIGFscGhhO1xuICBvdXRbb2Zmc2V0KytdID0gYWxwaGE7XG59XG5cbmV4cG9ydCB7IGNvbG9yMzJCaXRUb1VuaWZvcm0sIGNvbG9yVG9Vbmlmb3JtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvclRvVW5pZm9ybS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNsYXNzIEJhdGNoYWJsZVNwcml0ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYmF0Y2hlck5hbWUgPSBcImRlZmF1bHRcIjtcbiAgICB0aGlzLnRvcG9sb2d5ID0gXCJ0cmlhbmdsZS1saXN0XCI7XG4gICAgLy8gYmF0Y2ggc3BlY2lmaWMuLlxuICAgIHRoaXMuYXR0cmlidXRlU2l6ZSA9IDQ7XG4gICAgdGhpcy5pbmRleFNpemUgPSA2O1xuICAgIHRoaXMucGFja0FzUXVhZCA9IHRydWU7XG4gICAgdGhpcy5yb3VuZFBpeGVscyA9IDA7XG4gICAgdGhpcy5fYXR0cmlidXRlU3RhcnQgPSAwO1xuICAgIC8vIGxvY2F0aW9uIGluIHRoZSBidWZmZXJcbiAgICB0aGlzLl9iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaCA9IG51bGw7XG4gIH1cbiAgZ2V0IGJsZW5kTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJhYmxlLmdyb3VwQmxlbmRNb2RlO1xuICB9XG4gIGdldCBjb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJhYmxlLmdyb3VwQ29sb3JBbHBoYTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2hlciA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2ggPSBudWxsO1xuICAgIHRoaXMuYm91bmRzID0gbnVsbDtcbiAgfVxuICBkZXN0cm95KCkge1xuICB9XG59XG5cbmV4cG9ydCB7IEJhdGNoYWJsZVNwcml0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hhYmxlU3ByaXRlLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJsb2NhbFVuaWZvcm1CaXQiLCJuYW1lIiwidmVydGV4IiwiaGVhZGVyIiwibWFpbiIsImVuZCIsImxvY2FsVW5pZm9ybUJpdEdyb3VwMiIsInJlcGxhY2UiLCJsb2NhbFVuaWZvcm1CaXRHbCIsInRleHR1cmVCaXQiLCJmcmFnbWVudCIsInRleHR1cmVCaXRHbCIsImVuc3VyZUF0dHJpYnV0ZXMiLCJnZW9tZXRyeSIsImV4dHJhY3RlZERhdGEiLCJpIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZSIsImF0dHJpYnV0ZURhdGEiLCJmb3JtYXQiLCJvZmZzZXQiLCJpbnN0YW5jZSIsImJ1ZmZlcnMiLCJ0ZW1wU3RyaWRlIiwidGVtcFN0YXJ0IiwiaiIsImJ1ZmZlciIsInVpZCIsInN0cmlkZSIsInN0YXJ0IiwiZW5zdXJlU3RhcnRBbmRTdHJpZGUiLCJHcHVTdGVuY2lsTW9kZXNUb1BpeGkiLCJOT05FIiwiRElTQUJMRUQiLCJzdGVuY2lsV3JpdGVNYXNrIiwic3RlbmNpbFJlYWRNYXNrIiwiUkVOREVSSU5HX01BU0tfQUREIiwic3RlbmNpbEZyb250IiwiY29tcGFyZSIsInBhc3NPcCIsInN0ZW5jaWxCYWNrIiwiUkVOREVSSU5HX01BU0tfUkVNT1ZFIiwiTUFTS19BQ1RJVkUiLCJJTlZFUlNFX01BU0tfQUNUSVZFIiwiQnVmZmVyUmVzb3VyY2UiLCJjb25zdHJ1Y3RvciIsInNpemUiLCJzdXBlciIsInRoaXMiLCJfcmVzb3VyY2VUeXBlIiwiX3RvdWNoZWQiLCJfcmVzb3VyY2VJZCIsIl9idWZmZXJSZXNvdXJjZSIsImRlc3Ryb3llZCIsIm9uIiwib25CdWZmZXJDaGFuZ2UiLCJlbWl0IiwiZGVzdHJveSIsImRlc3Ryb3lCdWZmZXIiLCJfUmVuZGVyVGFyZ2V0IiwiZGVzY3JpcHRvciIsImNvbG9yVGV4dHVyZXMiLCJkaXJ0eUlkIiwiaXNSb290IiwiX3NpemUiLCJGbG9hdDMyQXJyYXkiLCJfbWFuYWdlZENvbG9yVGV4dHVyZXMiLCJkZWZhdWx0T3B0aW9ucyIsInN0ZW5jaWwiLCJkZXB0aCIsInB1c2giLCJ3aWR0aCIsImhlaWdodCIsInJlc29sdXRpb24iLCJhbnRpYWxpYXMiLCJtYXAiLCJ0ZXh0dXJlIiwic291cmNlIiwiY29sb3JTb3VyY2UiLCJjb2xvclRleHR1cmUiLCJyZXNpemUiLCJfcmVzb2x1dGlvbiIsIm9uU291cmNlUmVzaXplIiwiZGVwdGhTdGVuY2lsVGV4dHVyZSIsImVuc3VyZURlcHRoU3RlbmNpbFRleHR1cmUiLCJwaXhlbFdpZHRoIiwicGl4ZWxIZWlnaHQiLCJhdXRvR2VuZXJhdGVNaXBtYXBzIiwibWlwTGV2ZWxDb3VudCIsInNraXBDb2xvclRleHR1cmUiLCJmb3JFYWNoIiwib2ZmIiwiUmVuZGVyVGFyZ2V0IiwiUmVuZGVyVGFyZ2V0U3lzdGVtIiwicmVuZGVyZXIiLCJyb290Vmlld1BvcnQiLCJSZWN0YW5nbGUiLCJ2aWV3cG9ydCIsIm9uUmVuZGVyVGFyZ2V0Q2hhbmdlIiwiU3lzdGVtUnVubmVyIiwicHJvamVjdGlvbk1hdHJpeCIsIk1hdHJpeCIsImRlZmF1bHRDbGVhckNvbG9yIiwiX3JlbmRlclN1cmZhY2VUb1JlbmRlclRhcmdldEhhc2giLCJNYXAiLCJfZ3B1UmVuZGVyVGFyZ2V0SGFzaCIsIk9iamVjdCIsImNyZWF0ZSIsIl9yZW5kZXJUYXJnZXRTdGFjayIsIl9yZW5kZXJlciIsInJlbmRlcmFibGVHQyIsImFkZE1hbmFnZWRIYXNoIiwiZmluaXNoUmVuZGVyUGFzcyIsImFkYXB0b3IiLCJyZW5kZXJUYXJnZXQiLCJyZW5kZXJTdGFydCIsInRhcmdldCIsImNsZWFyIiwiY2xlYXJDb2xvciIsImZyYW1lIiwibGVuZ3RoIiwiY29weUZyb20iLCJyb290UmVuZGVyVGFyZ2V0IiwicmVuZGVyaW5nVG9TY3JlZW4iLCJyZXNvdXJjZSIsImdsb2JhbFRoaXMiLCJIVE1MQ2FudmFzRWxlbWVudCIsImRvY3VtZW50IiwiYm9keSIsImNvbnRhaW5zIiwiaXNSZW5kZXJpbmdUb1NjcmVlbiIsInByZXJlbmRlciIsInBvc3RyZW5kZXIiLCJiaW5kIiwicmVuZGVyU3VyZmFjZSIsImdldFJlbmRlclRhcmdldCIsImRpZENoYW5nZSIsImdwdVJlbmRlclRhcmdldCIsImdldEdwdVJlbmRlclRhcmdldCIsInJlc2l6ZUdwdVJlbmRlclRhcmdldCIsIlRleHR1cmUiLCJ4IiwieSIsInBtIiwiZmxpcFkiLCJzaWduIiwiaWRlbnRpdHkiLCJhIiwiZCIsInR4IiwidHkiLCJjYWxjdWxhdGVQcm9qZWN0aW9uIiwic3RhcnRSZW5kZXJQYXNzIiwiQUxMIiwiY29udGV4dENoYW5nZSIsInBvcCIsImN1cnJlbnRSZW5kZXJUYXJnZXREYXRhIiwiaXNUZXh0dXJlIiwiZ2V0IiwiX2luaXRSZW5kZXJUYXJnZXQiLCJjb3B5VG9UZXh0dXJlIiwic291cmNlUmVuZGVyU3VyZmFjZVRleHR1cmUiLCJkZXN0aW5hdGlvblRleHR1cmUiLCJvcmlnaW5TcmMiLCJvcmlnaW5EZXN0IiwiTWF0aCIsIm1pbiIsImVuc3VyZURlcHRoU3RlbmNpbCIsImtleSIsIkNhbnZhc1NvdXJjZSIsInRlc3QiLCJnZXRDYW52YXNUZXh0dXJlIiwiVGV4dHVyZVNvdXJjZSIsIm9uY2UiLCJkZWxldGUiLCJkZXN0cm95R3B1UmVuZGVyVGFyZ2V0Iiwic2V0IiwiaW5pdEdwdVJlbmRlclRhcmdldCIsInJlc2V0U3RhdGUiLCJVYm9TeXN0ZW0iLCJfc3luY0Z1bmN0aW9uSGFzaCIsIl9hZGFwdG9yIiwiX3N5c3RlbUNoZWNrIiwiRXJyb3IiLCJlbnN1cmVVbmlmb3JtR3JvdXAiLCJ1bmlmb3JtR3JvdXAiLCJ1bmlmb3JtRGF0YSIsImdldFVuaWZvcm1Hcm91cERhdGEiLCJkYXRhIiwibGF5b3V0IiwidXNhZ2UiLCJVTklGT1JNIiwiQ09QWV9EU1QiLCJfc2lnbmF0dXJlIiwiX2luaXRVbmlmb3JtR3JvdXAiLCJ1bmlmb3JtR3JvdXBTaWduYXR1cmUiLCJlbGVtZW50cyIsImtleXMiLCJ1bmlmb3JtU3RydWN0dXJlcyIsImNyZWF0ZVVib0VsZW1lbnRzIiwic3luY0Z1bmN0aW9uIiwiX2dlbmVyYXRlVWJvU3luYyIsInVib0VsZW1lbnRzIiwiZ2VuZXJhdGVVYm9TeW5jIiwic3luY1VuaWZvcm1Hcm91cCIsInVuaWZvcm1Hcm91cERhdGEiLCJkYXRhSW50MzIiLCJ1bmlmb3JtcyIsInVwZGF0ZVVuaWZvcm1Hcm91cCIsImlzU3RhdGljIiwiX2RpcnR5SWQiLCJzeW5jZWQiLCJ1cGRhdGUiLCJjcmVhdGVVYm9TeW5jRnVuY3Rpb24iLCJwYXJzZXJDb2RlIiwiYXJyYXlHZW5lcmF0aW9uRnVuY3Rpb24iLCJzaW5nbGVTZXR0ZXJzTWFwIiwiZnVuY0ZyYWdtZW50cyIsInByZXYiLCJ1Ym9FbGVtZW50IiwicGFyc2VkIiwidWJvIiwidGVtcGxhdGUiLCJ0eXBlIiwiZnJhZ21lbnRTcmMiLCJqb2luIiwiRnVuY3Rpb24iLCJsb29wTWF0cml4IiwiY29sIiwicm93IiwidWJvU3luY0Z1bmN0aW9uc1NURDQwIiwiZjMyIiwiaTMyIiwidWJvU3luY0Z1bmN0aW9uc1dHU0wiLCJ1bmlmb3JtUGFyc2VycyIsInZhbHVlIiwidW5pZm9ybSIsInJlZCIsImJsZW5kTW9kZUlkcyIsIm5vcm1hbCIsImFkZCIsIm11bHRpcGx5Iiwic2NyZWVuIiwib3ZlcmxheSIsImVyYXNlIiwibWF4IiwiX1N0YXRlIiwiYmxlbmRNb2RlIiwicG9seWdvbk9mZnNldCIsImJsZW5kIiwiZGVwdGhNYXNrIiwib2Zmc2V0cyIsImN1bGxNb2RlIiwiY3VsbGluZyIsImNsb2Nrd2lzZUZyb250RmFjZSIsImRlcHRoVGVzdCIsIl9ibGVuZE1vZGUiLCJfYmxlbmRNb2RlSWQiLCJfcG9seWdvbk9mZnNldCIsInRvU3RyaW5nIiwiZm9yMmQiLCJzdGF0ZSIsImRlZmF1bHQyZCIsIlN0YXRlIiwiQ3VzdG9tUmVuZGVyUGlwZSIsInVwZGF0ZVJlbmRlcmFibGUiLCJkZXN0cm95UmVuZGVyYWJsZSIsInZhbGlkYXRlUmVuZGVyYWJsZSIsImFkZFJlbmRlcmFibGUiLCJjb250YWluZXIiLCJpbnN0cnVjdGlvblNldCIsInJlbmRlclBpcGVzIiwiYmF0Y2giLCJicmVhayIsImV4ZWN1dGUiLCJpc1JlbmRlcmFibGUiLCJyZW5kZXIiLCJleHRlbnNpb24iLCJXZWJHTFBpcGVzIiwiV2ViR1BVUGlwZXMiLCJDYW52YXNQaXBlcyIsImV4ZWN1dGVJbnN0cnVjdGlvbnMiLCJyZW5kZXJHcm91cCIsImluc3RydWN0aW9ucyIsImluc3RydWN0aW9uU2l6ZSIsImluc3RydWN0aW9uIiwicmVuZGVyUGlwZUlkIiwidGVtcE1hdHJpeCIsIlJlbmRlckdyb3VwUGlwZSIsImFkZFJlbmRlckdyb3VwIiwiaXNDYWNoZWRBc1RleHR1cmUiLCJfYWRkUmVuZGVyYWJsZUNhY2hlQXNUZXh0dXJlIiwiX2FkZFJlbmRlcmFibGVEaXJlY3QiLCJfZXhlY3V0ZUNhY2hlQXNUZXh0dXJlIiwiX2V4ZWN1dGVEaXJlY3QiLCJfYmF0Y2hhYmxlUmVuZGVyR3JvdXAiLCJyZXR1cm4iLCJiYXRjaGFibGVSZW5kZXJHcm91cCIsIkJhdGNoYWJsZVNwcml0ZSIsInJlbmRlcmFibGUiLCJyb290IiwidHJhbnNmb3JtIiwicmVsYXRpdmVHcm91cFRyYW5zZm9ybSIsImJvdW5kcyIsIl90ZXh0dXJlQm91bmRzIiwiYWRkVG9CYXRjaCIsInRleHR1cmVOZWVkc1VwZGF0ZSIsIndvcmxkVHJhbnNmb3JtTWF0cml4IiwidHJhbnNsYXRlIiwiZ2xvYmFsVW5pZm9ybXMiLCJ3b3JsZENvbG9yIiwiX2JhdGNoZXIiLCJ1cGRhdGVFbGVtZW50IiwiaW52ZXJzZVBhcmVudFRleHR1cmVUcmFuc2Zvcm0iLCJ3b3JsZENvbG9yQWxwaGEiLCJjbGVhckxpc3QiLCJsaXN0IiwiaW5kZXgiLCJ0ZW1wQ29udGFpbmVyIiwiQ29udGFpbmVyIiwiVVBEQVRFX0JMRU5EX0NPTE9SX1ZJU0lCTEUiLCJ1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMiLCJ1cGRhdGVDaGlsZFJlbmRlckdyb3VwcyIsIndvcmxkQWxwaGEiLCJyZW5kZXJHcm91cFBhcmVudCIsIndvcmxkVHJhbnNmb3JtIiwiYXBwZW5kRnJvbSIsIm11bHRpcGx5Q29sb3JzIiwiZ3JvdXBDb2xvciIsImdyb3VwQWxwaGEiLCJsb2NhbFRyYW5zZm9ybSIsImxvY2FsQ29sb3IiLCJsb2NhbEFscGhhIiwidXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm0iLCJjaGlsZHJlblRvVXBkYXRlIiwidXBkYXRlVGljayIsInJlbmRlckdyb3VwRGVwdGgiLCJOdW1iZXIiLCJjaGlsZHJlbkF0RGVwdGgiLCJjaGlsZCIsInBhcmVudFJlbmRlckdyb3VwIiwicmVsYXRpdmVSZW5kZXJHcm91cERlcHRoIiwidXBkYXRlVHJhbnNmb3JtQW5kQ2hpbGRyZW4iLCJyZW5kZXJHcm91cENoaWxkcmVuIiwidXBkYXRlRmxhZ3MiLCJ1cGRhdGVMb2NhbFRyYW5zZm9ybSIsInBhcmVudCIsIl91cGRhdGVGbGFncyIsInVwZGF0ZUNvbG9yQmxlbmRWaXNpYmlsaXR5IiwiY2hpbGRyZW4iLCJzdHJ1Y3R1cmVEaWRDaGFuZ2UiLCJncm91cENvbG9yQWxwaGEiLCJncm91cEJsZW5kTW9kZSIsImxvY2FsQmxlbmRNb2RlIiwiZ2xvYmFsRGlzcGxheVN0YXR1cyIsImxvY2FsRGlzcGxheVN0YXR1cyIsIlJlbmRlckdyb3VwU3lzdGVtIiwib3JpZ2luYWxMb2NhbFRyYW5zZm9ybSIsIl91cGRhdGVDYWNoZWRSZW5kZXJHcm91cHMiLCJfdXBkYXRlUmVuZGVyR3JvdXBzIiwidW5pZm9ybUJhdGNoIiwicmVuZGVyRW5kIiwiY2xvc2VzdENhY2hlQXNUZXh0dXJlIiwidXBkYXRlQ2FjaGVUZXh0dXJlIiwiX3BhcmVudENhY2hlQXNUZXh0dXJlUmVuZGVyR3JvdXAiLCJpbnZhbGlkYXRlTWF0cmljZXMiLCJnZXRMb2NhbEJvdW5kcyIsImNlaWwiLCJsYXN0VGV4dHVyZSIsIlRleHR1cmVQb29sIiwicmV0dXJuVGV4dHVyZSIsInRleHR1cmVPcHRpb25zIiwidmlldyIsInNjYWxlTW9kZSIsImdldE9wdGltYWxUZXh0dXJlIiwiX3NvdXJjZSIsInN0eWxlIiwiVGV4dHVyZVN0eWxlIiwiQm91bmRzIiwicnVuT25SZW5kZXIiLCJjaGlsZHJlblJlbmRlcmFibGVzVG9VcGRhdGUiLCJyZWJ1aWxkUmVxdWlyZWQiLCJ2YWxpZGF0ZVJlbmRlcmFibGVzIiwiX2J1aWxkSW5zdHJ1Y3Rpb25zIiwiX3VwZGF0ZVJlbmRlcmFibGVzIiwidXBsb2FkIiwiZGlkVmlld1VwZGF0ZSIsInJlbmRlcmVyT3JQaXBlcyIsInJlc2V0IiwiYnVpbGRTdGFydCIsImNvbG9yTWFzayIsInNvcnRhYmxlQ2hpbGRyZW4iLCJzb3J0Q2hpbGRyZW4iLCJjb2xsZWN0UmVuZGVyYWJsZXNXaXRoRWZmZWN0cyIsImJ1aWxkRW5kIiwiV2ViR0xTeXN0ZW0iLCJXZWJHUFVTeXN0ZW0iLCJDYW52YXNTeXN0ZW0iLCJTcHJpdGVQaXBlIiwic3ByaXRlIiwiZ3B1U3ByaXRlIiwiX2dldEdwdVNwcml0ZSIsIl91cGRhdGVCYXRjaGFibGVTcHJpdGUiLCJjaGVja0FuZFVwZGF0ZVRleHR1cmUiLCJfdGV4dHVyZSIsImJhdGNoYWJsZVNwcml0ZSIsInZpc3VhbEJvdW5kcyIsIl9ncHVEYXRhIiwiX2luaXRHUFVTcHJpdGUiLCJncm91cFRyYW5zZm9ybSIsInJvdW5kUGl4ZWxzIiwiX3JvdW5kUGl4ZWxzIiwiX0JhdGNoZXJQaXBlIiwiX2JhdGNoZXJzQnlJbnN0cnVjdGlvblNldCIsIl9hY3RpdmVCYXRjaGVzIiwiaW5pdCIsImdldEJhdGNoZXIiLCJfYXZhaWxhYmxlQmF0Y2hlcnMiLCJiYXRjaGVycyIsImRlZmF1bHQiLCJEZWZhdWx0QmF0Y2hlciIsIm1heFRleHR1cmVzIiwibGltaXRzIiwibWF4QmF0Y2hhYmxlVGV4dHVyZXMiLCJfYWN0aXZlQmF0Y2giLCJiZWdpbiIsImJhdGNoYWJsZU9iamVjdCIsImJhdGNoZXJOYW1lIiwiYmF0Y2hlcyIsImluZGV4QnVmZmVyIiwic2V0RGF0YVdpdGhTaXplIiwiaW5kZXhTaXplIiwiYXR0cmlidXRlQnVmZmVyIiwiZmxvYXQzMlZpZXciLCJhdHRyaWJ1dGVTaXplIiwiYmF0Y2hlciIsImRpcnR5IiwiYWN0aW9uIiwic2hhZGVyIiwiQmF0Y2hlclBpcGUiLCJoYW5kbGVCeU1hcCIsIkJhdGNoZXIiLCJfRmlsdGVyIiwiU2hhZGVyIiwib3B0aW9ucyIsImVuYWJsZWQiLCJfc3RhdGUiLCJwYWRkaW5nIiwiYmxlbmRSZXF1aXJlZCIsImNsaXBUb1ZpZXdwb3J0IiwiYWRkUmVzb3VyY2UiLCJhcHBseSIsImZpbHRlck1hbmFnZXIiLCJpbnB1dCIsIm91dHB1dCIsImNsZWFyTW9kZSIsImFwcGx5RmlsdGVyIiwiZnJvbSIsImdwdSIsImdsIiwicmVzdCIsImdwdVByb2dyYW0iLCJnbFByb2dyYW0iLCJHcHVQcm9ncmFtIiwiR2xQcm9ncmFtIiwiRmlsdGVyIiwiTWFza0ZpbHRlciIsInRleHR1cmVNYXRyaXgiLCJUZXh0dXJlTWF0cml4IiwiZmlsdGVyVW5pZm9ybXMiLCJVbmlmb3JtR3JvdXAiLCJ1RmlsdGVyTWF0cml4IiwidU1hc2tDbGFtcCIsInVDbGFtcEZyYW1lIiwidUFscGhhIiwidUludmVyc2UiLCJpbnZlcnNlIiwiZW50cnlQb2ludCIsInJlc291cmNlcyIsInVNYXNrVGV4dHVyZSIsIl90ZXh0dXJlTWF0cml4IiwiY2FsY3VsYXRlU3ByaXRlTWF0cml4IiwicHJlcGVuZCIsIm1hcENvb3JkIiwidGVtcEJvdW5kcyIsIkFscGhhTWFza0VmZmVjdCIsIkZpbHRlckVmZmVjdCIsImZpbHRlcnMiLCJTcHJpdGUiLCJFTVBUWSIsIkFscGhhTWFza1BpcGUiLCJfYWN0aXZlTWFza1N0YWdlIiwibWFzayIsIm1hc2tlZENvbnRhaW5lciIsIl9tYXNrT3B0aW9ucyIsImNhbkJ1bmRsZSIsInJlbmRlck1hc2tUb1RleHR1cmUiLCJtYXNrQ29udGFpbmVyIiwiaW5jbHVkZUluQnVpbGQiLCJjb2xsZWN0UmVuZGVyYWJsZXMiLCJfbWFza2VkQ29udGFpbmVyIiwicmVuZGVyTWFzayIsImZpbHRlckVmZmVjdCIsIm1lYXN1cmFibGUiLCJnZXRHbG9iYWxCb3VuZHMiLCJjb2xvclRleHR1cmVTb3VyY2UiLCJmaWx0ZXJUZXh0dXJlIiwibWluWCIsIm1pblkiLCJtYXNrRGF0YSIsIldFQkdMIiwiZmlsdGVyIiwiQ29sb3JNYXNrUGlwZSIsIl9jb2xvclN0YWNrIiwiX2NvbG9yU3RhY2tJbmRleCIsIl9jdXJyZW50Q29sb3IiLCJfY29udGFpbmVyIiwiY29sb3JTdGFjayIsImN1cnJlbnRDb2xvciIsIl9tYXNrIiwic2V0TWFzayIsIlN0ZW5jaWxNYXNrUGlwZSIsIl9tYXNrU3RhY2tIYXNoIiwiX21hc2tIYXNoIiwiV2Vha01hcCIsIl9hIiwiZWZmZWN0Iiwic2V0QmxlbmRNb2RlIiwiaGFzIiwiaW5zdHJ1Y3Rpb25zU3RhcnQiLCJpbnN0cnVjdGlvbnNMZW5ndGgiLCJyZW5kZXJUYXJnZXRVaWQiLCJtYXNrU3RhY2tJbmRleCIsInNldFN0ZW5jaWxNb2RlIiwiU1RFTkNJTCIsIl9CYWNrZ3JvdW5kU3lzdGVtIiwiY2xlYXJCZWZvcmVSZW5kZXIiLCJfYmFja2dyb3VuZENvbG9yIiwiQ29sb3IiLCJjb2xvciIsImFscGhhIiwiYmFja2dyb3VuZCIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmRBbHBoYSIsInNldEFscGhhIiwic2hhcmVkIiwic2V0VmFsdWUiLCJ3YXJuIiwiY29sb3JSZ2JhIiwidG9BcnJheSIsInByaW9yaXR5IiwiQmFja2dyb3VuZFN5c3RlbSIsIkJMRU5EX01PREVfRklMVEVSUyIsImhhbmRsZSIsIkJsZW5kTW9kZSIsInJlZiIsIkJsZW5kTW9kZVBpcGUiLCJfaXNBZHZhbmNlZCIsIl9maWx0ZXJIYXNoIiwicnVubmVycyIsIl9hY3RpdmVCbGVuZE1vZGUiLCJfZW5kQWR2YW5jZWRCbGVuZE1vZGUiLCJfYmVnaW5BZHZhbmNlZEJsZW5kTW9kZSIsIl9yZW5kZXJhYmxlTGlzdCIsInJlbmRlcmFibGVzIiwiaW1hZ2VUeXBlcyIsInBuZyIsImpwZyIsIndlYnAiLCJfRXh0cmFjdFN5c3RlbSIsIl9ub3JtYWxpemVPcHRpb25zIiwiZGVmYXVsdHMiLCJpbWFnZSIsImNyZWF0ZUltYWdlIiwic3JjIiwiYmFzZTY0IiwiZGVmYXVsdEltYWdlT3B0aW9ucyIsInF1YWxpdHkiLCJjYW52YXMiLCJ0b0Jsb2IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwicmVzdWx0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJ0b0RhdGFVUkwiLCJjb252ZXJ0VG9CbG9iIiwiZ2VuZXJhdGVDYW52YXMiLCJ0ZXh0dXJlR2VuZXJhdG9yIiwiZ2VuZXJhdGVUZXh0dXJlIiwicGl4ZWxzIiwicGl4ZWxJbmZvIiwiZ2V0UGl4ZWxzIiwiZG93bmxvYWQiLCJsaW5rIiwiY3JlYXRlRWxlbWVudCIsImZpbGVuYW1lIiwiaHJlZiIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsImxvZyIsImNvbnNvbGUiLCJFeHRyYWN0U3lzdGVtIiwiUmVuZGVyVGV4dHVyZSIsInRlbXBSZWN0Iiwibm9Db2xvciIsIkdlbmVyYXRlVGV4dHVyZVN5c3RlbSIsInRleHR1cmVTb3VyY2VPcHRpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwicmVnaW9uIiwiY29weVRvIiwicmVjdGFuZ2xlIiwidXBkYXRlTWlwbWFwcyIsIkdsb2JhbFVuaWZvcm1TeXN0ZW0iLCJfc3RhY2tJbmRleCIsIl9nbG9iYWxVbmlmb3JtRGF0YVN0YWNrIiwiX3VuaWZvcm1zUG9vbCIsIl9hY3RpdmVVbmlmb3JtcyIsIl9iaW5kR3JvdXBQb29sIiwiX2FjdGl2ZUJpbmRHcm91cHMiLCJjdXJyZW50R2xvYmFsVW5pZm9ybURhdGEiLCJwcm9qZWN0aW9uRGF0YSIsIlBvaW50IiwiZ2xvYmFsVW5pZm9ybURhdGEiLCJiaW5kR3JvdXAiLCJfY3JlYXRlVW5pZm9ybXMiLCJ1UHJvamVjdGlvbk1hdHJpeCIsInVSZXNvbHV0aW9uIiwidVdvcmxkVHJhbnNmb3JtTWF0cml4IiwidVdvcmxkQ29sb3JBbHBoYSIsImdldFVuaWZvcm1CaW5kR3JvdXAiLCJCaW5kR3JvdXAiLCJzZXRSZXNvdXJjZSIsIl9jdXJyZW50R2xvYmFsVW5pZm9ybURhdGEiLCJTY2hlZHVsZXJTeXN0ZW0iLCJfdGFza3MiLCJfb2Zmc2V0IiwiVGlja2VyIiwic3lzdGVtIiwiX3VwZGF0ZSIsInJlcGVhdCIsImZ1bmMiLCJkdXJhdGlvbiIsInVzZU9mZnNldCIsImlkIiwicGVyZm9ybWFuY2UiLCJub3ciLCJsYXN0IiwiY2FuY2VsIiwic3BsaWNlIiwidGFzayIsImVsYXBzZWQiLCJyZW1vdmUiLCJzYWlkSGVsbG8iLCJIZWxsb1N5c3RlbSIsImhlbGxvIiwiY29udGV4dCIsIndlYkdMVmVyc2lvbiIsImdldE5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsImFyZ3MiLCJzYXlIZWxsbyIsImNsZWFuSGFzaCIsImhhc2giLCJjbGVhbiIsImNsZWFuSGFzaDIiLCJjbGVhbkFycmF5IiwiYXJyIiwicmVuZGVyYWJsZUdDVGljayIsIl9SZW5kZXJhYmxlR0NTeXN0ZW0iLCJfbWFuYWdlZFJlbmRlcmFibGVzIiwiX21hbmFnZWRIYXNoZXMiLCJfbWFuYWdlZEFycmF5cyIsIm1heFVudXNlZFRpbWUiLCJyZW5kZXJhYmxlR0NNYXhVbnVzZWRUaW1lIiwiX2ZyZXF1ZW5jeSIsInJlbmRlcmFibGVHQ0ZyZXF1ZW5jeSIsInJlbmRlcmFibGVHQ0FjdGl2ZSIsIl9oYW5kbGVyIiwic2NoZWR1bGVyIiwicnVuIiwiX2hhc2hIYW5kbGVyIiwiX2FycmF5SGFuZGxlciIsImFycmF5IiwiYWRkTWFuYWdlZEFycmF5IiwiX25vdyIsImdjVGljayIsIl91cGRhdGVJbnN0cnVjdGlvbkdDVGljayIsIl9sYXN0VXNlZCIsIl9yZW1vdmVSZW5kZXJhYmxlIiwibWFuYWdlZFJlbmRlcmFibGVzIiwiY3VycmVudFRpY2siLCJycCIsIlJlbmRlcmFibGVHQ1N5c3RlbSIsIl9UZXh0dXJlR0NTeXN0ZW0iLCJjb3VudCIsImNoZWNrQ291bnQiLCJjaGVja0NvdW50TWF4IiwidGV4dHVyZUdDQ2hlY2tDb3VudE1heCIsIm1heElkbGUiLCJ0ZXh0dXJlR0NBTWF4SWRsZSIsInRleHR1cmVHQ01heElkbGUiLCJhY3RpdmUiLCJ0ZXh0dXJlR0NBY3RpdmUiLCJtYW5hZ2VkVGV4dHVyZXMiLCJhdXRvR2FyYmFnZUNvbGxlY3QiLCJ1bmxvYWQiLCJUZXh0dXJlR0NTeXN0ZW0iLCJfVmlld1N5c3RlbSIsImF1dG9EZW5zaXR5IiwiZGVwcmVjYXRpb24iLCJjcmVhdGVDYW52YXMiLCJ0cmFuc3BhcmVudCIsImRlc2lyZWRTY3JlZW5XaWR0aCIsImRlc2lyZWRTY3JlZW5IZWlnaHQiLCJyZW1vdmVWaWV3IiwicGFyZW50Tm9kZSIsIlNoYXJlZFN5c3RlbXMiLCJTaGFyZWRSZW5kZXJQaXBlcyIsImNhbnZhc0NhY2hlIiwib25EZXN0cm95IiwiY29sb3IzMkJpdFRvVW5pZm9ybSIsImFiZ3IiLCJvdXQiLCJ0b3BvbG9neSIsInBhY2tBc1F1YWQiLCJfYXR0cmlidXRlU3RhcnQiLCJfYmF0Y2giXSwic291cmNlUm9vdCI6IiJ9
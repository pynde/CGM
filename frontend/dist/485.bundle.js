"use strict";(self.webpackChunkcardgamemaker=self.webpackChunkcardgamemaker||[]).push([[485],{4732:(e,t,r)=>{var n=r(8507);class i{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame((()=>this.resize())))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let e,t;if(this._cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{const{clientWidth:r,clientHeight:n}=this._resizeTo;e=r,t=n}this.renderer.resize(e,t),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}i.extension=n.Ag.Application;var s=r(4458),a=r(7309);class o{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,s.d.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?a.R.shared:new a.R,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}o.extension=n.Ag.Application,n.XO.add(i),n.XO.add(o)},4980:(e,t,r)=>{var n=r(8507);class i{constructor(e){this._renderer=e}push(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:t,filterEffect:e})}pop(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(e){"pushFilter"===e.action?this._renderer.filter.push(e):"popFilter"===e.action&&this._renderer.filter.pop()}destroy(){this._renderer=null}}i.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"filter"};var s=r(9313),a=r(3513),o=r(6011),l=r(5811),u=r(4492),d=r(2437),h=r(5099),c=r(9636),p=r(268);const f=new o.V({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:8,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class g{constructor(){this.skip=!1,this.inputTexture=null,this.backTexture=null,this.filters=null,this.bounds=new c.c,this.container=null,this.blendRequired=!1,this.outputRenderSurface=null,this.globalFrame={x:0,y:0,width:0,height:0}}}class m{constructor(e){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new l.k({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new a.T({}),this.renderer=e}get activeBackTexture(){return this._activeFilterData?.backTexture}push(e){const t=this.renderer,r=e.filterEffect.filters,n=this._pushFilterData();n.skip=!1,n.filters=r,n.container=e.container,n.outputRenderSurface=t.renderTarget.renderSurface;const i=t.renderTarget.renderTarget.colorTexture.source,s=i.resolution,a=i.antialias;if(0===r.length)return void(n.skip=!0);const o=n.bounds;if(this._calculateFilterArea(e,o),this._calculateFilterBounds(n,t.renderTarget.rootViewPort,a,s,1),n.skip)return;const l=this._getPreviousFilterData(),u=this._findFilterResolution(s);let d=0,h=0;l&&(d=l.bounds.minX,h=l.bounds.minY),this._calculateGlobalFrame(n,d,h,u,i.width,i.height),this._setupFilterTextures(n,o,t,l)}generateFilteredTexture({texture:e,filters:t}){const r=this._pushFilterData();this._activeFilterData=r,r.skip=!1,r.filters=t;const n=e.source,i=n.resolution,s=n.antialias;if(0===t.length)return r.skip=!0,e;const a=r.bounds;if(a.addRect(e.frame),this._calculateFilterBounds(r,a.rectangle,s,i,0),r.skip)return e;const o=i;this._calculateGlobalFrame(r,0,0,o,n.width,n.height),r.outputRenderSurface=d.W.getOptimalTexture(a.width,a.height,r.resolution,r.antialias),r.backTexture=u.g.EMPTY,r.inputTexture=e,this.renderer.renderTarget.finishRenderPass(),this._applyFiltersToTexture(r,!0);const l=r.outputRenderSurface;return l.source.alphaMode="premultiplied-alpha",l}pop(){const e=this.renderer,t=this._popFilterData();t.skip||(e.globalUniforms.pop(),e.renderTarget.finishRenderPass(),this._activeFilterData=t,this._applyFiltersToTexture(t,!1),t.blendRequired&&d.W.returnTexture(t.backTexture),d.W.returnTexture(t.inputTexture))}getBackTexture(e,t,r){const n=e.colorTexture.source._resolution,i=d.W.getOptimalTexture(t.width,t.height,n,!1);let s=t.minX,a=t.minY;r&&(s-=r.minX,a-=r.minY),s=Math.floor(s*n),a=Math.floor(a*n);const o=Math.ceil(t.width*n),l=Math.ceil(t.height*n);return this.renderer.renderTarget.copyToTexture(e,i,{x:s,y:a},{width:o,height:l},{x:0,y:0}),i}applyFilter(e,t,r,n){const i=this.renderer,s=this._activeFilterData,a=s.outputRenderSurface===r,o=i.renderTarget.rootRenderTarget.colorTexture.source._resolution,l=this._findFilterResolution(o);let u=0,d=0;if(a){const e=this._findPreviousFilterOffset();u=e.x,d=e.y}this._updateFilterUniforms(t,r,s,u,d,l,a,n),this._setupBindGroupsAndRender(e,t,i)}calculateSpriteMatrix(e,t){const r=this._activeFilterData,n=e.set(r.inputTexture._source.width,0,0,r.inputTexture._source.height,r.bounds.minX,r.bounds.minY),i=t.worldTransform.copyTo(s.u.shared),a=t.renderGroup||t.parentRenderGroup;return a&&a.cacheToLocalTransform&&i.prepend(a.cacheToLocalTransform),i.invert(),n.prepend(i),n.scale(1/t.texture.orig.width,1/t.texture.orig.height),n.translate(t.anchor.x,t.anchor.y),n}destroy(){}_setupBindGroupsAndRender(e,t,r){if(r.renderPipes.uniformBatch){const e=r.renderPipes.uniformBatch.getUboResource(this._filterGlobalUniforms);this._globalFilterBindGroup.setResource(e,0)}else this._globalFilterBindGroup.setResource(this._filterGlobalUniforms,0);this._globalFilterBindGroup.setResource(t.source,1),this._globalFilterBindGroup.setResource(t.source.style,2),e.groups[0]=this._globalFilterBindGroup,r.encoder.draw({geometry:f,shader:e,state:e._state,topology:"triangle-list"}),r.type===h.W.WEBGL&&r.renderTarget.finishRenderPass()}_setupFilterTextures(e,t,r,n){if(e.backTexture=u.g.EMPTY,e.blendRequired){r.renderTarget.finishRenderPass();const i=r.renderTarget.getRenderTarget(e.outputRenderSurface);e.backTexture=this.getBackTexture(i,t,n?.bounds)}e.inputTexture=d.W.getOptimalTexture(t.width,t.height,e.resolution,e.antialias),r.renderTarget.bind(e.inputTexture,!0),r.globalUniforms.push({offset:t})}_calculateGlobalFrame(e,t,r,n,i,s){const a=e.globalFrame;a.x=t*n,a.y=r*n,a.width=i*n,a.height=s*n}_updateFilterUniforms(e,t,r,n,i,s,a,o){const l=this._filterGlobalUniforms.uniforms,d=l.uOutputFrame,h=l.uInputSize,c=l.uInputPixel,p=l.uInputClamp,f=l.uGlobalFrame,g=l.uOutputTexture;a?(d[0]=r.bounds.minX-n,d[1]=r.bounds.minY-i):(d[0]=0,d[1]=0),d[2]=e.frame.width,d[3]=e.frame.height,h[0]=e.source.width,h[1]=e.source.height,h[2]=1/h[0],h[3]=1/h[1],c[0]=e.source.pixelWidth,c[1]=e.source.pixelHeight,c[2]=1/c[0],c[3]=1/c[1],p[0]=.5*c[2],p[1]=.5*c[3],p[2]=e.frame.width*h[2]-.5*c[2],p[3]=e.frame.height*h[3]-.5*c[3];const m=this.renderer.renderTarget.rootRenderTarget.colorTexture;f[0]=n*s,f[1]=i*s,f[2]=m.source.width*s,f[3]=m.source.height*s,t instanceof u.g&&(t.source.resource=null);const x=this.renderer.renderTarget.getRenderTarget(t);this.renderer.renderTarget.bind(t,!!o),t instanceof u.g?(g[0]=t.frame.width,g[1]=t.frame.height):(g[0]=x.width,g[1]=x.height),g[2]=x.isRoot?-1:1,this._filterGlobalUniforms.update()}_findFilterResolution(e){let t=this._filterStackIndex-1;for(;t>0&&this._filterStack[t].skip;)--t;return t>0&&this._filterStack[t].inputTexture?this._filterStack[t].inputTexture.source._resolution:e}_findPreviousFilterOffset(){let e=0,t=0,r=this._filterStackIndex;for(;r>0;){r--;const n=this._filterStack[r];if(!n.skip){e=n.bounds.minX,t=n.bounds.minY;break}}return{x:e,y:t}}_calculateFilterArea(e,t){if(e.renderables?function(e,t){t.clear();const r=t.matrix;for(let r=0;r<e.length;r++){const n=e[r];n.globalDisplayStatus<7||(t.matrix=n.worldTransform,t.addBounds(n.bounds))}t.matrix=r}(e.renderables,t):e.filterEffect.filterArea?(t.clear(),t.addRect(e.filterEffect.filterArea),t.applyMatrix(e.container.worldTransform)):e.container.getFastGlobalBounds(!0,t),e.container){const r=(e.container.renderGroup||e.container.parentRenderGroup).cacheToLocalTransform;r&&t.applyMatrix(r)}}_applyFiltersToTexture(e,t){const r=e.inputTexture,n=e.bounds,i=e.filters;if(this._globalFilterBindGroup.setResource(r.source.style,2),this._globalFilterBindGroup.setResource(e.backTexture.source,3),1===i.length)i[0].apply(this,r,e.outputRenderSurface,t);else{let r=e.inputTexture;const s=d.W.getOptimalTexture(n.width,n.height,r.source._resolution,!1);let a=s,o=0;for(o=0;o<i.length-1;++o){i[o].apply(this,r,a,!0);const e=r;r=a,a=e}i[o].apply(this,r,e.outputRenderSurface,t),d.W.returnTexture(s)}}_calculateFilterBounds(e,t,r,n,i){const s=this.renderer,a=e.bounds,o=e.filters;let l=1/0,u=0,d=!0,h=!1,c=!1,f=!0;for(let e=0;e<o.length;e++){const t=o[e];if(l=Math.min(l,"inherit"===t.resolution?n:t.resolution),u+=t.padding,"off"===t.antialias?d=!1:"inherit"===t.antialias&&d&&(d=r),t.clipToViewport||(f=!1),!(t.compatibleRenderers&s.type)){c=!1;break}if(t.blendRequired&&!(s.backBuffer?.useBackBuffer??1)){(0,p.R)("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),c=!1;break}c=t.enabled||c,h||(h=t.blendRequired)}c?(f&&a.fitBounds(0,t.width/n,0,t.height/n),a.scale(l).ceil().scale(1/l).pad((0|u)*i),a.isPositive?(e.antialias=d,e.resolution=l,e.blendRequired=h):e.skip=!0):e.skip=!0}_popFilterData(){return this._filterStackIndex--,this._filterStack[this._filterStackIndex]}_getPreviousFilterData(){let e,t=this._filterStackIndex-1;for(;t>1&&(t--,e=this._filterStack[t],e.skip););return e}_pushFilterData(){let e=this._filterStack[this._filterStackIndex];return e||(e=this._filterStack[this._filterStackIndex]=new g),this._filterStackIndex++,e}}m.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"filter"},n.XO.add(m),n.XO.add(i)},2067:(e,t,r)=>{r.d(t,{Ls:()=>n,_Q:()=>i,mA:()=>s});const n={name:"local-uniform-bit",vertex:{header:"\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "}},i={...n,vertex:{...n.vertex,header:n.vertex.header.replace("group(1)","group(2)")}},s={name:"local-uniform-bit",vertex:{header:"\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "}}},7547:(e,t,r)=>{r.d(t,{U:()=>s});const n={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},i=class e{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}set cullMode(e){"none"!==e?(this.culling=!0,this.clockwiseFrontFace="front"===e):this.culling=!1}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend="none"!==e,this._blendMode=e,this._blendModeId=n[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new e;return t.depthTest=!1,t.blend=!0,t}};i.default2d=i.for2d();let s=i},7608:(e,t,r)=>{r.d(t,{N:()=>s});var n=r(1761),i=r(9939);const s=new class{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,t){const r=n.e.get().createCanvas();r.width=e,r.height=t;const i=r.getContext("2d");return{canvas:r,context:i}}getOptimalCanvasAndContext(e,t,r=1){e=Math.ceil(e*r-1e-6),t=Math.ceil(t*r-1e-6);const n=((e=(0,i.U5)(e))<<17)+((t=(0,i.U5)(t))<<1);this._canvasPool[n]||(this._canvasPool[n]=[]);let s=this._canvasPool[n].pop();return s||(s=this._createCanvasAndContext(e,t)),s}returnCanvasAndContext(e){const t=e.canvas,{width:r,height:n}=t,i=(r<<17)+(n<<1);e.context.resetTransform(),e.context.clearRect(0,0,r,n),this._canvasPool[i].push(e)}clear(){this._canvasPool={}}}},2760:(e,t,r)=>{function n(e,t,r){const n=(e>>24&255)/255;t[r++]=(255&e)/255*n,t[r++]=(e>>8&255)/255*n,t[r++]=(e>>16&255)/255*n,t[r++]=n}r.d(t,{V:()=>n})},8928:(e,t,r)=>{var n=r(8507),i=r(6302),s=r(7547),a=r(8218),o=r(2760),l=r(6954);class u{constructor(){this.batches=[],this.batched=!1}destroy(){this.batches.forEach((e=>{a.Z.return(e)})),this.batches.length=0}}class d{constructor(e,t){this.state=s.U.for2d(),this.renderer=e,this._adaptor=t,this.renderer.runners.contextChange.add(this)}contextChange(){this._adaptor.contextChange(this.renderer)}validateRenderable(e){const t=e.context,r=!!e._gpuData,n=this.renderer.graphicsContext.updateGpuContext(t);return!(!n.isBatchable&&r===n.isBatchable)}addRenderable(e,t){const r=this.renderer.graphicsContext.updateGpuContext(e.context);e.didViewUpdate&&this._rebuild(e),r.isBatchable?this._addToBatcher(e,t):(this.renderer.renderPipes.batch.break(t),t.add(e))}updateRenderable(e){const t=this._getGpuDataForRenderable(e).batches;for(let e=0;e<t.length;e++){const r=t[e];r._batcher.updateElement(r)}}execute(e){if(!e.isRenderable)return;const t=this.renderer,r=e.context;if(!t.graphicsContext.getGpuContext(r).batches.length)return;const n=r.customShader||this._adaptor.shader;this.state.blendMode=e.groupBlendMode;const i=n.resources.localUniforms.uniforms;i.uTransformMatrix=e.groupTransform,i.uRound=t._roundPixels|e._roundPixels,(0,o.V)(e.groupColorAlpha,i.uColor,0),this._adaptor.execute(this,e)}_rebuild(e){const t=this._getGpuDataForRenderable(e),r=this.renderer.graphicsContext.updateGpuContext(e.context);t.destroy(),r.isBatchable&&this._updateBatchesForRenderable(e,t)}_addToBatcher(e,t){const r=this.renderer.renderPipes.batch,n=this._getGpuDataForRenderable(e).batches;for(let e=0;e<n.length;e++){const i=n[e];r.addToBatch(i,t)}}_getGpuDataForRenderable(e){return e._gpuData[this.renderer.uid]||this._initGpuDataForRenderable(e)}_initGpuDataForRenderable(e){const t=new u;return e._gpuData[this.renderer.uid]=t,t}_updateBatchesForRenderable(e,t){const r=e.context,n=this.renderer.graphicsContext.getGpuContext(r),i=this.renderer._roundPixels|e._roundPixels;t.batches=n.batches.map((t=>{const r=a.Z.get(l.G);return t.copyTo(r),r.renderable=e,r.roundPixels=i,r}))}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null}}d.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"graphics"},n.XO.add(d),n.XO.add(i.GH)},5285:(e,t,r)=>{var n=r(8507),i=r(9313),s=r(3513),a=r(5811),o=r(8639),l=r(2760),u=r(8734);class d{destroy(){}}class h{constructor(e,t){this.localUniforms=new a.k({uTransformMatrix:{value:new i.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new s.T({0:this.localUniforms}),this.renderer=e,this._adaptor=t,this._adaptor.init()}validateRenderable(e){const t=this._getMeshData(e),r=t.batched,n=e.batched;if(t.batched=n,r!==n)return!0;if(n){const r=e._geometry;if(r.indices.length!==t.indexSize||r.positions.length!==t.vertexSize)return t.indexSize=r.indices.length,t.vertexSize=r.positions.length,!0;const n=this._getBatchableMesh(e);return n.texture.uid!==e._texture.uid&&(n._textureMatrixUpdateId=-1),!n._batcher.checkAndUpdateTexture(n,e._texture)}return!1}addRenderable(e,t){const r=this.renderer.renderPipes.batch,n=this._getMeshData(e);if(e.didViewUpdate&&(n.indexSize=e._geometry.indices?.length,n.vertexSize=e._geometry.positions?.length),n.batched){const n=this._getBatchableMesh(e);n.setTexture(e._texture),n.geometry=e._geometry,r.addToBatch(n,t)}else r.break(t),t.add(e)}updateRenderable(e){if(e.batched){const t=this._getBatchableMesh(e);t.setTexture(e._texture),t.geometry=e._geometry,t._batcher.updateElement(t)}}execute(e){if(!e.isRenderable)return;e.state.blendMode=(0,o.i)(e.groupBlendMode,e.texture._source);const t=this.localUniforms;t.uniforms.uTransformMatrix=e.groupTransform,t.uniforms.uRound=this.renderer._roundPixels|e._roundPixels,t.update(),(0,l.V)(e.groupColorAlpha,t.uniforms.uColor,0),this._adaptor.execute(this,e)}_getMeshData(e){var t,r;return(t=e._gpuData)[r=this.renderer.uid]||(t[r]=new d),e._gpuData[this.renderer.uid].meshData||this._initMeshData(e)}_initMeshData(e){return e._gpuData[this.renderer.uid].meshData={batched:e.batched,indexSize:0,vertexSize:0},e._gpuData[this.renderer.uid].meshData}_getBatchableMesh(e){var t,r;return(t=e._gpuData)[r=this.renderer.uid]||(t[r]=new d),e._gpuData[this.renderer.uid].batchableMesh||this._initBatchableMesh(e)}_initBatchableMesh(e){const t=new u.U;return t.renderable=e,t.setTexture(e._texture),t.transform=e.groupTransform,t.roundPixels=this.renderer._roundPixels|e._roundPixels,e._gpuData[this.renderer.uid].batchableMesh=t,t}destroy(){this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}h.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"mesh"},n.XO.add(h)},8734:(e,t,r)=>{r.d(t,{U:()=>n});class n{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._textureMatrixUpdateId=-1,this._uvUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}get topology(){return this._topology||this.geometry.topology}set topology(e){this._topology=e}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}setTexture(e){this.texture!==e&&(this.texture=e,this._textureMatrixUpdateId=-1)}get uvs(){const e=this.geometry.getBuffer("aUV"),t=e.data;let r=t;const n=this.texture.textureMatrix;return n.isSimple||(r=this._transformedUvs,this._textureMatrixUpdateId===n._updateID&&this._uvUpdateId===e._updateID||((!r||r.length<t.length)&&(r=this._transformedUvs=new Float32Array(t.length)),this._textureMatrixUpdateId=n._updateID,this._uvUpdateId=e._updateID,n.multiplyUvs(t,r))),r}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}},9305:(e,t,r)=>{var n=r(8507);class i{execute(e,t){const r=e.state,n=e.renderer,i=t.shader||e.defaultShader;i.resources.uTexture=t.texture._source,i.resources.uniforms=e.localUniforms;const s=n.gl,a=e.getBuffers(t);n.shader.bind(i),n.state.set(r),n.geometry.bind(a.geometry,i.glProgram);const o=2===a.geometry.indexBuffer.data.BYTES_PER_ELEMENT?s.UNSIGNED_SHORT:s.UNSIGNED_INT;s.drawElements(s.TRIANGLES,6*t.particleChildren.length,o,0)}}var s=r(9313),a=r(5811),o=r(8639),l=r(7547),u=r(2760),d=r(949),h=r(1132),c=r(6011),p=r(8306),f=r(1460);function g(e,t=null){const r=6*e;if(r>65535?t||(t=new Uint32Array(r)):t||(t=new Uint16Array(r)),t.length!==r)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${r}`);for(let e=0,n=0;e<r;e+=6,n+=4)t[e+0]=n+0,t[e+1]=n+1,t[e+2]=n+2,t[e+3]=n+0,t[e+4]=n+2,t[e+5]=n+3;return t}function m(e,t){const r=[];r.push("\n\n        var index = 0;\n\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const p = ps[i];\n\n            ");let n=0;for(const i in e){const s=e[i];t===s.dynamic&&(r.push(`offset = index + ${n}`),r.push(s.code),n+=(0,p.m)(s.format).stride/4)}r.push("\n            index += stride * 4;\n        }\n    "),r.unshift(`\n        var stride = ${n};\n    `);const i=r.join("\n");return new Function("ps","f32v","u32v",i)}class x{constructor(e){this._size=0,this._generateParticleUpdateCache={};const t=this._size=e.size??1e3,r=e.properties;let n=0,i=0;for(const e in r){const t=r[e],s=(0,p.m)(t.format);t.dynamic?i+=s.stride:n+=s.stride}this._dynamicStride=i/4,this._staticStride=n/4,this.staticAttributeBuffer=new f.u(4*t*n),this.dynamicAttributeBuffer=new f.u(4*t*i),this.indexBuffer=g(t);const s=new c.V;let a=0,o=0;this._staticBuffer=new d.h({data:new Float32Array(1),label:"static-particle-buffer",shrinkToFit:!1,usage:h.S.VERTEX|h.S.COPY_DST}),this._dynamicBuffer=new d.h({data:new Float32Array(1),label:"dynamic-particle-buffer",shrinkToFit:!1,usage:h.S.VERTEX|h.S.COPY_DST});for(const e in r){const t=r[e],n=(0,p.m)(t.format);t.dynamic?(s.addAttribute(t.attributeName,{buffer:this._dynamicBuffer,stride:4*this._dynamicStride,offset:4*a,format:t.format}),a+=n.size):(s.addAttribute(t.attributeName,{buffer:this._staticBuffer,stride:4*this._staticStride,offset:4*o,format:t.format}),o+=n.size)}s.addIndex(this.indexBuffer);const l=this.getParticleUpdate(r);this._dynamicUpload=l.dynamicUpdate,this._staticUpload=l.staticUpdate,this.geometry=s}getParticleUpdate(e){const t=function(e){const t=[];for(const r in e){const n=e[r];t.push(r,n.code,n.dynamic?"d":"s")}return t.join("_")}(e);return this._generateParticleUpdateCache[t]||(this._generateParticleUpdateCache[t]=this.generateParticleUpdate(e)),this._generateParticleUpdateCache[t]}generateParticleUpdate(e){return function(e){return{dynamicUpdate:m(e,!0),staticUpdate:m(e,!1)}}(e)}update(e,t){e.length>this._size&&(t=!0,this._size=Math.max(e.length,1.5*this._size|0),this.staticAttributeBuffer=new f.u(this._size*this._staticStride*4*4),this.dynamicAttributeBuffer=new f.u(this._size*this._dynamicStride*4*4),this.indexBuffer=g(this._size),this.geometry.indexBuffer.setDataWithSize(this.indexBuffer,this.indexBuffer.byteLength,!0));const r=this.dynamicAttributeBuffer;if(this._dynamicUpload(e,r.float32View,r.uint32View),this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View,e.length*this._dynamicStride*4,!0),t){const t=this.staticAttributeBuffer;this._staticUpload(e,t.float32View,t.uint32View),this._staticBuffer.setDataWithSize(t.float32View,e.length*this._staticStride*4,!0)}}destroy(){this._staticBuffer.destroy(),this._dynamicBuffer.destroy(),this.geometry.destroy()}}var _=r(2577),y=r(9113),b=r(3012),S=r(8475),w=r(4492),v=r(218),T="\nstruct ParticleUniforms {\n  uProjectionMatrix:mat3x3<f32>,\n  uColor:vec4<f32>,\n  uResolution:vec2<f32>,\n  uRoundPixels:f32,\n};\n\n@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;\n\n@group(1) @binding(0) var uTexture: texture_2d<f32>;\n@group(1) @binding(1) var uSampler : sampler;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) color : vec4<f32>,\n  };\n@vertex\nfn mainVertex(\n  @location(0) aVertex: vec2<f32>,\n  @location(1) aPosition: vec2<f32>,\n  @location(2) aUV: vec2<f32>,\n  @location(3) aColor: vec4<f32>,\n  @location(4) aRotation: f32,\n) -> VSOutput {\n  \n   let v = vec2(\n       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),\n       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)\n   ) + aPosition;\n\n   let position = vec4((uniforms.uProjectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;\n\n  return VSOutput(\n   position,\n   aUV,\n   vColor,\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) color: vec4<f32>,\n  @builtin(position) position: vec4<f32>,\n) -> @location(0) vec4<f32> {\n\n    var sample = textureSample(uTexture, uSampler, uv) * color;\n   \n    return sample;\n}";class C extends S.M{constructor(){super({glProgram:y.M.from({vertex:"attribute vec2 aVertex;\nattribute vec2 aUV;\nattribute vec4 aColor;\n\nattribute vec2 aPosition;\nattribute float aRotation;\n\nuniform mat3 uTranslationMatrix;\nuniform float uRound;\nuniform vec2 uResolution;\nuniform vec4 uColor;\n\nvarying vec2 vUV;\nvarying vec4 vColor;\n\nvec2 roundPixels(vec2 position, vec2 targetSize)\n{       \n    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n}\n\nvoid main(void){\n    float cosRotation = cos(aRotation);\n    float sinRotation = sin(aRotation);\n    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;\n    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;\n\n    vec2 v = vec2(x, y);\n    v = v + aPosition;\n\n    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    if(uRound == 1.0)\n    {\n        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n    }\n\n    vUV = aUV;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;\n}\n",fragment:"varying vec2 vUV;\nvarying vec4 vColor;\n\nuniform sampler2D uTexture;\n\nvoid main(void){\n    vec4 color = texture2D(uTexture, vUV) * vColor;\n    gl_FragColor = color;\n}"}),gpuProgram:b.B.from({fragment:{source:T,entryPoint:"mainFragment"},vertex:{source:T,entryPoint:"mainVertex"}}),resources:{uTexture:w.g.WHITE.source,uSampler:new v.n({}),uniforms:{uTranslationMatrix:{value:new s.u,type:"mat3x3<f32>"},uColor:{value:new _.Q(16777215),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}}})}}class P{constructor(e,t){this.state=l.U.for2d(),this.localUniforms=new a.k({uTranslationMatrix:{value:new s.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array(4),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}),this.renderer=e,this.adaptor=t,this.defaultShader=new C,this.state=l.U.for2d()}validateRenderable(e){return!1}addRenderable(e,t){this.renderer.renderPipes.batch.break(t),t.add(e)}getBuffers(e){return e._gpuData[this.renderer.uid]||this._initBuffer(e)}_initBuffer(e){return e._gpuData[this.renderer.uid]=new x({size:e.particleChildren.length,properties:e._properties}),e._gpuData[this.renderer.uid]}updateRenderable(e){}execute(e){const t=e.particleChildren;if(0===t.length)return;const r=this.renderer,n=this.getBuffers(e);e.texture||(e.texture=t[0].texture);const i=this.state;n.update(t,e._childrenDirty),e._childrenDirty=!1,i.blendMode=(0,o.i)(e.blendMode,e.texture._source);const s=this.localUniforms.uniforms,a=s.uTranslationMatrix;e.worldTransform.copyTo(a),a.prepend(r.globalUniforms.globalUniformData.projectionMatrix),s.uResolution=r.globalUniforms.globalUniformData.resolution,s.uRound=r._roundPixels|e._roundPixels,(0,u.V)(e.groupColorAlpha,s.uColor,0),this.adaptor.execute(this,e)}destroy(){this.defaultShader&&(this.defaultShader.destroy(),this.defaultShader=null)}}class F extends P{constructor(e){super(e,new i)}}F.extension={type:[n.Ag.WebGLPipes],name:"particle"};class k{execute(e,t){const r=e.renderer,n=t.shader||e.defaultShader;n.groups[0]=r.renderPipes.uniformBatch.getUniformBindGroup(e.localUniforms,!0),n.groups[1]=r.texture.getTextureBindGroup(t.texture);const i=e.state,s=e.getBuffers(t);r.encoder.draw({geometry:s.geometry,shader:t.shader||e.defaultShader,state:i,size:6*t.particleChildren.length})}}class M extends P{constructor(e){super(e,new k)}}M.extension={type:[n.Ag.WebGPUPipes],name:"particle"},n.XO.add(F),n.XO.add(M)},1317:(e,t,r)=>{var n=r(8507),i=r(8734),s=r(975);class a extends i.U{constructor(){super(),this.geometry=new s.P}destroy(){this.geometry.destroy()}}class o{constructor(e){this._renderer=e}addRenderable(e,t){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,t),t._batcher.updateElement(t)}validateRenderable(e){const t=this._getGpuSprite(e);return!t._batcher.checkAndUpdateTexture(t,e._texture)}_updateBatchableSprite(e,t){t.geometry.update(e),t.setTexture(e._texture)}_getGpuSprite(e){return e._gpuData[this._renderer.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=e._gpuData[this._renderer.uid]=new a,r=t;return r.renderable=e,r.transform=e.groupTransform,r.texture=e._texture,r.roundPixels=this._renderer._roundPixels|e._roundPixels,e.didViewUpdate||this._updateBatchableSprite(e,r),t}destroy(){this._renderer=null}}o.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"nineSliceSprite"},n.XO.add(o)},8723:(e,t,r)=>{var n=r(8507),i=r(8639),s=r(7547),a=r(5099),o=r(2760),l=r(8734),u=r(5060),d=r(9313),h=r(5611),c=r(2067),p=r(6665),f=r(8475),g=r(5811),m=r(4492);const x={name:"tiling-bit",vertex:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;\n\n            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;\n        "},fragment:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n\n            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);\n            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;\n            var unclamped = coord;\n            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);\n\n            var bias = 0.;\n\n            if(unclamped.x == coord.x && unclamped.y == coord.y)\n            {\n                bias = -32.;\n            }\n\n            outColor = textureSampleBias(uTexture, uSampler, coord, bias);\n        "}},_={name:"tiling-bit",vertex:{header:"\n            uniform mat3 uTextureTransform;\n            uniform vec4 uSizeAnchor;\n\n        ",main:"\n            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;\n\n            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;\n        "},fragment:{header:"\n            uniform sampler2D uTexture;\n            uniform mat3 uMapCoord;\n            uniform vec4 uClampFrame;\n            uniform vec2 uClampOffset;\n        ",main:"\n\n        vec2 coord = vUV + ceil(uClampOffset - vUV);\n        coord = (uMapCoord * vec3(coord, 1.0)).xy;\n        vec2 unclamped = coord;\n        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0\n\n        "}};let y,b;class S extends f.M{constructor(){y??(y=(0,h.v)({name:"tiling-sprite-shader",bits:[c.Ls,x,p.b]})),b??(b=(0,h.I)({name:"tiling-sprite-shader",bits:[c.mA,_,p.m]}));const e=new g.k({uMapCoord:{value:new d.u,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new d.u,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:b,gpuProgram:y,resources:{localUniforms:new g.k({uTransformMatrix:{value:new d.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:e,uTexture:m.g.EMPTY.source,uSampler:m.g.EMPTY.source.style}})}updateUniforms(e,t,r,n,i,s){const a=this.resources.tilingUniforms,o=s.width,l=s.height,u=s.textureMatrix,d=a.uniforms.uTextureTransform;d.set(r.a*o/e,r.b*o/t,r.c*l/e,r.d*l/t,r.tx/e,r.ty/t),d.invert(),a.uniforms.uMapCoord=u.mapCoord,a.uniforms.uClampFrame=u.uClampFrame,a.uniforms.uClampOffset=u.uClampOffset,a.uniforms.uTextureTransform=d,a.uniforms.uSizeAnchor[0]=e,a.uniforms.uSizeAnchor[1]=t,a.uniforms.uSizeAnchor[2]=n,a.uniforms.uSizeAnchor[3]=i,s&&(this.resources.uTexture=s.source,this.resources.uSampler=s.source.style)}}class w extends u.u{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}const v=new w;class T{constructor(){this.canBatch=!0,this.geometry=new u.u({indices:v.indices.slice(),positions:v.positions.slice(),uvs:v.uvs.slice()})}destroy(){this.geometry.destroy(),this.shader?.destroy()}}class C{constructor(e){this._state=s.U.default2d,this._renderer=e}validateRenderable(e){const t=this._getTilingSpriteData(e),r=t.canBatch;this._updateCanBatch(e);const n=t.canBatch;if(n&&n===r){const{batchableMesh:r}=t;return!r._batcher.checkAndUpdateTexture(r,e.texture)}return r!==n}addRenderable(e,t){const r=this._renderer.renderPipes.batch;this._updateCanBatch(e);const n=this._getTilingSpriteData(e),{geometry:i,canBatch:s}=n;if(s){n.batchableMesh||(n.batchableMesh=new l.U);const s=n.batchableMesh;e.didViewUpdate&&(this._updateBatchableMesh(e),s.geometry=i,s.renderable=e,s.transform=e.groupTransform,s.setTexture(e._texture)),s.roundPixels=this._renderer._roundPixels|e._roundPixels,r.addToBatch(s,t)}else r.break(t),n.shader||(n.shader=new S),this.updateRenderable(e),t.add(e)}execute(e){const{shader:t}=this._getTilingSpriteData(e);t.groups[0]=this._renderer.globalUniforms.bindGroup;const r=t.resources.localUniforms.uniforms;r.uTransformMatrix=e.groupTransform,r.uRound=this._renderer._roundPixels|e._roundPixels,(0,o.V)(e.groupColorAlpha,r.uColor,0),this._state.blendMode=(0,i.i)(e.groupBlendMode,e.texture._source),this._renderer.encoder.draw({geometry:v,shader:t,state:this._state})}updateRenderable(e){const t=this._getTilingSpriteData(e),{canBatch:r}=t;if(r){const{batchableMesh:r}=t;e.didViewUpdate&&this._updateBatchableMesh(e),r._batcher.updateElement(r)}else if(e.didViewUpdate){const{shader:r}=t;r.updateUniforms(e.width,e.height,e._tileTransform.matrix,e.anchor.x,e.anchor.y,e.texture)}}_getTilingSpriteData(e){return e._gpuData[this._renderer.uid]||this._initTilingSpriteData(e)}_initTilingSpriteData(e){const t=new T;return t.renderable=e,e._gpuData[this._renderer.uid]=t,t}_updateBatchableMesh(e){const t=this._getTilingSpriteData(e),{geometry:r}=t,n=e.texture.source.style;"repeat"!==n.addressMode&&(n.addressMode="repeat",n.update()),function(e,t){const r=e.texture,n=r.frame.width,i=r.frame.height;let s=0,a=0;e.applyAnchorToTexture&&(s=e.anchor.x,a=e.anchor.y),t[0]=t[6]=-s,t[2]=t[4]=1-s,t[1]=t[3]=-a,t[5]=t[7]=1-a;const o=d.u.shared;o.copyFrom(e._tileTransform.matrix),o.tx/=e.width,o.ty/=e.height,o.invert(),o.scale(e.width/n,e.height/i),function(e,t,r,n){let i=0;const s=e.length/2,a=n.a,o=n.b,l=n.c,u=n.d,d=n.tx,h=n.ty;for(r*=2;i<s;){const t=e[r],n=e[r+1];e[r]=a*t+l*n+d,e[r+1]=o*t+u*n+h,r+=2,i++}}(t,0,0,o)}(e,r.uvs),function(e,t){const r=e.anchor.x,n=e.anchor.y;t[0]=-r*e.width,t[1]=-n*e.height,t[2]=(1-r)*e.width,t[3]=-n*e.height,t[4]=(1-r)*e.width,t[5]=(1-n)*e.height,t[6]=-r*e.width,t[7]=(1-n)*e.height}(e,r.positions)}destroy(){this._renderer=null}_updateCanBatch(e){const t=this._getTilingSpriteData(e),r=e.texture;let n=!0;return this._renderer.type===a.W.WEBGL&&(n=this._renderer.context.supports.nonPowOf2wrapping),t.canBatch=r.textureMatrix.isSimple&&(n||r.source.isPowerOfTwo),t.canBatch}}C.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"tilingSprite"},n.XO.add(C)},8422:(e,t,r)=>{r.d(t,{K:()=>n});class n{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}destroy(){}}},23:(e,t,r)=>{var n=r(8507),i=r(1979),s=r(9408),a=r(4016),o=r(9313),l=r(5611),u=r(4459),d=r(4e3),h=r(6665),c=r(6040),p=r(8475),f=r(5811);const g={name:"local-uniform-msdf-bit",vertex:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32,\n                uRound:f32,\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "},fragment:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n         ",main:"\n            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));\n        "}},m={name:"local-uniform-msdf-bit",vertex:{header:"\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix *= uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "},fragment:{header:"\n            uniform float uDistance;\n         ",main:"\n            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));\n        "}},x={name:"msdf-bit",fragment:{header:"\n            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {\n\n                // MSDF\n                var median = msdfColor.r + msdfColor.g + msdfColor.b -\n                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n\n                // SDF\n                median = min(median, msdfColor.a);\n\n                var screenPxDistance = distance * (median - 0.5);\n                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));\n                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);\n                var coverage: f32 = pow(shapeColor.a * alpha, gamma);\n\n                return coverage;\n\n            }\n        "}},_={name:"msdf-bit",fragment:{header:"\n            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {\n\n                // MSDF\n                float median = msdfColor.r + msdfColor.g + msdfColor.b -\n                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n\n                // SDF\n                median = min(median, msdfColor.a);\n\n                float screenPxDistance = distance * (median - 0.5);\n                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));\n                float gamma = mix(1.0, 1.0 / 2.2, luma);\n                float coverage = pow(shapeColor.a * alpha, gamma);\n\n                return coverage;\n            }\n        "}};let y,b;class S extends p.M{constructor(e){const t=new f.k({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new o.u,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}});y??(y=(0,l.v)({name:"sdf-shader",bits:[u.F,(0,d._)(e),g,x,h.b]})),b??(b=(0,l.I)({name:"sdf-shader",bits:[u.a,(0,d.P)(e),m,_,h.m]})),super({glProgram:b,gpuProgram:y,resources:{localUniforms:t,batchSamplers:(0,c.n)(e)}})}}var w=r(4670),v=r(268),T=r(9690),C=r(2577),P=r(9252),F=r(7608),k=r(8293),M=r(4492),A=r(218),B=r(1242),R=r(3548),U=r(8875);class z extends U.A{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return(0,w.t6)(w.lj,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return(0,w.t6)(w.lj,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return(0,w.t6)(w.lj,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return(0,w.t6)(w.lj,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return(0,w.t6)(w.lj,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners();for(const e in this.chars)this.chars[e].texture?.destroy();this.chars=null,e&&(this.pages.forEach((e=>e.texture.destroy(!0))),this.pages=null)}}const G=class e extends z{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const r={...e.defaultOptions,...t};this._textureSize=r.textureSize,this._mipmap=r.mipmap;const n=r.style.clone();r.overrideFill&&(n._fill.color=16777215,n._fill.alpha=1,n._fill.texture=M.g.WHITE,n._fill.fill=null),this.applyFillAsTint=r.overrideFill;const i=n.fontSize;n.fontSize=this.baseMeasurementFontSize;const s=(0,B.Z)(n);r.overrideSize?n._stroke&&(n._stroke.width*=this.baseRenderedFontSize/i):n.fontSize=this.baseRenderedFontSize=i,this._style=n,this._skipKerning=r.skipKerning??!1,this.resolution=r.resolution??1,this._padding=r.padding??4,r.textureStyle&&(this._textureStyle=r.textureStyle instanceof A.n?r.textureStyle:new A.n(r.textureStyle)),this.fontMetrics=a.P.measureFont(s),this.lineHeight=n.lineHeight||this.fontMetrics.fontSize||n.fontSize}ensureCharacters(e){const t=a.P.graphemeSegmenter(e).filter((e=>!this._currentChars.includes(e))).filter(((e,t,r)=>r.indexOf(e)===t));if(!t.length)return;let r;this._currentChars=[...this._currentChars,...t],r=-1===this._currentPageIndex?this._nextPage():this.pages[this._currentPageIndex];let{canvas:n,context:i}=r.canvasAndContext,s=r.texture.source;const o=this._style;let l=this._currentX,u=this._currentY,d=this._currentMaxCharHeight;const h=this.baseRenderedFontSize/this.baseMeasurementFontSize,c=this._padding*h;let p=!1;const f=n.width/this.resolution,g=n.height/this.resolution;for(let e=0;e<t.length;e++){const r=t[e],m=a.P.measureText(r,o,n,!1);m.lineHeight=m.height;const x=m.width*h,_=Math.ceil(("italic"===o.fontStyle?2:1)*x)+2*c,y=m.height*h+2*c;if(p=!1,"\n"!==r&&"\r"!==r&&"\t"!==r&&" "!==r&&(p=!0,d=Math.ceil(Math.max(y,d))),l+_>f&&(u+=d,d=y,l=0,u+d>g)){s.update();const e=this._nextPage();n=e.canvasAndContext.canvas,i=e.canvasAndContext.context,s=e.texture.source,l=0,u=0,d=0}const b=x/h-(o.dropShadow?.distance??0)-(o._stroke?.width??0);if(this.chars[r]={id:r.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:b,kerning:{}},p){this._drawGlyph(i,m,l+c,u+c,h,o);const e=s.width*h,t=s.height*h,n=new P.M(l/e*s.width,u/t*s.height,_/e*s.width,y/t*s.height);this.chars[r].texture=new M.g({source:s,frame:n}),l+=Math.ceil(_)}}s.update(),this._currentX=l,this._currentY=u,this._currentMaxCharHeight=d,this._skipKerning&&this._applyKerning(t,i)}get pageTextures(){return(0,w.t6)(w.lj,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,t){const r=this._measureCache;for(let n=0;n<e.length;n++){const i=e[n];for(let e=0;e<this._currentChars.length;e++){const n=this._currentChars[e];let s=r[i];s||(s=r[i]=t.measureText(i).width);let a=r[n];a||(a=r[n]=t.measureText(n).width);let o=t.measureText(i+n).width,l=o-(s+a);l&&(this.chars[i].kerning[n]=l),o=t.measureText(i+n).width,l=o-(s+a),l&&(this.chars[n].kerning[i]=l)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,t=F.N.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(t.context,this._style,e);const r=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),n=new M.g({source:new k.b({resource:t.canvas,resolution:r,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(n.source.style=this._textureStyle);const i={canvasAndContext:t,texture:n};return this.pages[this._currentPageIndex]=i,i}_setupContext(e,t,r){t.fontSize=this.baseRenderedFontSize,e.scale(r,r),e.font=(0,B.Z)(t),t.fontSize=this.baseMeasurementFontSize,e.textBaseline=t.textBaseline;const n=t._stroke,i=n?.width??0;if(n&&(e.lineWidth=i,e.lineJoin=n.join,e.miterLimit=n.miterLimit,e.strokeStyle=(0,R.r)(n,e)),t._fill&&(e.fillStyle=(0,R.r)(t._fill,e)),t.dropShadow){const n=t.dropShadow,i=C.Q.shared.setValue(n.color).toArray(),s=n.blur*r,a=n.distance*r;e.shadowColor=`rgba(${255*i[0]},${255*i[1]},${255*i[2]},${n.alpha})`,e.shadowBlur=s,e.shadowOffsetX=Math.cos(n.angle)*a,e.shadowOffsetY=Math.sin(n.angle)*a}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,t,r,n,i,s){const a=t.text,o=t.fontProperties,l=s._stroke,u=(l?.width??0)*i,d=r+u/2,h=n-u/2,c=o.descent*i,p=t.lineHeight*i;let f=!1;s.stroke&&u&&(f=!0,e.strokeText(a,d,h+p-c));const{shadowBlur:g,shadowOffsetX:m,shadowOffsetY:x}=e;s._fill&&(f&&(e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),e.fillText(a,d,h+p-c)),f&&(e.shadowBlur=g,e.shadowOffsetX=m,e.shadowOffsetY=x)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:t,texture:r}=this.pages[e];F.N.returnCanvasAndContext(t),r.destroy(!0)}this.pages=null}};G.defaultOptions={textureSize:512,style:new T.x,mipmap:!0};let W=G;function D(e,t,r,n){const i={width:0,height:0,offsetY:0,scale:t.fontSize/r.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};i.offsetY=r.baseLineOffset;let s=i.lines[0],a=null,o=!0;const l={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},u=r.baseMeasurementFontSize/t.fontSize,d=t.letterSpacing*u,h=t.wordWrapWidth*u,c=t.lineHeight?t.lineHeight*u:r.lineHeight,p=t.wordWrap&&t.breakWords,f=e=>{const t=s.width;for(let r=0;r<l.index;r++){const n=e.positions[r];s.chars.push(e.chars[r]),s.charPositions.push(n+t)}s.width+=e.width,o=!1,l.width=0,l.index=0,l.chars.length=0},g=()=>{let e=s.chars.length-1;if(n){let t=s.chars[e];for(;" "===t;)s.width-=r.chars[t].xAdvance,t=s.chars[--e]}i.width=Math.max(i.width,s.width),s={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},o=!0,i.lines.push(s),i.height+=c},m=e=>e-d>h;for(let n=0;n<e.length+1;n++){let i;const u=n===e.length;u||(i=e[n]);const h=r.chars[i]||r.chars[" "];if(/(?:\s)/.test(i)||"\r"===i||"\n"===i||u){if(!o&&t.wordWrap&&m(s.width+l.width)?(g(),f(l),u||s.charPositions.push(0)):(l.start=s.width,f(l),u||s.charPositions.push(0)),"\r"===i||"\n"===i)0!==s.width&&g();else if(!u){const e=h.xAdvance+(h.kerning[a]||0)+d;s.width+=e,s.spaceWidth=e,s.spacesIndex.push(s.charPositions.length),s.chars.push(i)}}else{const e=h.kerning[a]||0,t=h.xAdvance+e+d;p&&m(s.width+l.width+t)&&(f(l),g()),l.positions[l.index++]=l.width+e,l.chars.push(i),l.width+=t}a=i}return g(),"center"===t.align?function(e){for(let t=0;t<e.lines.length;t++){const r=e.lines[t],n=e.width/2-r.width/2;for(let e=0;e<r.charPositions.length;e++)r.charPositions[e]+=n}}(i):"right"===t.align?function(e){for(let t=0;t<e.lines.length;t++){const r=e.lines[t],n=e.width-r.width;for(let e=0;e<r.charPositions.length;e++)r.charPositions[e]+=n}}(i):"justify"===t.align&&function(e){const t=e.width;for(let r=0;r<e.lines.length;r++){const n=e.lines[r];let i=0,s=n.spacesIndex[i++],a=0;const o=n.spacesIndex.length,l=(t-n.width)/o;for(let e=0;e<n.charPositions.length;e++)e===s&&(s=n.spacesIndex[i++],a+=l),n.charPositions[e]+=a}}(i),i}let O=0;const L=new class{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null}}getFont(e,t){let r=`${t.fontFamily}-bitmap`,n=!0;if(t._fill.fill&&!t._stroke)r+=t._fill.fill.styleKey,n=!1;else if(t._stroke||t.dropShadow){let e=t.styleKey;e=e.substring(0,e.lastIndexOf("-")),r=`${e}-bitmap`,n=!1}if(!i.l.has(r)){const e=Object.create(t);e.lineHeight=0;const s=new W({style:e,overrideFill:n,overrideSize:!0,...this.defaultOptions});O++,O>50&&(0,v.R)("BitmapText",`You have dynamically created ${O} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),s.once("destroy",(()=>{O--,i.l.remove(r)})),i.l.set(r,s)}const s=i.l.get(r);return s.ensureCharacters?.(e),s}getLayout(e,t,r=!0){const n=this.getFont(e,t);return D(a.P.graphemeSegmenter(e),t,n,r)}measureText(e,t,r=!0){return this.getLayout(e,t,r)}install(...e){let t=e[0];"string"==typeof t&&(t={name:t,style:e[1],chars:e[2]?.chars,resolution:e[2]?.resolution,padding:e[2]?.padding,skipKerning:e[2]?.skipKerning},(0,w.t6)(w.lj,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const r=t?.name;if(!r)throw new Error("[BitmapFontManager] Property `name` is required.");t={...this.defaultOptions,...t};const n=t.style,s=n instanceof T.x?n:new T.x(n),a=t.dynamicFill??this._canUseTintForStyle(s),o=new W({style:s,overrideFill:a,skipKerning:t.skipKerning,padding:t.padding,resolution:t.resolution,overrideSize:!1,textureStyle:t.textureStyle}),l=function(e){if(""===e)return[];"string"==typeof e&&(e=[e]);const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];if(Array.isArray(n)){if(2!==n.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);if(0===n[0].length||0===n[1].length)throw new Error("[BitmapFont]: Invalid character delimiter.");const e=n[0].charCodeAt(0),r=n[1].charCodeAt(0);if(r<e)throw new Error("[BitmapFont]: Invalid character range.");for(let n=e,i=r;n<=i;n++)t.push(String.fromCharCode(n))}else t.push(...Array.from(n))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(t.chars);return o.ensureCharacters(l.join("")),i.l.set(`${r}-bitmap`,o),o.once("destroy",(()=>i.l.remove(`${r}-bitmap`))),o}uninstall(e){const t=`${e}-bitmap`,r=i.l.get(t);r&&r.destroy()}_canUseTintForStyle(e){return!(e._stroke||e.dropShadow&&0!==e.dropShadow.color||e._fill.fill||16777215!==e._fill.color)}};class I extends s.A{destroy(){this.context.customShader&&this.context.customShader.destroy(),super.destroy()}}class E{constructor(e){this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuBitmapText")}validateRenderable(e){const t=this._getGpuBitmapText(e);return this._renderer.renderPipes.graphics.validateRenderable(t)}addRenderable(e,t){const r=this._getGpuBitmapText(e);V(e,r),e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,r)),this._renderer.renderPipes.graphics.addRenderable(r,t),r.context.customShader&&this._updateDistanceField(e)}updateRenderable(e){const t=this._getGpuBitmapText(e);V(e,t),this._renderer.renderPipes.graphics.updateRenderable(t),t.context.customShader&&this._updateDistanceField(e)}_updateContext(e,t){const{context:r}=t,n=L.getFont(e.text,e._style);r.clear(),"none"!==n.distanceField.type&&(r.customShader||(r.customShader=new S(this._renderer.limits.maxBatchableTextures)));const i=a.P.graphemeSegmenter(e.text),s=e._style;let o=n.baseLineOffset;const l=D(i,s,n,!0),u=s.padding,d=l.scale;let h=l.width,c=l.height+l.offsetY;s._stroke&&(h+=s._stroke.width/d,c+=s._stroke.width/d),r.translate(-e._anchor._x*h-u,-e._anchor._y*c-u).scale(d,d);const p=n.applyFillAsTint?s._fill.color:16777215;let f=n.fontMetrics.fontSize,g=n.lineHeight;s.lineHeight&&(f=s.fontSize/d,g=s.lineHeight/d);let m=(g-f)/2;m-n.baseLineOffset<0&&(m=0);for(let e=0;e<l.lines.length;e++){const t=l.lines[e];for(let e=0;e<t.charPositions.length;e++){const i=t.chars[e],s=n.chars[i];if(s?.texture){const n=s.texture;r.texture(n,p||"black",Math.round(t.charPositions[e]+s.xOffset),Math.round(o+s.yOffset+m),n.orig.width,n.orig.height)}}o+=g}}_getGpuBitmapText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const t=new I;return e._gpuData[this._renderer.uid]=t,this._updateContext(e,t),t}_updateDistanceField(e){const t=this._getGpuBitmapText(e).context,r=e._style.fontFamily,n=i.l.get(`${r}-bitmap`),{a:s,b:a,c:o,d:l}=e.groupTransform,u=Math.sqrt(s*s+a*a),d=Math.sqrt(o*o+l*l),h=(Math.abs(u)+Math.abs(d))/2,c=n.baseRenderedFontSize/e._style.fontSize,p=h*n.distanceField.range*(1/c);t.customShader.resources.localUniforms.uniforms.uDistance=p}destroy(){this._renderer=null}}function V(e,t){t.groupTransform=e.groupTransform,t.groupColorAlpha=e.groupColorAlpha,t.groupColor=e.groupColor,t.groupBlendMode=e.groupBlendMode,t.globalDisplayStatus=e.globalDisplayStatus,t.groupTransform=e.groupTransform,t.localDisplayStatus=e.localDisplayStatus,t.groupAlpha=e.groupAlpha,t._roundPixels=e._roundPixels}E.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"bitmapText"},n.XO.add(E)},2623:(e,t,r)=>{var n=r(8507),i=r(4492),s=r(2289),a=r(8422);class o extends a.K{constructor(e){super(),this.generatingTexture=!1,this._renderer=e,e.runners.resolutionChange.add(this)}resolutionChange(){const e=this.renderable;e._autoResolution&&e.onViewUpdate()}destroy(){this._renderer.htmlText.returnTexturePromise(this.texturePromise),this.texturePromise=null,this._renderer=null}}class l{constructor(e){this._renderer=e}validateRenderable(e){return e._didTextUpdate}addRenderable(e,t){const r=this._getGpuText(e);e._didTextUpdate&&(this._updateGpuText(e).catch((e=>{console.error(e)})),e._didTextUpdate=!1,(0,s.s)(r,e)),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._getGpuText(e);t._batcher.updateElement(t)}async _updateGpuText(e){e._didTextUpdate=!1;const t=this._getGpuText(e);if(t.generatingTexture)return;t.texturePromise&&(this._renderer.htmlText.returnTexturePromise(t.texturePromise),t.texturePromise=null),t.generatingTexture=!0,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution;const r=this._renderer.htmlText.getTexturePromise(e);t.texturePromise=r,t.texture=await r;const n=e.renderGroup||e.parentRenderGroup;n&&(n.structureDidChange=!0),t.generatingTexture=!1,(0,s.s)(t,e)}_getGpuText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const t=new o(this._renderer);return t.renderable=e,t.transform=e.groupTransform,t.texture=i.g.EMPTY,t.bounds={minX:0,maxX:1,minY:0,maxY:0},t.roundPixels=this._renderer._roundPixels|e._roundPixels,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,e._gpuData[this._renderer.uid]=t,t}destroy(){this._renderer=null}}l.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"htmlText"};var u=r(7608),d=r(2437),h=r(5099),c=r(1761),p=r(268),f=r(8218),g=r(2558);const m="http://www.w3.org/2000/svg",x="http://www.w3.org/1999/xhtml";class _{constructor(){this.svgRoot=document.createElementNS(m,"svg"),this.foreignObject=document.createElementNS(m,"foreignObject"),this.domElement=document.createElementNS(x,"div"),this.styleElement=document.createElementNS(x,"style");const{foreignObject:e,svgRoot:t,styleElement:r,domElement:n}=this;e.setAttribute("width","10000"),e.setAttribute("height","10000"),e.style.overflow="hidden",t.appendChild(e),e.appendChild(r),e.appendChild(n),this.image=c.e.get().createImage()}}var y=r(1979);const b=new Map;let S;class w{constructor(e){this._renderer=e,this._createCanvas=e.type===h.W.WEBGPU}getTexture(e){return this.getTexturePromise(e)}getTexturePromise(e){return this._buildTexturePromise(e)}async _buildTexturePromise(e){const{text:t,style:r,resolution:n,textureStyle:i}=e,s=f.Z.get(_),a=function(e,t){const r=t.fontFamily,n=[],i={},s=e.match(/font-family:([^;"\s]+)/g);function a(e){i[e]||(n.push(e),i[e]=!0)}if(Array.isArray(r))for(let e=0;e<r.length;e++)a(r[e]);else a(r);s&&s.forEach((e=>{a(e.split(":")[1].trim())}));for(const e in t.tagStyles)a(t.tagStyles[e].fontFamily);return n}(t,r),o=await async function(e){const t=e.filter((e=>y.l.has(`${e}-and-url`))).map((e=>{if(!b.has(e)){const{entries:t}=y.l.get(`${e}-and-url`),r=[];t.forEach((t=>{const n=t.url,i=t.faces.map((e=>({weight:e.weight,style:e.style})));r.push(...i.map((t=>async function(e,t){const r=await async function(e){const t=await c.e.get().fetch(e),r=await t.blob(),n=new FileReader;return await new Promise(((e,t)=>{n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)}))}(t);return`@font-face {\n        font-family: "${e.fontFamily}";\n        font-weight: ${e.fontWeight};\n        font-style: ${e.fontStyle};\n        src: url('${r}');\n    }`}({fontWeight:t.weight,fontStyle:t.style,fontFamily:e},n))))})),b.set(e,Promise.all(r).then((e=>e.join("\n"))))}return b.get(e)}));return(await Promise.all(t)).join("\n")}(a),l=function(e,t,r,n){n||(n=S||(S=new _));const{domElement:i,styleElement:s,svgRoot:a}=n;i.innerHTML=`<style>${t.cssStyle};</style><div style='padding:0'>${e}</div>`,i.setAttribute("style","transform-origin: top left; display: inline-block"),r&&(s.textContent=r),document.body.appendChild(a);const o=i.getBoundingClientRect();a.remove();const l=2*t.padding;return{width:o.width-l,height:o.height-l}}(t,r,o,s),d=Math.ceil(Math.ceil(Math.max(1,l.width)+2*r.padding)*n),h=Math.ceil(Math.ceil(Math.max(1,l.height)+2*r.padding)*n),p=s.image;p.width=2+(0|d),p.height=2+(0|h);const m=function(e,t,r,n,i){const{domElement:s,styleElement:a,svgRoot:o}=i;s.innerHTML=`<style>${t.cssStyle}</style><div style='padding:0;'>${e}</div>`,s.setAttribute("style",`transform: scale(${r});transform-origin: top left; display: inline-block`),a.textContent=n;const{width:l,height:u}=i.image;return o.setAttribute("width",l.toString()),o.setAttribute("height",u.toString()),(new XMLSerializer).serializeToString(o)}(t,r,n,o,s);await function(e,t,r){return new Promise((async n=>{r&&await new Promise((e=>setTimeout(e,100))),e.onload=()=>{n()},e.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(t)}`,e.crossOrigin="anonymous"}))}(p,m,function(){const{userAgent:e}=c.e.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}()&&a.length>0);const x=p;let w;this._createCanvas&&(w=function(e,t){const r=u.N.getOptimalCanvasAndContext(e.width,e.height,t),{context:n}=r;return n.clearRect(0,0,e.width,e.height),n.drawImage(e,0,0),r}(p,n));const v=(0,g.M)(w?w.canvas:x,p.width-2,p.height-2,n);return i&&(v.source.style=i),this._createCanvas&&(this._renderer.texture.initSource(v.source),u.N.returnCanvasAndContext(w)),f.Z.return(s),v}returnTexturePromise(e){e.then((e=>{this._cleanUp(e)})).catch((()=>{(0,p.R)("HTMLTextSystem: Failed to clean texture")}))}_cleanUp(e){d.W.returnTexture(e,!0),e.source.resource=null,e.source.uploadMethodId="unknown"}destroy(){this._renderer=null}}w.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"htmlText"},n.XO.add(w),n.XO.add(l)},9690:(e,t,r)=>{r.d(t,{x:()=>f});var n=r(8875),i=r(2577),s=r(4670),a=r(268),o=r(7276),l=r(2806),u=r(5997),d=r(990);const h=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function c(e,t,r){return e?(t[r++]=e.color,t[r++]=e.alpha,t[r++]=e.fill?.styleKey,r):r}const p=class e extends n.A{constructor(t={}){super(),function(e){const t=e;if("boolean"==typeof t.dropShadow&&t.dropShadow){const r=f.defaultDropShadow;e.dropShadow={alpha:t.dropShadowAlpha??r.alpha,angle:t.dropShadowAngle??r.angle,blur:t.dropShadowBlur??r.blur,color:t.dropShadowColor??r.color,distance:t.dropShadowDistance??r.distance}}if(void 0!==t.strokeThickness){(0,s.t6)(s.lj,"strokeThickness is now a part of stroke");const r=t.stroke;let n={};if(i.Q.isColorLike(r))n.color=r;else if(r instanceof o._||r instanceof l.m)n.fill=r;else{if(!Object.hasOwnProperty.call(r,"color")&&!Object.hasOwnProperty.call(r,"fill"))throw new Error("Invalid stroke value.");n=r}e.stroke={...n,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){if((0,s.t6)(s.lj,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(t.fill)||0===t.fill.length)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");t.fill.length!==t.fillGradientStops.length&&(0,a.R)("The number of fill colors must match the number of fill gradient stops.");const r=new o._({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),n=t.fillGradientStops.slice(),l=t.fill.map((e=>i.Q.shared.setValue(e).toNumber()));n.forEach(((e,t)=>{r.addColorStop(e,l[t])})),e.fill={fill:r}}}(t);const r={...e.defaultTextStyle,...t};for(const e in r)this[e]=r[e];this.update()}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow=null!==t&&"object"==typeof t?this._createProxy({...e.defaultDropShadow,...t}):t?this._createProxy({...e.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize="string"==typeof e?parseInt(e,10):e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get filters(){return this._filters}set filters(e){this._filters=e,this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...u.T.defaultFillStyle,...e},(()=>{this._fill=(0,d.w)({...this._originalFill},u.T.defaultFillStyle)}))),this._fill=(0,d.w)(0===e?"black":e,u.T.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...u.T.defaultStrokeStyle,...e},(()=>{this._stroke=(0,d.T)({...this._originalStroke},u.T.defaultStrokeStyle)}))),this._stroke=(0,d.T)(e,u.T.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=function(e){const t=[];let r=0;for(let n=0;n<h.length;n++){const i=`_${h[n]}`;t[r++]=e[i]}return r=c(e._fill,t,r),r=function(e,t,r){return e?(r=c(e,t,r),t[r++]=e.width,t[r++]=e.alignment,t[r++]=e.cap,t[r++]=e.join,t[r++]=e.miterLimit,r):r}(e._stroke,t,r),r=function(e,t,r){return e?(t[r++]=e.alpha,t[r++]=e.angle,t[r++]=e.blur,t[r++]=e.distance,t[r++]=i.Q.shared.setValue(e.color).toNumber(),r):r}(e.dropShadow,t,r),r=function(e,t,r){if(!e)return r;for(const n of e)t[r++]=n.uid;return r}(e.filters,t,r),t.join("-")}(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=e.defaultTextStyle;for(const e in t)this[e]=t[e]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new e({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let e=0;if(this._filters)for(let t=0;t<this._filters.length;t++)e+=this._filters[t].padding;return Math.max(this._padding,e)}destroy(e=!1){if(this.removeAllListeners(),"boolean"==typeof e?e:e?.texture){const t="boolean"==typeof e?e:e?.textureSource;this._fill?.texture&&this._fill.texture.destroy(t),this._originalFill?.texture&&this._originalFill.texture.destroy(t),this._stroke?.texture&&this._stroke.texture.destroy(t),this._originalStroke?.texture&&this._originalStroke.texture.destroy(t)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,t){return new Proxy(e,{set:(e,r,n)=>(e[r]=n,t?.(r,n),this.update(),!0)})}_isFillStyle(e){return null!==(e??null)&&!(i.Q.isColorLike(e)||e instanceof o._||e instanceof l.m)}};p.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5},p.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let f=p},4016:(e,t,r)=>{r.d(t,{P:()=>o});var n=r(1761),i=r(1242);const s={willReadFrequently:!0},a=class e{static get experimentalLetterSpacingSupported(){let t=e._experimentalLetterSpacingSupported;if(void 0===t){const r=n.e.get().getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return t}constructor(e,t,r,n,i,s,a,o,l){this.text=e,this.style=t,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=o,this.fontProperties=l}static measureText(t=" ",r,n=e._canvas,s=r.wordWrap){const a=(0,i.Z)(r),o=e.measureFont(a);0===o.fontSize&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const l=e.__context;l.font=a;const u=(s?e._wordWrap(t,r,n):t).split(/(?:\r\n|\r|\n)/),d=new Array(u.length);let h=0;for(let t=0;t<u.length;t++){const n=e._measureText(u[t],r.letterSpacing,l);d[t]=n,h=Math.max(h,n)}const c=r._stroke?.width||0;let p=h+c;r.dropShadow&&(p+=r.dropShadow.distance);const f=r.lineHeight||o.fontSize;let g=Math.max(f,o.fontSize+c)+(u.length-1)*(f+r.leading);return r.dropShadow&&(g+=r.dropShadow.distance),new e(t,r,p,g,u,d,f+r.leading,h,o)}static _measureText(t,r,n){let i=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));const s=n.measureText(t);let a=s.width;const o=-s.actualBoundingBoxLeft;let l=s.actualBoundingBoxRight-o;if(a>0)if(i)a-=r,l-=r;else{const n=(e.graphemeSegmenter(t).length-1)*r;a+=n,l+=n}return Math.max(a,l)}static _wordWrap(t,r,n=e._canvas){const i=n.getContext("2d",s);let a=0,o="",l="";const u=Object.create(null),{letterSpacing:d,whiteSpace:h}=r,c=e._collapseSpaces(h),p=e._collapseNewlines(h);let f=!c;const g=r.wordWrapWidth+d,m=e._tokenize(t);for(let t=0;t<m.length;t++){let n=m[t];if(e._isNewline(n)){if(!p){l+=e._addLine(o),f=!c,o="",a=0;continue}n=" "}if(c){const t=e.isBreakingSpace(n),r=e.isBreakingSpace(o[o.length-1]);if(t&&r)continue}const s=e._getFromCache(n,d,u,i);if(s>g)if(""!==o&&(l+=e._addLine(o),o="",a=0),e.canBreakWords(n,r.breakWords)){const t=e.wordWrapSplit(n);for(let s=0;s<t.length;s++){let h=t[s],c=h,p=1;for(;t[s+p];){const i=t[s+p];if(e.canBreakChars(c,i,n,s,r.breakWords))break;h+=i,c=i,p++}s+=p-1;const m=e._getFromCache(h,d,u,i);m+a>g&&(l+=e._addLine(o),f=!1,o="",a=0),o+=h,a+=m}}else{o.length>0&&(l+=e._addLine(o),o="",a=0);const r=t===m.length-1;l+=e._addLine(n,!r),f=!1,o="",a=0}else s+a>g&&(f=!1,l+=e._addLine(o),o="",a=0),(o.length>0||!e.isBreakingSpace(n)||f)&&(o+=n,a+=s)}return l+=e._addLine(o,!1),l}static _addLine(t,r=!0){return t=e._trimRight(t),r?`${t}\n`:t}static _getFromCache(t,r,n,i){let s=n[t];return"number"!=typeof s&&(s=e._measureText(t,r,i)+r,n[t]=s),s}static _collapseSpaces(e){return"normal"===e||"pre-line"===e}static _collapseNewlines(e){return"normal"===e}static _trimRight(t){if("string"!=typeof t)return"";for(let r=t.length-1;r>=0;r--){const n=t[r];if(!e.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static _isNewline(t){return"string"==typeof t&&e._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,r){return"string"==typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const r=[];let n="";if("string"!=typeof t)return r;for(let i=0;i<t.length;i++){const s=t[i],a=t[i+1];e.isBreakingSpace(s,a)||e._isNewline(s)?(""!==n&&(r.push(n),n=""),"\r"===s&&"\n"===a?(r.push("\r\n"),i++):r.push(s)):n+=s}return""!==n&&r.push(n),r}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,n,i){return!0}static wordWrapSplit(t){return e.graphemeSegmenter(t)}static measureFont(t){if(e._fonts[t])return e._fonts[t];const r=e._context;r.font=t;const n=r.measureText(e.METRICS_STRING+e.BASELINE_SYMBOL),i={ascent:n.actualBoundingBoxAscent,descent:n.actualBoundingBoxDescent,fontSize:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent};return e._fonts[t]=i,i}static clearMetrics(t=""){t?delete e._fonts[t]:e._fonts={}}static get _canvas(){if(!e.__canvas){let t;try{const r=new OffscreenCanvas(0,0),i=r.getContext("2d",s);if(i?.measureText)return e.__canvas=r,r;t=n.e.get().createCanvas()}catch(e){t=n.e.get().createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas}static get _context(){return e.__context||(e.__context=e._canvas.getContext("2d",s)),e.__context}};a.METRICS_STRING="|ÉqÅ",a.BASELINE_SYMBOL="M",a.BASELINE_MULTIPLIER=1.4,a.HEIGHT_MULTIPLIER=2,a.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const e=new Intl.Segmenter;return t=>{const r=e.segment(t),n=[];let i=0;for(const e of r)n[i++]=e.segment;return n}}return e=>[...e]})(),a.experimentalLetterSpacing=!1,a._fonts={},a._newlines=[10,13],a._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let o=a},1242:(e,t,r)=>{r.d(t,{Z:()=>i});const n=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function i(e){const t="number"==typeof e.fontSize?`${e.fontSize}px`:e.fontSize;let r=e.fontFamily;Array.isArray(e.fontFamily)||(r=e.fontFamily.split(","));for(let e=r.length-1;e>=0;e--){let t=r[e].trim();/([\"\'])[^\'\"]+\1/.test(t)||n.includes(t)||(t=`"${t}"`),r[e]=t}return`${e.fontStyle} ${e.fontVariant} ${e.fontWeight} ${t} ${r.join(",")}`}},3548:(e,t,r)=>{r.d(t,{r:()=>d});var n=r(2577),i=r(9313),s=r(4492),a=r(268),o=r(7276),l=r(2806);const u=1e5;function d(e,t,r,d=0){if(e.texture===s.g.WHITE&&!e.fill)return n.Q.shared.setValue(e.color).setAlpha(e.alpha??1).toHexa();if(!e.fill){const r=t.createPattern(e.texture.source.resource,"repeat"),n=e.matrix.copyTo(i.u.shared);return n.scale(e.texture.frame.width,e.texture.frame.height),r.setTransform(n),r}if(e.fill instanceof l.m){const r=e.fill,n=t.createPattern(r.texture.source.resource,"repeat"),s=r.transform.copyTo(i.u.shared);return s.scale(r.texture.frame.width,r.texture.frame.height),n.setTransform(s),n}if(e.fill instanceof o._){const i=e.fill,s="linear"===i.type,a="local"===i.textureSpace;let o,l=1,h=1;a&&r&&(l=r.width+d,h=r.height+d);let c=!1;if(s){const{start:e,end:r}=i;o=t.createLinearGradient(e.x*l,e.y*h,r.x*l,r.y*h),c=Math.abs(r.x-e.x)<Math.abs(.1*(r.y-e.y))}else{const{center:e,innerRadius:r,outerCenter:n,outerRadius:s}=i;o=t.createRadialGradient(e.x*l,e.y*h,r*l,n.x*l,n.y*h,s*l)}if(c&&a&&r){const e=r.lineHeight/h;for(let t=0;t<r.lines.length;t++){const s=(t*r.lineHeight+d/2)/h;i.colorStops.forEach((t=>{const r=s+t.offset*e;o.addColorStop(Math.floor(r*u)/u,n.Q.shared.setValue(t.color).toHex())}))}}else i.colorStops.forEach((e=>{o.addColorStop(e.offset,n.Q.shared.setValue(e.color).toHex())}));return o}return(0,a.R)("FillStyle not recognised",e),"red"}},5148:(e,t,r)=>{var n=r(8507),i=r(2289),s=r(8422);class a extends s.K{constructor(e){super(),this._renderer=e,e.runners.resolutionChange.add(this)}resolutionChange(){const e=this.renderable;e._autoResolution&&e.onViewUpdate()}destroy(){this._renderer.canvasText.returnTexture(this.texture),this._renderer=null}}class o{constructor(e){this._renderer=e}validateRenderable(e){return e._didTextUpdate}addRenderable(e,t){const r=this._getGpuText(e);e._didTextUpdate&&(this._updateGpuText(e),e._didTextUpdate=!1),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._getGpuText(e);t._batcher.updateElement(t)}_updateGpuText(e){const t=this._getGpuText(e);t.texture&&this._renderer.canvasText.returnTexture(t.texture),e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,t.texture=this._renderer.canvasText.getTexture(e),(0,i.s)(t,e)}_getGpuText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const t=new a(this._renderer);return t.renderable=e,t.transform=e.groupTransform,t.bounds={minX:0,maxX:1,minY:0,maxY:0},t.roundPixels=this._renderer._roundPixels|e._roundPixels,e._gpuData[this._renderer.uid]=t,t}destroy(){this._renderer=null}}o.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"text"};var l=r(2437),u=r(218),d=r(4670),h=r(9690),c=r(2558),p=r(2577),f=r(9252),g=r(7608),m=r(1761),x=r(9939);let _=null,y=null;function b(e,t,r){for(let n=0,i=4*r*t;n<t;++n,i+=4)if(0!==e[i+3])return!1;return!0}function S(e,t,r,n,i){const s=4*t;for(let t=n,a=n*s+4*r;t<=i;++t,a+=s)if(0!==e[a+3])return!1;return!0}function w(...e){let t=e[0];t.canvas||(t={canvas:e[0],resolution:e[1]});const{canvas:r}=t,n=Math.min(t.resolution??1,1),i=t.width??r.width,s=t.height??r.height;let a=t.output;if(function(e,t){_||(_=m.e.get().createCanvas(256,128),y=_.getContext("2d",{willReadFrequently:!0}),y.globalCompositeOperation="copy",y.globalAlpha=1),(_.width<e||_.height<t)&&(_.width=(0,x.U5)(e),_.height=(0,x.U5)(t))}(i,s),!y)throw new TypeError("Failed to get canvas 2D context");y.drawImage(r,0,0,i,s,0,0,i*n,s*n);const o=y.getImageData(0,0,i,s).data;let l=0,u=0,d=i-1,h=s-1;for(;u<s&&b(o,i,u);)++u;if(u===s)return f.M.EMPTY;for(;b(o,i,h);)--h;for(;S(o,i,l,u,h);)++l;for(;S(o,i,d,u,h);)--d;return++d,++h,y.globalCompositeOperation="source-over",y.strokeRect(l,u,d-l,h-u),y.globalCompositeOperation="copy",a??(a=new f.M),a.set(l/n,u/n,(d-l)/n,(h-u)/n),a}var v=r(4016),T=r(1242),C=r(3548);const P=new f.M,F=new class{getCanvasAndContext(e){const{text:t,style:r,resolution:n=1}=e,i=r._getFinalPadding(),s=v.P.measureText(t||" ",r),a=Math.ceil(Math.ceil(Math.max(1,s.width)+2*i)*n),o=Math.ceil(Math.ceil(Math.max(1,s.height)+2*i)*n),l=g.N.getOptimalCanvasAndContext(a,o);return this._renderTextToCanvas(t,r,i,n,l),{canvasAndContext:l,frame:r.trim?w({canvas:l.canvas,width:a,height:o,resolution:1,output:P}):P.set(0,0,a,o)}}returnCanvasAndContext(e){g.N.returnCanvasAndContext(e)}_renderTextToCanvas(e,t,r,n,i){const{canvas:s,context:a}=i,o=(0,T.Z)(t),l=v.P.measureText(e||" ",t),u=l.lines,d=l.lineHeight,h=l.lineWidths,c=l.maxLineWidth,f=l.fontProperties,g=s.height;if(a.resetTransform(),a.scale(n,n),a.textBaseline=t.textBaseline,t._stroke?.width){const e=t._stroke;a.lineWidth=e.width,a.miterLimit=e.miterLimit,a.lineJoin=e.join,a.lineCap=e.cap}let m,x;a.font=o;const _=t.dropShadow?2:1;for(let e=0;e<_;++e){const s=t.dropShadow&&0===e,o=s?Math.ceil(Math.max(1,g)+2*r):0,_=o*n;if(s){a.fillStyle="black",a.strokeStyle="black";const e=t.dropShadow,r=e.color,i=e.alpha;a.shadowColor=p.Q.shared.setValue(r).setAlpha(i).toRgbaString();const s=e.blur*n,o=e.distance*n;a.shadowBlur=s,a.shadowOffsetX=Math.cos(e.angle)*o,a.shadowOffsetY=Math.sin(e.angle)*o+_}else{if(a.fillStyle=t._fill?(0,C.r)(t._fill,a,l,2*r):null,t._stroke?.width){const e=.5*t._stroke.width+2*r;a.strokeStyle=(0,C.r)(t._stroke,a,l,e)}a.shadowColor="black"}let y=(d-f.fontSize)/2;d-f.fontSize<0&&(y=0);const b=t._stroke?.width??0;for(let e=0;e<u.length;e++)m=b/2,x=b/2+e*d+f.ascent+y,"right"===t.align?m+=c-h[e]:"center"===t.align&&(m+=(c-h[e])/2),t._stroke?.width&&this._drawLetterSpacing(u[e],t,i,m+r,x+r-o,!0),void 0!==t._fill&&this._drawLetterSpacing(u[e],t,i,m+r,x+r-o)}}_drawLetterSpacing(e,t,r,n,i,s=!1){const{context:a}=r,o=t.letterSpacing;let l=!1;if(v.P.experimentalLetterSpacingSupported&&(v.P.experimentalLetterSpacing?(a.letterSpacing=`${o}px`,a.textLetterSpacing=`${o}px`,l=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px")),0===o||l)return void(s?a.strokeText(e,n,i):a.fillText(e,n,i));let u=n;const d=v.P.graphemeSegmenter(e);let h=a.measureText(e).width,c=0;for(let e=0;e<d.length;++e){const t=d[e];s?a.strokeText(t,u,i):a.fillText(t,u,i);let r="";for(let t=e+1;t<d.length;++t)r+=d[t];c=a.measureText(r).width,u+=h-c+o,h=c}}};class k{constructor(e){this._renderer=e}getTexture(e,t,r,n){"string"==typeof e&&((0,d.t6)("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),e={text:e,style:r,resolution:t}),e.style instanceof h.x||(e.style=new h.x(e.style)),e.textureStyle instanceof u.n||(e.textureStyle=new u.n(e.textureStyle)),"string"!=typeof e.text&&(e.text=e.text.toString());const{text:i,style:s,textureStyle:a}=e,o=e.resolution??this._renderer.resolution,{frame:l,canvasAndContext:p}=F.getCanvasAndContext({text:i,style:s,resolution:o}),f=(0,c.M)(p.canvas,l.width,l.height,o);if(a&&(f.source.style=a),s.trim&&(l.pad(s.padding),f.frame.copyFrom(l),f.frame.scale(1/o),f.updateUvs()),s.filters){const e=this._applyFilters(f,s.filters);return this.returnTexture(f),F.returnCanvasAndContext(p),e}return this._renderer.texture.initSource(f._source),F.returnCanvasAndContext(p),f}returnTexture(e){const t=e.source;t.resource=null,t.uploadMethodId="unknown",t.alphaMode="no-premultiply-alpha",l.W.returnTexture(e,!0)}renderTextToCanvas(){(0,d.t6)("8.10.0","CanvasTextSystem.renderTextToCanvas: no longer supported, use CanvasTextSystem.getTexture instead")}_applyFilters(e,t){const r=this._renderer.renderTarget.renderTarget,n=this._renderer.filter.generateFilteredTexture({texture:e,filters:t});return this._renderer.renderTarget.bind(r,!1),n}destroy(){this._renderer=null}}k.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"canvasText"},n.XO.add(k),n.XO.add(o)},2558:(e,t,r)=>{r.d(t,{M:()=>s});var n=r(2437);const i=new(r(9636).c);function s(e,t,r,s){const a=i;a.minX=0,a.minY=0,a.maxX=e.width/s|0,a.maxY=e.height/s|0;const o=n.W.getOptimalTexture(a.width,a.height,s,!1);return o.source.uploadMethodId="image",o.source.resource=e,o.source.alphaMode="premultiply-alpha-on-upload",o.frame.width=t/s,o.frame.height=r/s,o.source.emit("update",o.source),o.updateUvs(),o}},2289:(e,t,r)=>{r.d(t,{s:()=>i});var n=r(2048);function i(e,t){const{texture:r,bounds:i}=e,s=t._style._getFinalPadding();(0,n.y)(i,t._anchor,r);const a=t._anchor._x*s*2,o=t._anchor._y*s*2;i.minX-=s-a,i.minY-=s-o,i.maxX-=s-a,i.maxY-=s-o}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg1LmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiMkhBR0EsTUFBTUEsRUFNSixXQUFPQyxDQUFLQyxHQUNWQyxPQUFPQyxlQUNMQyxLQUNBLFdBQ0EsQ0FDRSxHQUFBQyxDQUFJQyxHQUNGQyxXQUFXQyxvQkFBb0IsU0FBVUosS0FBS0ssYUFDOUNMLEtBQUtNLFVBQVlKLEVBQ2JBLElBQ0ZDLFdBQVdJLGlCQUFpQixTQUFVUCxLQUFLSyxhQUMzQ0wsS0FBS1EsU0FFVCxFQUNBLEdBQUFDLEdBQ0UsT0FBT1QsS0FBS00sU0FDZCxJQUdKTixLQUFLSyxZQUFjLEtBQ1pMLEtBQUtNLFlBR1ZOLEtBQUtVLGdCQUNMVixLQUFLVyxVQUFZQyx1QkFBc0IsSUFBTVosS0FBS1EsV0FBUyxFQUU3RFIsS0FBS1UsY0FBZ0IsS0FDZlYsS0FBS1csWUFDUEUscUJBQXFCYixLQUFLVyxXQUMxQlgsS0FBS1csVUFBWSxLQUNuQixFQUVGWCxLQUFLUSxPQUFTLEtBQ1osSUFBS1IsS0FBS00sVUFDUixPQUdGLElBQUlRLEVBQ0FDLEVBQ0osR0FIQWYsS0FBS1UsZ0JBR0RWLEtBQUtNLFlBQWNILFdBQVdhLE9BQ2hDRixFQUFRWCxXQUFXYyxXQUNuQkYsRUFBU1osV0FBV2UsZ0JBQ2YsQ0FDTCxNQUFNLFlBQUVDLEVBQVcsYUFBRUMsR0FBaUJwQixLQUFLTSxVQUMzQ1EsRUFBUUssRUFDUkosRUFBU0ssQ0FDWCxDQUNBcEIsS0FBS3FCLFNBQVNiLE9BQU9NLEVBQU9DLEdBQzVCZixLQUFLc0IsUUFBUSxFQUVmdEIsS0FBS1csVUFBWSxLQUNqQlgsS0FBS00sVUFBWSxLQUNqQk4sS0FBS3VCLFNBQVcxQixFQUFRMEIsVUFBWSxJQUN0QyxDQUtBLGNBQU9DLEdBQ0xyQixXQUFXQyxvQkFBb0IsU0FBVUosS0FBS0ssYUFDOUNMLEtBQUtVLGdCQUNMVixLQUFLVSxjQUFnQixLQUNyQlYsS0FBS0ssWUFBYyxLQUNuQkwsS0FBS3VCLFNBQVcsS0FDaEJ2QixLQUFLUSxPQUFTLElBQ2hCLEVBR0ZiLEVBQWE4QixVQUFZLEtBQWNDLFksd0JDdkV2QyxNQUFNQyxFQU1KLFdBQU8vQixDQUFLQyxHQUNWQSxFQUFVQyxPQUFPOEIsT0FBTyxDQUN0QkMsV0FBVyxFQUNYQyxjQUFjLEdBQ2JqQyxHQUNIQyxPQUFPQyxlQUNMQyxLQUNBLFNBQ0EsQ0FDRSxHQUFBQyxDQUFJOEIsR0FDRS9CLEtBQUtnQyxTQUNQaEMsS0FBS2dDLFFBQVFDLE9BQU9qQyxLQUFLc0IsT0FBUXRCLE1BRW5DQSxLQUFLZ0MsUUFBVUQsRUFDWEEsR0FDRkEsRUFBT0csSUFBSWxDLEtBQUtzQixPQUFRdEIsS0FBTSxJQUFnQm1DLElBRWxELEVBQ0EsR0FBQTFCLEdBQ0UsT0FBT1QsS0FBS2dDLE9BQ2QsSUFHSmhDLEtBQUtvQyxLQUFPLEtBQ1ZwQyxLQUFLZ0MsUUFBUUksTUFBTSxFQUVyQnBDLEtBQUtxQyxNQUFRLEtBQ1hyQyxLQUFLZ0MsUUFBUUssT0FBTyxFQUV0QnJDLEtBQUtnQyxRQUFVLEtBQ2ZoQyxLQUFLK0IsT0FBU2xDLEVBQVFpQyxhQUFlUSxFQUFBLEVBQU9DLE9BQVMsSUFBSUQsRUFBQSxFQUNyRHpDLEVBQVFnQyxXQUNWN0IsS0FBS3FDLE9BRVQsQ0FLQSxjQUFPYixHQUNMLEdBQUl4QixLQUFLZ0MsUUFBUyxDQUNoQixNQUFNUSxFQUFZeEMsS0FBS2dDLFFBQ3ZCaEMsS0FBSytCLE9BQVMsS0FDZFMsRUFBVWhCLFNBQ1osQ0FDRixFQUdGRyxFQUFhRixVQUFZLEtBQWNDLFlDdER2QyxLQUFXUSxJQUFJdkMsR0FDZixLQUFXdUMsSUFBSVAsRSwrQkNIZixNQUFNYyxFQUNKLFdBQUFDLENBQVlyQixHQUNWckIsS0FBSzJDLFVBQVl0QixDQUNuQixDQUNBLElBQUF1QixDQUFLQyxFQUFjQyxFQUFXQyxHQUNSL0MsS0FBSzJDLFVBQVVLLFlBQ3ZCQyxNQUFNQyxNQUFNSCxHQUN4QkEsRUFBZWIsSUFBSSxDQUNqQmlCLGFBQWMsU0FDZEMsV0FBVyxFQUNYQyxPQUFRLGFBQ1JQLFlBQ0FELGdCQUVKLENBQ0EsR0FBQVMsQ0FBSUMsRUFBZUMsRUFBWVQsR0FDN0IvQyxLQUFLMkMsVUFBVUssWUFBWUMsTUFBTUMsTUFBTUgsR0FDdkNBLEVBQWViLElBQUksQ0FDakJpQixhQUFjLFNBQ2RFLE9BQVEsWUFDUkQsV0FBVyxHQUVmLENBQ0EsT0FBQUssQ0FBUUMsR0FDcUIsZUFBdkJBLEVBQVlMLE9BQ2RyRCxLQUFLMkMsVUFBVWdCLE9BQU9mLEtBQUtjLEdBQ0ssY0FBdkJBLEVBQVlMLFFBQ3JCckQsS0FBSzJDLFVBQVVnQixPQUFPTCxLQUUxQixDQUNBLE9BQUE5QixHQUNFeEIsS0FBSzJDLFVBQVksSUFDbkIsRUFFRkYsRUFBV2hCLFVBQVksQ0FDckJtQyxLQUFNLENBQ0osS0FBY0MsV0FDZCxLQUFjQyxZQUNkLEtBQWNDLGFBRWhCQyxLQUFNLFUsNkZDOUJSLE1BQU1DLEVBQWUsSUFBSUMsRUFBQSxFQUFTLENBQ2hDQyxXQUFZLENBQ1ZDLFVBQVcsQ0FDVEMsT0FBUSxJQUFJQyxhQUFhLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUMvQ0MsT0FBUSxZQUNSQyxPQUFRLEVBQ1JDLE9BQVEsSUFHWkMsWUFBYSxJQUFJQyxZQUFZLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLE1BRS9DLE1BQU1DLEVBQ0osV0FBQWxDLEdBS0UxQyxLQUFLNkUsTUFBTyxFQUtaN0UsS0FBSzhFLGFBQWUsS0FLcEI5RSxLQUFLK0UsWUFBYyxLQUtuQi9FLEtBQUtnRixRQUFVLEtBS2ZoRixLQUFLaUYsT0FBUyxJQUFJQyxFQUFBLEVBS2xCbEYsS0FBSzhDLFVBQVksS0FLakI5QyxLQUFLbUYsZUFBZ0IsRUFLckJuRixLQUFLb0Ysb0JBQXNCLEtBSzNCcEYsS0FBS3FGLFlBQWMsQ0FBRUMsRUFBRyxFQUFHQyxFQUFHLEVBQUd6RSxNQUFPLEVBQUdDLE9BQVEsRUFDckQsRUFFRixNQUFNeUUsRUFDSixXQUFBOUMsQ0FBWXJCLEdBQ1ZyQixLQUFLeUYsa0JBQW9CLEVBQ3pCekYsS0FBSzBGLGFBQWUsR0FDcEIxRixLQUFLMkYsc0JBQXdCLElBQUlDLEVBQUEsRUFBYSxDQUM1Q0MsV0FBWSxDQUFFQyxNQUFPLElBQUl4QixhQUFhLEdBQUlWLEtBQU0sYUFDaERtQyxZQUFhLENBQUVELE1BQU8sSUFBSXhCLGFBQWEsR0FBSVYsS0FBTSxhQUNqRG9DLFlBQWEsQ0FBRUYsTUFBTyxJQUFJeEIsYUFBYSxHQUFJVixLQUFNLGFBQ2pEcUMsYUFBYyxDQUFFSCxNQUFPLElBQUl4QixhQUFhLEdBQUlWLEtBQU0sYUFDbERzQyxhQUFjLENBQUVKLE1BQU8sSUFBSXhCLGFBQWEsR0FBSVYsS0FBTSxhQUNsRHVDLGVBQWdCLENBQUVMLE1BQU8sSUFBSXhCLGFBQWEsR0FBSVYsS0FBTSxlQUV0RDVELEtBQUtvRyx1QkFBeUIsSUFBSUMsRUFBQSxFQUFVLENBQUMsR0FDN0NyRyxLQUFLcUIsU0FBV0EsQ0FDbEIsQ0FLQSxxQkFBSWlGLEdBQ0YsT0FBT3RHLEtBQUt1RyxtQkFBbUJ4QixXQUNqQyxDQU1BLElBQUFuQyxDQUFLYyxHQUNILE1BQU1yQyxFQUFXckIsS0FBS3FCLFNBQ2hCMkQsRUFBVXRCLEVBQVliLGFBQWFtQyxRQUNuQ3dCLEVBQWF4RyxLQUFLeUcsa0JBQ3hCRCxFQUFXM0IsTUFBTyxFQUNsQjJCLEVBQVd4QixRQUFVQSxFQUNyQndCLEVBQVcxRCxVQUFZWSxFQUFZWixVQUNuQzBELEVBQVdwQixvQkFBc0IvRCxFQUFTcUYsYUFBYUMsY0FDdkQsTUFBTUMsRUFBcUJ2RixFQUFTcUYsYUFBYUEsYUFBYUcsYUFBYUMsT0FDckVDLEVBQWlCSCxFQUFtQkksV0FDcENDLEVBQWdCTCxFQUFtQk0sVUFDekMsR0FBdUIsSUFBbkJsQyxFQUFRbUMsT0FFVixZQURBWCxFQUFXM0IsTUFBTyxHQUdwQixNQUFNSSxFQUFTdUIsRUFBV3ZCLE9BRzFCLEdBRkFqRixLQUFLb0gscUJBQXFCMUQsRUFBYXVCLEdBQ3ZDakYsS0FBS3FILHVCQUF1QmIsRUFBWW5GLEVBQVNxRixhQUFhWSxhQUFjTCxFQUFlRixFQUFnQixHQUN2R1AsRUFBVzNCLEtBQ2IsT0FFRixNQUFNMEMsRUFBcUJ2SCxLQUFLd0gseUJBQzFCQyxFQUFtQnpILEtBQUswSCxzQkFBc0JYLEdBQ3BELElBQUlZLEVBQVUsRUFDVkMsRUFBVSxFQUNWTCxJQUNGSSxFQUFVSixFQUFtQnRDLE9BQU80QyxLQUNwQ0QsRUFBVUwsRUFBbUJ0QyxPQUFPNkMsTUFFdEM5SCxLQUFLK0gsc0JBQ0h2QixFQUNBbUIsRUFDQUMsRUFDQUgsRUFDQWIsRUFBbUI5RixNQUNuQjhGLEVBQW1CN0YsUUFFckJmLEtBQUtnSSxxQkFBcUJ4QixFQUFZdkIsRUFBUTVELEVBQVVrRyxFQUMxRCxDQTRCQSx1QkFBQVUsRUFBd0IsUUFBRUMsRUFBTyxRQUFFbEQsSUFDakMsTUFBTXdCLEVBQWF4RyxLQUFLeUcsa0JBQ3hCekcsS0FBS3VHLGtCQUFvQkMsRUFDekJBLEVBQVczQixNQUFPLEVBQ2xCMkIsRUFBV3hCLFFBQVVBLEVBQ3JCLE1BQU00QixFQUFxQnNCLEVBQVFwQixPQUM3QkMsRUFBaUJILEVBQW1CSSxXQUNwQ0MsRUFBZ0JMLEVBQW1CTSxVQUN6QyxHQUF1QixJQUFuQmxDLEVBQVFtQyxPQUVWLE9BREFYLEVBQVczQixNQUFPLEVBQ1hxRCxFQUVULE1BQU1qRCxFQUFTdUIsRUFBV3ZCLE9BRzFCLEdBRkFBLEVBQU9rRCxRQUFRRCxFQUFRRSxPQUN2QnBJLEtBQUtxSCx1QkFBdUJiLEVBQVl2QixFQUFPb0QsVUFBV3BCLEVBQWVGLEVBQWdCLEdBQ3JGUCxFQUFXM0IsS0FDYixPQUFPcUQsRUFFVCxNQUFNVCxFQUFtQlYsRUFHekIvRyxLQUFLK0gsc0JBQ0h2QixFQUhjLEVBQ0EsRUFLZGlCLEVBQ0FiLEVBQW1COUYsTUFDbkI4RixFQUFtQjdGLFFBRXJCeUYsRUFBV3BCLG9CQUFzQmtELEVBQUEsRUFBWUMsa0JBQzNDdEQsRUFBT25FLE1BQ1BtRSxFQUFPbEUsT0FDUHlGLEVBQVdRLFdBQ1hSLEVBQVdVLFdBRWJWLEVBQVd6QixZQUFjeUQsRUFBQSxFQUFRQyxNQUNqQ2pDLEVBQVcxQixhQUFlb0QsRUFDVGxJLEtBQUtxQixTQUNicUYsYUFBYWdDLG1CQUN0QjFJLEtBQUsySSx1QkFBdUJuQyxHQUFZLEdBQ3hDLE1BQU1vQyxFQUFnQnBDLEVBQVdwQixvQkFFakMsT0FEQXdELEVBQWM5QixPQUFPK0IsVUFBWSxzQkFDMUJELENBQ1QsQ0FFQSxHQUFBdEYsR0FDRSxNQUFNakMsRUFBV3JCLEtBQUtxQixTQUNoQm1GLEVBQWF4RyxLQUFLOEksaUJBQ3BCdEMsRUFBVzNCLE9BR2Z4RCxFQUFTMEgsZUFBZXpGLE1BQ3hCakMsRUFBU3FGLGFBQWFnQyxtQkFDdEIxSSxLQUFLdUcsa0JBQW9CQyxFQUN6QnhHLEtBQUsySSx1QkFBdUJuQyxHQUFZLEdBQ3BDQSxFQUFXckIsZUFDYm1ELEVBQUEsRUFBWVUsY0FBY3hDLEVBQVd6QixhQUV2Q3VELEVBQUEsRUFBWVUsY0FBY3hDLEVBQVcxQixjQUN2QyxDQU9BLGNBQUFtRSxDQUFlQyxFQUFtQmpFLEVBQVFrRSxHQUN4QyxNQUFNQyxFQUF1QkYsRUFBa0JyQyxhQUFhQyxPQUFPdUMsWUFDN0R0RSxFQUFjdUQsRUFBQSxFQUFZQyxrQkFDOUJ0RCxFQUFPbkUsTUFDUG1FLEVBQU9sRSxPQUNQcUksR0FDQSxHQUVGLElBQUk5RCxFQUFJTCxFQUFPNEMsS0FDWHRDLEVBQUlOLEVBQU82QyxLQUNYcUIsSUFDRjdELEdBQUs2RCxFQUFldEIsS0FDcEJ0QyxHQUFLNEQsRUFBZXJCLE1BRXRCeEMsRUFBSWdFLEtBQUtDLE1BQU1qRSxFQUFJOEQsR0FDbkI3RCxFQUFJK0QsS0FBS0MsTUFBTWhFLEVBQUk2RCxHQUNuQixNQUFNdEksRUFBUXdJLEtBQUtFLEtBQUt2RSxFQUFPbkUsTUFBUXNJLEdBQ2pDckksRUFBU3VJLEtBQUtFLEtBQUt2RSxFQUFPbEUsT0FBU3FJLEdBUXpDLE9BUEFwSixLQUFLcUIsU0FBU3FGLGFBQWErQyxjQUN6QlAsRUFDQW5FLEVBQ0EsQ0FBRU8sSUFBR0MsS0FDTCxDQUFFekUsUUFBT0MsVUFDVCxDQUFFdUUsRUFBRyxFQUFHQyxFQUFHLElBRU5SLENBQ1QsQ0FRQSxXQUFBMkUsQ0FBWS9GLEVBQVFnRyxFQUFPQyxFQUFRQyxHQUNqQyxNQUFNeEksRUFBV3JCLEtBQUtxQixTQUNoQm1GLEVBQWF4RyxLQUFLdUcsa0JBRWxCdUQsRUFEc0J0RCxFQUFXcEIsc0JBQ093RSxFQUN4QzdDLEVBQWlCMUYsRUFBU3FGLGFBQWFxRCxpQkFBaUJsRCxhQUFhQyxPQUFPdUMsWUFDNUVyQyxFQUFhaEgsS0FBSzBILHNCQUFzQlgsR0FDOUMsSUFBSVksRUFBVSxFQUNWQyxFQUFVLEVBQ2QsR0FBSWtDLEVBQWUsQ0FDakIsTUFBTXJGLEVBQVN6RSxLQUFLZ0ssNEJBQ3BCckMsRUFBVWxELEVBQU9hLEVBQ2pCc0MsRUFBVW5ELEVBQU9jLENBQ25CLENBQ0F2RixLQUFLaUssc0JBQXNCTixFQUFPQyxFQUFRcEQsRUFBWW1CLEVBQVNDLEVBQVNaLEVBQVk4QyxFQUFlRCxHQUNuRzdKLEtBQUtrSywwQkFBMEJ2RyxFQUFRZ0csRUFBT3RJLEVBQ2hELENBU0EscUJBQUE4SSxDQUFzQkMsRUFBY0MsR0FDbEMsTUFBTUMsRUFBT3RLLEtBQUt1RyxrQkFDWmdFLEVBQWVILEVBQWFuSyxJQUNoQ3FLLEVBQUt4RixhQUFhMEYsUUFBUTFKLE1BQzFCLEVBQ0EsRUFDQXdKLEVBQUt4RixhQUFhMEYsUUFBUXpKLE9BQzFCdUosRUFBS3JGLE9BQU80QyxLQUNaeUMsRUFBS3JGLE9BQU82QyxNQUVSMkMsRUFBaUJKLEVBQU9JLGVBQWVDLE9BQU9DLEVBQUEsRUFBT3BJLFFBQ3JEcUksRUFBY1AsRUFBT08sYUFBZVAsRUFBT1Esa0JBV2pELE9BVklELEdBQWVBLEVBQVlFLHVCQUM3QkwsRUFBZU0sUUFBUUgsRUFBWUUsdUJBRXJDTCxFQUFlTyxTQUNmVCxFQUFhUSxRQUFRTixHQUNyQkYsRUFBYVUsTUFDWCxFQUFJWixFQUFPbkMsUUFBUWdELEtBQUtwSyxNQUN4QixFQUFJdUosRUFBT25DLFFBQVFnRCxLQUFLbkssUUFFMUJ3SixFQUFhWSxVQUFVZCxFQUFPZSxPQUFPOUYsRUFBRytFLEVBQU9lLE9BQU83RixHQUMvQ2dGLENBQ1QsQ0FDQSxPQUFBL0ksR0FDQSxDQU9BLHlCQUFBMEksQ0FBMEJ2RyxFQUFRZ0csRUFBT3RJLEdBQ3ZDLEdBQUlBLEVBQVMyQixZQUFZcUksYUFBYyxDQUNyQyxNQUFNQyxFQUFnQmpLLEVBQVMyQixZQUFZcUksYUFBYUUsZUFBZXZMLEtBQUsyRix1QkFDNUUzRixLQUFLb0csdUJBQXVCb0YsWUFBWUYsRUFBZSxFQUN6RCxNQUNFdEwsS0FBS29HLHVCQUF1Qm9GLFlBQVl4TCxLQUFLMkYsc0JBQXVCLEdBRXRFM0YsS0FBS29HLHVCQUF1Qm9GLFlBQVk3QixFQUFNN0MsT0FBUSxHQUN0RDlHLEtBQUtvRyx1QkFBdUJvRixZQUFZN0IsRUFBTTdDLE9BQU8yRSxNQUFPLEdBQzVEOUgsRUFBTytILE9BQU8sR0FBSzFMLEtBQUtvRyx1QkFDeEIvRSxFQUFTc0ssUUFBUUMsS0FBSyxDQUNwQkMsU0FBVTVILEVBQ1Y2SCxPQUFRbkksRUFDUm9JLE1BQU9wSSxFQUFPcUksT0FDZEMsU0FBVSxrQkFFUjVLLEVBQVN1QyxPQUFTLElBQWFzSSxPQUNqQzdLLEVBQVNxRixhQUFhZ0Msa0JBRTFCLENBUUEsb0JBQUFWLENBQXFCeEIsRUFBWXZCLEVBQVE1RCxFQUFVa0csR0FFakQsR0FEQWYsRUFBV3pCLFlBQWN5RCxFQUFBLEVBQVFDLE1BQzdCakMsRUFBV3JCLGNBQWUsQ0FDNUI5RCxFQUFTcUYsYUFBYWdDLG1CQUN0QixNQUFNaEMsRUFBZXJGLEVBQVNxRixhQUFheUYsZ0JBQWdCM0YsRUFBV3BCLHFCQUN0RW9CLEVBQVd6QixZQUFjL0UsS0FBS2lKLGVBQWV2QyxFQUFjekIsRUFBUXNDLEdBQW9CdEMsT0FDekYsQ0FDQXVCLEVBQVcxQixhQUFld0QsRUFBQSxFQUFZQyxrQkFDcEN0RCxFQUFPbkUsTUFDUG1FLEVBQU9sRSxPQUNQeUYsRUFBV1EsV0FDWFIsRUFBV1UsV0FFYjdGLEVBQVNxRixhQUFhMEYsS0FBSzVGLEVBQVcxQixjQUFjLEdBQ3BEekQsRUFBUzBILGVBQWVuRyxLQUFLLENBQzNCNkIsT0FBUVEsR0FFWixDQVVBLHFCQUFBOEMsQ0FBc0J2QixFQUFZbUIsRUFBU0MsRUFBU0gsRUFBa0I0RSxFQUFhQyxHQUNqRixNQUFNakgsRUFBY21CLEVBQVduQixZQUMvQkEsRUFBWUMsRUFBSXFDLEVBQVVGLEVBQzFCcEMsRUFBWUUsRUFBSXFDLEVBQVVILEVBQzFCcEMsRUFBWXZFLE1BQVF1TCxFQUFjNUUsRUFDbENwQyxFQUFZdEUsT0FBU3VMLEVBQWU3RSxDQUN0QyxDQVlBLHFCQUFBd0MsQ0FBc0JOLEVBQU9DLEVBQVFwRCxFQUFZbUIsRUFBU0MsRUFBU1osRUFBWThDLEVBQWVELEdBQzVGLE1BQU0wQyxFQUFXdk0sS0FBSzJGLHNCQUFzQjRHLFNBQ3RDQyxFQUFjRCxFQUFTdEcsYUFDdkJ3RyxFQUFZRixFQUFTMUcsV0FDckI2RyxFQUFhSCxFQUFTeEcsWUFDdEI0RyxFQUFhSixFQUFTdkcsWUFDdEJYLEVBQWNrSCxFQUFTckcsYUFDdkIwQyxFQUFnQjJELEVBQVNwRyxlQUMzQjJELEdBQ0YwQyxFQUFZLEdBQUtoRyxFQUFXdkIsT0FBTzRDLEtBQU9GLEVBQzFDNkUsRUFBWSxHQUFLaEcsRUFBV3ZCLE9BQU82QyxLQUFPRixJQUUxQzRFLEVBQVksR0FBSyxFQUNqQkEsRUFBWSxHQUFLLEdBRW5CQSxFQUFZLEdBQUs3QyxFQUFNdkIsTUFBTXRILE1BQzdCMEwsRUFBWSxHQUFLN0MsRUFBTXZCLE1BQU1ySCxPQUM3QjBMLEVBQVUsR0FBSzlDLEVBQU03QyxPQUFPaEcsTUFDNUIyTCxFQUFVLEdBQUs5QyxFQUFNN0MsT0FBTy9GLE9BQzVCMEwsRUFBVSxHQUFLLEVBQUlBLEVBQVUsR0FDN0JBLEVBQVUsR0FBSyxFQUFJQSxFQUFVLEdBQzdCQyxFQUFXLEdBQUsvQyxFQUFNN0MsT0FBTzhGLFdBQzdCRixFQUFXLEdBQUsvQyxFQUFNN0MsT0FBTytGLFlBQzdCSCxFQUFXLEdBQUssRUFBSUEsRUFBVyxHQUMvQkEsRUFBVyxHQUFLLEVBQUlBLEVBQVcsR0FDL0JDLEVBQVcsR0FBSyxHQUFNRCxFQUFXLEdBQ2pDQyxFQUFXLEdBQUssR0FBTUQsRUFBVyxHQUNqQ0MsRUFBVyxHQUFLaEQsRUFBTXZCLE1BQU10SCxNQUFRMkwsRUFBVSxHQUFLLEdBQU1DLEVBQVcsR0FDcEVDLEVBQVcsR0FBS2hELEVBQU12QixNQUFNckgsT0FBUzBMLEVBQVUsR0FBSyxHQUFNQyxFQUFXLEdBQ3JFLE1BQU1JLEVBQWM5TSxLQUFLcUIsU0FBU3FGLGFBQWFxRCxpQkFBaUJsRCxhQUNoRXhCLEVBQVksR0FBS3NDLEVBQVVYLEVBQzNCM0IsRUFBWSxHQUFLdUMsRUFBVVosRUFDM0IzQixFQUFZLEdBQUt5SCxFQUFZaEcsT0FBT2hHLE1BQVFrRyxFQUM1QzNCLEVBQVksR0FBS3lILEVBQVloRyxPQUFPL0YsT0FBU2lHLEVBQ3pDNEMsYUFBa0JwQixFQUFBLElBQ3BCb0IsRUFBTzlDLE9BQU9pRyxTQUFXLE1BQzNCLE1BQU1yRyxFQUFlMUcsS0FBS3FCLFNBQVNxRixhQUFheUYsZ0JBQWdCdkMsR0FDaEU1SixLQUFLcUIsU0FBU3FGLGFBQWEwRixLQUFLeEMsSUFBVUMsR0FDdENELGFBQWtCcEIsRUFBQSxHQUNwQkksRUFBYyxHQUFLZ0IsRUFBT3hCLE1BQU10SCxNQUNoQzhILEVBQWMsR0FBS2dCLEVBQU94QixNQUFNckgsU0FFaEM2SCxFQUFjLEdBQUtsQyxFQUFhNUYsTUFDaEM4SCxFQUFjLEdBQUtsQyxFQUFhM0YsUUFFbEM2SCxFQUFjLEdBQUtsQyxFQUFhc0csUUFBVSxFQUFJLEVBQzlDaE4sS0FBSzJGLHNCQUFzQnNILFFBQzdCLENBTUEscUJBQUF2RixDQUFzQlgsR0FDcEIsSUFBSW1HLEVBQWVsTixLQUFLeUYsa0JBQW9CLEVBQzVDLEtBQU95SCxFQUFlLEdBQUtsTixLQUFLMEYsYUFBYXdILEdBQWNySSxRQUN2RHFJLEVBRUosT0FBT0EsRUFBZSxHQUFLbE4sS0FBSzBGLGFBQWF3SCxHQUFjcEksYUFBZTlFLEtBQUswRixhQUFhd0gsR0FBY3BJLGFBQWFnQyxPQUFPdUMsWUFBY3RDLENBQzlJLENBS0EseUJBQUFpRCxHQUNFLElBQUlyQyxFQUFVLEVBQ1ZDLEVBQVUsRUFDVnVGLEVBQVluTixLQUFLeUYsa0JBQ3JCLEtBQU8wSCxFQUFZLEdBQUcsQ0FDcEJBLElBQ0EsTUFBTUMsRUFBaUJwTixLQUFLMEYsYUFBYXlILEdBQ3pDLElBQUtDLEVBQWV2SSxLQUFNLENBQ3hCOEMsRUFBVXlGLEVBQWVuSSxPQUFPNEMsS0FDaENELEVBQVV3RixFQUFlbkksT0FBTzZDLEtBQ2hDLEtBQ0YsQ0FDRixDQUNBLE1BQU8sQ0FBRXhDLEVBQUdxQyxFQUFTcEMsRUFBR3FDLEVBQzFCLENBTUEsb0JBQUFSLENBQXFCMUQsRUFBYXVCLEdBVWhDLEdBVEl2QixFQUFZMkosWUMvZHBCLFNBQW1DQSxFQUFhcEksR0FDOUNBLEVBQU80RSxRQUNQLE1BQU15RCxFQUFhckksRUFBT3NJLE9BQzFCLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJSCxFQUFZbEcsT0FBUXFHLElBQUssQ0FDM0MsTUFBTUMsRUFBYUosRUFBWUcsR0FDM0JDLEVBQVdDLG9CQUFzQixJQUdyQ3pJLEVBQU9zSSxPQUFTRSxFQUFXaEQsZUFDM0J4RixFQUFPMEksVUFBVUYsRUFBV3hJLFFBQzlCLENBQ0FBLEVBQU9zSSxPQUFTRCxDQUVsQixDRG1kTU0sQ0FBMEJsSyxFQUFZMkosWUFBYXBJLEdBQzFDdkIsRUFBWWIsYUFBYWdMLFlBQ2xDNUksRUFBTzRFLFFBQ1A1RSxFQUFPa0QsUUFBUXpFLEVBQVliLGFBQWFnTCxZQUN4QzVJLEVBQU82SSxZQUFZcEssRUFBWVosVUFBVTJILGlCQUV6Qy9HLEVBQVlaLFVBQVVpTCxxQkFBb0IsRUFBTTlJLEdBRTlDdkIsRUFBWVosVUFBVyxDQUN6QixNQUNNa0wsR0FEY3RLLEVBQVlaLFVBQVU4SCxhQUFlbEgsRUFBWVosVUFBVStILG1CQUN0Q0Msc0JBQ3JDa0QsR0FDRi9JLEVBQU82SSxZQUFZRSxFQUV2QixDQUNGLENBQ0Esc0JBQUFyRixDQUF1Qm5DLEVBQVlxRCxHQUNqQyxNQUFNL0UsRUFBZTBCLEVBQVcxQixhQUMxQkcsRUFBU3VCLEVBQVd2QixPQUNwQkQsRUFBVXdCLEVBQVd4QixRQUczQixHQUZBaEYsS0FBS29HLHVCQUF1Qm9GLFlBQVkxRyxFQUFhZ0MsT0FBTzJFLE1BQU8sR0FDbkV6TCxLQUFLb0csdUJBQXVCb0YsWUFBWWhGLEVBQVd6QixZQUFZK0IsT0FBUSxHQUNoRCxJQUFuQjlCLEVBQVFtQyxPQUNWbkMsRUFBUSxHQUFHaUosTUFBTWpPLEtBQU04RSxFQUFjMEIsRUFBV3BCLG9CQUFxQnlFLE9BQ2hFLENBQ0wsSUFBSXFFLEVBQU8xSCxFQUFXMUIsYUFDdEIsTUFBTXFKLEVBQWM3RixFQUFBLEVBQVlDLGtCQUM5QnRELEVBQU9uRSxNQUNQbUUsRUFBT2xFLE9BQ1BtTixFQUFLcEgsT0FBT3VDLGFBQ1osR0FFRixJQUFJK0UsRUFBT0QsRUFDUFgsRUFBSSxFQUNSLElBQUtBLEVBQUksRUFBR0EsRUFBSXhJLEVBQVFtQyxPQUFTLElBQUtxRyxFQUFHLENBQ3hCeEksRUFBUXdJLEdBQ2hCUyxNQUFNak8sS0FBTWtPLEVBQU1FLEdBQU0sR0FDL0IsTUFBTUMsRUFBSUgsRUFDVkEsRUFBT0UsRUFDUEEsRUFBT0MsQ0FDVCxDQUNBckosRUFBUXdJLEdBQUdTLE1BQU1qTyxLQUFNa08sRUFBTTFILEVBQVdwQixvQkFBcUJ5RSxHQUM3RHZCLEVBQUEsRUFBWVUsY0FBY21GLEVBQzVCLENBQ0YsQ0FDQSxzQkFBQTlHLENBQXVCYixFQUFZOEgsRUFBVXJILEVBQWVGLEVBQWdCd0gsR0FDMUUsTUFBTWxOLEVBQVdyQixLQUFLcUIsU0FDaEI0RCxFQUFTdUIsRUFBV3ZCLE9BQ3BCRCxFQUFVd0IsRUFBV3hCLFFBQzNCLElBQUlnQyxFQUFhd0gsSUFDYkMsRUFBVSxFQUNWdkgsR0FBWSxFQUNaL0IsR0FBZ0IsRUFDaEJ1SixHQUFVLEVBQ1ZDLEdBQWlCLEVBQ3JCLElBQUssSUFBSW5CLEVBQUksRUFBR0EsRUFBSXhJLEVBQVFtQyxPQUFRcUcsSUFBSyxDQUN2QyxNQUFNN0osRUFBU3FCLEVBQVF3SSxHQVl2QixHQVhBeEcsRUFBYXNDLEtBQUtzRixJQUFJNUgsRUFBa0MsWUFBdEJyRCxFQUFPcUQsV0FBMkJELEVBQWlCcEQsRUFBT3FELFlBQzVGeUgsR0FBVzlLLEVBQU84SyxRQUNPLFFBQXJCOUssRUFBT3VELFVBQ1RBLEdBQVksRUFDa0IsWUFBckJ2RCxFQUFPdUQsV0FDaEJBLElBQWNBLEVBQVlELEdBRXZCdEQsRUFBT2dMLGlCQUNWQSxHQUFpQixLQUVLaEwsRUFBT2tMLG9CQUFzQnhOLEVBQVN1QyxNQUMzQyxDQUNqQjhLLEdBQVUsRUFDVixLQUNGLENBQ0EsR0FBSS9LLEVBQU93QixpQkFBbUI5RCxFQUFTeU4sWUFBWUMsZUFBaUIsR0FBTyxFQUN6RSxFQUFBQyxFQUFBLEdBQUssd0hBQ0xOLEdBQVUsRUFDVixLQUNGLENBQ0FBLEVBQVUvSyxFQUFPK0ssU0FBV0EsRUFDNUJ2SixJQUFrQkEsRUFBZ0J4QixFQUFPd0IsY0FDM0MsQ0FDS3VKLEdBSURDLEdBQ0YxSixFQUFPZ0ssVUFBVSxFQUFHWCxFQUFTeE4sTUFBUWlHLEVBQWdCLEVBQUd1SCxFQUFTdk4sT0FBU2dHLEdBRTVFOUIsRUFBT2dHLE1BQU1qRSxHQUFZd0MsT0FBT3lCLE1BQU0sRUFBSWpFLEdBQVlrSSxLQUFlLEVBQVZULEdBQWVGLEdBQ3JFdEosRUFBT2tLLFlBSVozSSxFQUFXVSxVQUFZQSxFQUN2QlYsRUFBV1EsV0FBYUEsRUFDeEJSLEVBQVdyQixjQUFnQkEsR0FMekJxQixFQUFXM0IsTUFBTyxHQVJsQjJCLEVBQVczQixNQUFPLENBY3RCLENBQ0EsY0FBQWlFLEdBRUUsT0FEQTlJLEtBQUt5RixvQkFDRXpGLEtBQUswRixhQUFhMUYsS0FBS3lGLGtCQUNoQyxDQUNBLHNCQUFBK0IsR0FDRSxJQUFJRCxFQUNBNkgsRUFBUXBQLEtBQUt5RixrQkFBb0IsRUFDckMsS0FBTzJKLEVBQVEsSUFDYkEsSUFDQTdILEVBQXFCdkgsS0FBSzBGLGFBQWEwSixHQUNsQzdILEVBQW1CMUMsUUFJMUIsT0FBTzBDLENBQ1QsQ0FDQSxlQUFBZCxHQUNFLElBQUlELEVBQWF4RyxLQUFLMEYsYUFBYTFGLEtBQUt5RixtQkFLeEMsT0FKS2UsSUFDSEEsRUFBYXhHLEtBQUswRixhQUFhMUYsS0FBS3lGLG1CQUFxQixJQUFJYixHQUUvRDVFLEtBQUt5RixvQkFDRWUsQ0FDVCxFQUdGaEIsRUFBYS9ELFVBQVksQ0FDdkJtQyxLQUFNLENBQ0osS0FBY3lMLFlBQ2QsS0FBY0MsY0FFaEJ0TCxLQUFNLFVFM2xCUixLQUFXOUIsSUFBSXNELEdBQ2YsS0FBV3RELElBQUlPLEUscURDTGYsTUFBTThNLEVBQWtCLENBQ3RCdkwsS0FBTSxvQkFDTndMLE9BQVEsQ0FDTkMsT0FFRSxrUUFXRkMsS0FFRSxzSEFLRkMsSUFFRSxnTUFTQUMsRUFBd0IsSUFDekJMLEVBQ0hDLE9BQVEsSUFDSEQsRUFBZ0JDLE9BRW5CQyxPQUFRRixFQUFnQkMsT0FBT0MsT0FBT0ksUUFBUSxXQUFZLGNBR3hEQyxFQUFvQixDQUN4QjlMLEtBQU0sb0JBQ053TCxPQUFRLENBQ05DLE9BRUUsZ0lBT0ZDLEtBRUUseUZBS0ZDLElBRUUsc0osa0NDL0ROLE1BQU1JLEVBQWUsQ0FDbkJDLE9BQVEsRUFDUjlOLElBQUssRUFDTCtOLFNBQVUsRUFDVkMsT0FBUSxFQUNSQyxRQUFTLEVBQ1RDLE1BQU8sRUFDUCxhQUFjLEVBQ2QsVUFBVyxFQUNYLGFBQWMsRUFDZHhCLElBQUssRUFDTHlCLElBQUssSUFRREMsRUFBUyxNQUFNQSxFQUNuQixXQUFBNU4sR0FDRTFDLEtBQUtzSyxLQUFPLEVBQ1p0SyxLQUFLdVEsVUFBWSxTQUNqQnZRLEtBQUt3USxjQUFnQixFQUNyQnhRLEtBQUt5USxPQUFRLEVBQ2J6USxLQUFLMFEsV0FBWSxDQUNuQixDQUtBLFNBQUlELEdBQ0YsU0FBc0IsRUFBWnpRLEtBQUtzSyxLQUNqQixDQUNBLFNBQUltRyxDQUFNM0ssTUFDVyxFQUFaOUYsS0FBS3NLLFFBQXVCeEUsSUFDakM5RixLQUFLc0ssTUFBUSxFQUVqQixDQUtBLFdBQUlxRyxHQUNGLFNBQXNCLEVBQVozUSxLQUFLc0ssS0FDakIsQ0FDQSxXQUFJcUcsQ0FBUTdLLE1BQ1MsRUFBWjlGLEtBQUtzSyxRQUF3QnhFLElBQ2xDOUYsS0FBS3NLLE1BQVEsRUFFakIsQ0FFQSxZQUFJc0csQ0FBUzlLLEdBQ0csU0FBVkEsR0FJSjlGLEtBQUs2USxTQUFVLEVBQ2Y3USxLQUFLOFEsbUJBQStCLFVBQVZoTCxHQUp4QjlGLEtBQUs2USxTQUFVLENBS25CLENBQ0EsWUFBSUQsR0FDRixPQUFLNVEsS0FBSzZRLFFBR0g3USxLQUFLOFEsbUJBQXFCLFFBQVUsT0FGbEMsTUFHWCxDQUtBLFdBQUlELEdBQ0YsU0FBc0IsRUFBWjdRLEtBQUtzSyxLQUNqQixDQUNBLFdBQUl1RyxDQUFRL0ssTUFDUyxFQUFaOUYsS0FBS3NLLFFBQXlCeEUsSUFDbkM5RixLQUFLc0ssTUFBUSxFQUVqQixDQUtBLGFBQUl5RyxHQUNGLFNBQXNCLEVBQVovUSxLQUFLc0ssS0FDakIsQ0FDQSxhQUFJeUcsQ0FBVWpMLE1BQ08sRUFBWjlGLEtBQUtzSyxRQUE0QnhFLElBQ3RDOUYsS0FBS3NLLE1BQVEsRUFFakIsQ0FLQSxhQUFJb0csR0FDRixTQUFzQixHQUFaMVEsS0FBS3NLLEtBQ2pCLENBQ0EsYUFBSW9HLENBQVU1SyxNQUNPLEdBQVo5RixLQUFLc0ssUUFBNEJ4RSxJQUN0QzlGLEtBQUtzSyxNQUFRLEdBRWpCLENBS0Esc0JBQUl3RyxHQUNGLFNBQXNCLEdBQVo5USxLQUFLc0ssS0FDakIsQ0FDQSxzQkFBSXdHLENBQW1CaEwsTUFDRixHQUFaOUYsS0FBS3NLLFFBQXlCeEUsSUFDbkM5RixLQUFLc0ssTUFBUSxHQUVqQixDQU1BLGFBQUlpRyxHQUNGLE9BQU92USxLQUFLZ1IsVUFDZCxDQUNBLGFBQUlULENBQVV6SyxHQUNaOUYsS0FBS3lRLE1BQWtCLFNBQVYzSyxFQUNiOUYsS0FBS2dSLFdBQWFsTCxFQUNsQjlGLEtBQUtpUixhQUFlbEIsRUFBYWpLLElBQVUsQ0FDN0MsQ0FLQSxpQkFBSTBLLEdBQ0YsT0FBT3hRLEtBQUtrUixjQUNkLENBQ0EsaUJBQUlWLENBQWMxSyxHQUNoQjlGLEtBQUsyUSxVQUFZN0ssRUFDakI5RixLQUFLa1IsZUFBaUJwTCxDQUN4QixDQUNBLFFBQUFxTCxHQUNFLE1BQU8saUNBQWlDblIsS0FBS3VRLGdDQUFnQ3ZRLEtBQUs4USw4QkFBOEI5USxLQUFLNlEscUJBQXFCN1EsS0FBSzBRLDJCQUEyQjFRLEtBQUt3USxnQkFDakwsQ0FLQSxZQUFPWSxHQUNMLE1BQU1yRixFQUFRLElBQUl1RSxFQUdsQixPQUZBdkUsRUFBTWdGLFdBQVksRUFDbEJoRixFQUFNMEUsT0FBUSxFQUNQMUUsQ0FDVCxHQUVGdUUsRUFBT2UsVUFBWWYsRUFBT2MsUUFDMUIsSUFBSUUsRUFBUWhCLEMsMERDOUZaLE1BQU1pQixFQUFhLElBeERuQixNQUNFLFdBQUE3TyxDQUFZOE8sR0FDVnhSLEtBQUt5UixZQUE4QjNSLE9BQU80UixPQUFPLE1BQ2pEMVIsS0FBS3dSLGNBQWdCQSxHQUFpQixDQUFDLEVBQ3ZDeFIsS0FBSzJSLGtCQUFtQixDQUMxQixDQU1BLHVCQUFBQyxDQUF3QmhGLEVBQVlDLEdBQ2xDLE1BQU1nRixFQUFTLElBQVdwUixNQUFNcVIsZUFDaENELEVBQU8vUSxNQUFROEwsRUFDZmlGLEVBQU85USxPQUFTOEwsRUFDaEIsTUFBTWtGLEVBQVVGLEVBQU9HLFdBQVcsTUFDbEMsTUFBTyxDQUFFSCxTQUFRRSxVQUNuQixDQVFBLDBCQUFBRSxDQUEyQkMsRUFBVUMsRUFBV25MLEVBQWEsR0FDM0RrTCxFQUFXNUksS0FBS0UsS0FBSzBJLEVBQVdsTCxFQUFhLE1BQzdDbUwsRUFBWTdJLEtBQUtFLEtBQUsySSxFQUFZbkwsRUFBYSxNQUcvQyxNQUFNb0wsSUFGTkYsR0FBVyxRQUFTQSxLQUVLLE1BRHpCQyxHQUFZLFFBQVNBLEtBQ3dCLEdBQ3hDblMsS0FBS3lSLFlBQVlXLEtBQ3BCcFMsS0FBS3lSLFlBQVlXLEdBQU8sSUFFMUIsSUFBSUMsRUFBbUJyUyxLQUFLeVIsWUFBWVcsR0FBSzlPLE1BSTdDLE9BSEsrTyxJQUNIQSxFQUFtQnJTLEtBQUs0Uix3QkFBd0JNLEVBQVVDLElBRXJERSxDQUNULENBS0Esc0JBQUFDLENBQXVCRCxHQUNyQixNQUFNUixFQUFTUSxFQUFpQlIsUUFDMUIsTUFBRS9RLEVBQUssT0FBRUMsR0FBVzhRLEVBQ3BCTyxHQUFPdFIsR0FBUyxLQUFPQyxHQUFVLEdBQ3ZDc1IsRUFBaUJOLFFBQVFRLGlCQUN6QkYsRUFBaUJOLFFBQVFTLFVBQVUsRUFBRyxFQUFHMVIsRUFBT0MsR0FDaERmLEtBQUt5UixZQUFZVyxHQUFLeFAsS0FBS3lQLEVBQzdCLENBQ0EsS0FBQXhJLEdBQ0U3SixLQUFLeVIsWUFBYyxDQUFDLENBQ3RCLEUsaUJDbkRGLFNBQVNnQixFQUFvQkMsRUFBTUMsRUFBS2xPLEdBQ3RDLE1BQU1tTyxHQUFTRixHQUFRLEdBQUssS0FBTyxJQUNuQ0MsRUFBSWxPLE1BQW9CLElBQVBpTyxHQUFjLElBQU1FLEVBQ3JDRCxFQUFJbE8sTUFBYWlPLEdBQVEsRUFBSSxLQUFPLElBQU1FLEVBQzFDRCxFQUFJbE8sTUFBYWlPLEdBQVEsR0FBSyxLQUFPLElBQU1FLEVBQzNDRCxFQUFJbE8sS0FBWW1PLENBQ2xCLEMsaUdDTkEsTUFBTUMsRUFDSixXQUFBblEsR0FDRTFDLEtBQUs4UyxRQUFVLEdBQ2Y5UyxLQUFLK1MsU0FBVSxDQUNqQixDQUNBLE9BQUF2UixHQUNFeEIsS0FBSzhTLFFBQVFFLFNBQVMvUCxJQUNwQixJQUFRZ1EsT0FBT2hRLEVBQU0sSUFFdkJqRCxLQUFLOFMsUUFBUTNMLE9BQVMsQ0FDeEIsRUFFRixNQUFNK0wsRUFDSixXQUFBeFEsQ0FBWXJCLEVBQVU4UixHQUNwQm5ULEtBQUsrTCxNQUFRdUYsRUFBQSxFQUFNRixRQUNuQnBSLEtBQUtxQixTQUFXQSxFQUNoQnJCLEtBQUtvVCxTQUFXRCxFQUNoQm5ULEtBQUtxQixTQUFTZ1MsUUFBUUMsY0FBY3BSLElBQUlsQyxLQUMxQyxDQUNBLGFBQUFzVCxHQUNFdFQsS0FBS29ULFNBQVNFLGNBQWN0VCxLQUFLcUIsU0FDbkMsQ0FDQSxrQkFBQWtTLENBQW1CQyxHQUNqQixNQUFNekIsRUFBVXlCLEVBQVN6QixRQUNuQjBCLElBQWVELEVBQVNFLFNBQ3hCQyxFQUFhM1QsS0FBS3FCLFNBQVN1UyxnQkFBZ0JDLGlCQUFpQjlCLEdBQ2xFLFNBQUk0QixFQUFXRyxhQUFlTCxJQUFlRSxFQUFXRyxZQUkxRCxDQUNBLGFBQUFDLENBQWNQLEVBQVV6USxHQUN0QixNQUFNNFEsRUFBYTNULEtBQUtxQixTQUFTdVMsZ0JBQWdCQyxpQkFBaUJMLEVBQVN6QixTQUN2RXlCLEVBQVNRLGVBQ1hoVSxLQUFLaVUsU0FBU1QsR0FFWkcsRUFBV0csWUFDYjlULEtBQUtrVSxjQUFjVixFQUFVelEsSUFFN0IvQyxLQUFLcUIsU0FBUzJCLFlBQVlDLE1BQU1DLE1BQU1ILEdBQ3RDQSxFQUFlYixJQUFJc1IsR0FFdkIsQ0FDQSxnQkFBQVcsQ0FBaUJYLEdBQ2YsTUFDTVYsRUFEVTlTLEtBQUtvVSx5QkFBeUJaLEdBQ3RCVixRQUN4QixJQUFLLElBQUl0RixFQUFJLEVBQUdBLEVBQUlzRixFQUFRM0wsT0FBUXFHLElBQUssQ0FDdkMsTUFBTXZLLEVBQVE2UCxFQUFRdEYsR0FDdEJ2SyxFQUFNb1IsU0FBU0MsY0FBY3JSLEVBQy9CLENBQ0YsQ0FDQSxPQUFBUSxDQUFRK1AsR0FDTixJQUFLQSxFQUFTZSxhQUNaLE9BQ0YsTUFBTWxULEVBQVdyQixLQUFLcUIsU0FDaEIwUSxFQUFVeUIsRUFBU3pCLFFBRXpCLElBRHNCMVEsRUFBU3VTLGdCQUNaWSxjQUFjekMsR0FBU2UsUUFBUTNMLE9BQ2hELE9BRUYsTUFBTTJFLEVBQVNpRyxFQUFRMEMsY0FBZ0J6VSxLQUFLb1QsU0FBU3RILE9BQ3JEOUwsS0FBSytMLE1BQU13RSxVQUFZaUQsRUFBU2tCLGVBQ2hDLE1BQU1DLEVBQWdCN0ksRUFBTzhJLFVBQVVELGNBQWNwSSxTQUNyRG9JLEVBQWNFLGlCQUFtQnJCLEVBQVNzQixlQUMxQ0gsRUFBY0ksT0FBUzFULEVBQVMyVCxhQUFleEIsRUFBU3dCLGNBQ3hELE9BQ0V4QixFQUFTeUIsZ0JBQ1ROLEVBQWNPLE9BQ2QsR0FFRmxWLEtBQUtvVCxTQUFTM1AsUUFBUXpELEtBQU13VCxFQUM5QixDQUNBLFFBQUFTLENBQVNULEdBQ1AsTUFBTTJCLEVBQVVuVixLQUFLb1UseUJBQXlCWixHQUN4Q0csRUFBYTNULEtBQUtxQixTQUFTdVMsZ0JBQWdCQyxpQkFBaUJMLEVBQVN6QixTQUMzRW9ELEVBQVEzVCxVQUNKbVMsRUFBV0csYUFDYjlULEtBQUtvViw0QkFBNEI1QixFQUFVMkIsRUFFL0MsQ0FDQSxhQUFBakIsQ0FBY1YsRUFBVXpRLEdBQ3RCLE1BQU1zUyxFQUFZclYsS0FBS3FCLFNBQVMyQixZQUFZQyxNQUN0QzZQLEVBQVU5UyxLQUFLb1UseUJBQXlCWixHQUFVVixRQUN4RCxJQUFLLElBQUl0RixFQUFJLEVBQUdBLEVBQUlzRixFQUFRM0wsT0FBUXFHLElBQUssQ0FDdkMsTUFBTXZLLEVBQVE2UCxFQUFRdEYsR0FDdEI2SCxFQUFVQyxXQUFXclMsRUFBT0YsRUFDOUIsQ0FDRixDQUNBLHdCQUFBcVIsQ0FBeUJaLEdBQ3ZCLE9BQU9BLEVBQVNFLFNBQVMxVCxLQUFLcUIsU0FBU2tVLE1BQVF2VixLQUFLd1YsMEJBQTBCaEMsRUFDaEYsQ0FDQSx5QkFBQWdDLENBQTBCaEMsR0FDeEIsTUFBTTJCLEVBQVUsSUFBSXRDLEVBRXBCLE9BREFXLEVBQVNFLFNBQVMxVCxLQUFLcUIsU0FBU2tVLEtBQU9KLEVBQ2hDQSxDQUNULENBQ0EsMkJBQUFDLENBQTRCNUIsRUFBVTJCLEdBQ3BDLE1BQU1wRCxFQUFVeUIsRUFBU3pCLFFBQ25CNEIsRUFBYTNULEtBQUtxQixTQUFTdVMsZ0JBQWdCWSxjQUFjekMsR0FDekQwRCxFQUFjelYsS0FBS3FCLFNBQVMyVCxhQUFleEIsRUFBU3dCLGFBQzFERyxFQUFRckMsUUFBVWEsRUFBV2IsUUFBUTRDLEtBQUt6UyxJQUN4QyxNQUFNMFMsRUFBYSxJQUFRbFYsSUFBSW1WLEVBQUEsR0FJL0IsT0FIQTNTLEVBQU15SCxPQUFPaUwsR0FDYkEsRUFBV2xJLFdBQWErRixFQUN4Qm1DLEVBQVdGLFlBQWNBLEVBQ2xCRSxDQUFVLEdBRXJCLENBQ0EsT0FBQW5VLEdBQ0V4QixLQUFLcUIsU0FBVyxLQUNoQnJCLEtBQUtvVCxTQUFTNVIsVUFDZHhCLEtBQUtvVCxTQUFXLEtBQ2hCcFQsS0FBSytMLE1BQVEsSUFDZixFQUdGbUgsRUFBYXpSLFVBQVksQ0FDdkJtQyxLQUFNLENBQ0osS0FBY0MsV0FDZCxLQUFjQyxZQUNkLEtBQWNDLGFBRWhCQyxLQUFNLFlDNUhSLEtBQVc5QixJQUFJZ1IsR0FDZixLQUFXaFIsSUFBSTJULEVBQUEsRywyRkNHZixNQUFNQyxFQUNKLE9BQUF0VSxHQUNBLEVBRUYsTUFBTXVVLEVBQ0osV0FBQXJULENBQVlyQixFQUFVOFIsR0FDcEJuVCxLQUFLMlUsY0FBZ0IsSUFBSS9PLEVBQUEsRUFBYSxDQUNwQ2lQLGlCQUFrQixDQUFFL08sTUFBTyxJQUFJNkUsRUFBQSxFQUFVL0csS0FBTSxlQUMvQ3NSLE9BQVEsQ0FBRXBQLE1BQU8sSUFBSXhCLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxJQUFLVixLQUFNLGFBQ3ZEbVIsT0FBUSxDQUFFalAsTUFBTyxFQUFHbEMsS0FBTSxTQUU1QjVELEtBQUtnVyx1QkFBeUIsSUFBSTNQLEVBQUEsRUFBVSxDQUMxQyxFQUFHckcsS0FBSzJVLGdCQUVWM1UsS0FBS3FCLFNBQVdBLEVBQ2hCckIsS0FBS29ULFNBQVdELEVBQ2hCblQsS0FBS29ULFNBQVN4VCxNQUNoQixDQUNBLGtCQUFBMlQsQ0FBbUIwQyxHQUNqQixNQUFNQyxFQUFXbFcsS0FBS21XLGFBQWFGLEdBQzdCeEMsRUFBYXlDLEVBQVNuRCxRQUN0QnFELEVBQVlILEVBQUtsRCxRQUV2QixHQURBbUQsRUFBU25ELFFBQVVxRCxFQUNmM0MsSUFBZTJDLEVBQ2pCLE9BQU8sRUFDRixHQUFJQSxFQUFXLENBQ3BCLE1BQU12SyxFQUFXb0ssRUFBS0ksVUFDdEIsR0FBSXhLLEVBQVN5SyxRQUFRblAsU0FBVytPLEVBQVNLLFdBQWExSyxFQUFTMkssVUFBVXJQLFNBQVcrTyxFQUFTTyxXQUczRixPQUZBUCxFQUFTSyxVQUFZMUssRUFBU3lLLFFBQVFuUCxPQUN0QytPLEVBQVNPLFdBQWE1SyxFQUFTMkssVUFBVXJQLFFBQ2xDLEVBRVQsTUFBTXVQLEVBQWdCMVcsS0FBSzJXLGtCQUFrQlYsR0FJN0MsT0FISVMsRUFBY3hPLFFBQVFxTixNQUFRVSxFQUFLVyxTQUFTckIsTUFDOUNtQixFQUFjRyx3QkFBMEIsSUFFbENILEVBQWNyQyxTQUFTeUMsc0JBQzdCSixFQUNBVCxFQUFLVyxTQUVULENBQ0EsT0FBTyxDQUNULENBQ0EsYUFBQTdDLENBQWNrQyxFQUFNbFQsR0FDbEIsTUFBTWdVLEVBQVUvVyxLQUFLcUIsU0FBUzJCLFlBQVlDLE1BQ3BDaVQsRUFBV2xXLEtBQUttVyxhQUFhRixHQUtuQyxHQUpJQSxFQUFLakMsZ0JBQ1BrQyxFQUFTSyxVQUFZTixFQUFLSSxVQUFVQyxTQUFTblAsT0FDN0MrTyxFQUFTTyxXQUFhUixFQUFLSSxVQUFVRyxXQUFXclAsUUFFOUMrTyxFQUFTbkQsUUFBUyxDQUNwQixNQUFNaUUsRUFBbUJoWCxLQUFLMlcsa0JBQWtCVixHQUNoRGUsRUFBaUJDLFdBQVdoQixFQUFLVyxVQUNqQ0ksRUFBaUJuTCxTQUFXb0ssRUFBS0ksVUFDakNVLEVBQVF6QixXQUFXMEIsRUFBa0JqVSxFQUN2QyxNQUNFZ1UsRUFBUTdULE1BQU1ILEdBQ2RBLEVBQWViLElBQUkrVCxFQUV2QixDQUNBLGdCQUFBOUIsQ0FBaUI4QixHQUNmLEdBQUlBLEVBQUtsRCxRQUFTLENBQ2hCLE1BQU1pRSxFQUFtQmhYLEtBQUsyVyxrQkFBa0JWLEdBQ2hEZSxFQUFpQkMsV0FBV2hCLEVBQUtXLFVBQ2pDSSxFQUFpQm5MLFNBQVdvSyxFQUFLSSxVQUNqQ1csRUFBaUIzQyxTQUFTQyxjQUFjMEMsRUFDMUMsQ0FDRixDQUNBLE9BQUF2VCxDQUFRd1MsR0FDTixJQUFLQSxFQUFLMUIsYUFDUixPQUNGMEIsRUFBS2xLLE1BQU13RSxXQUFZLEVBQUEyRyxFQUFBLEdBQTBCakIsRUFBS3ZCLGVBQWdCdUIsRUFBSy9OLFFBQVFzQyxTQUNuRixNQUFNbUssRUFBZ0IzVSxLQUFLMlUsY0FDM0JBLEVBQWNwSSxTQUFTc0ksaUJBQW1Cb0IsRUFBS25CLGVBQy9DSCxFQUFjcEksU0FBU3dJLE9BQVMvVSxLQUFLcUIsU0FBUzJULGFBQWVpQixFQUFLakIsYUFDbEVMLEVBQWMxSCxVQUNkLE9BQ0VnSixFQUFLaEIsZ0JBQ0xOLEVBQWNwSSxTQUFTMkksT0FDdkIsR0FFRmxWLEtBQUtvVCxTQUFTM1AsUUFBUXpELEtBQU1pVyxFQUM5QixDQUNBLFlBQUFFLENBQWFGLEdBQ1gsSUFBSWtCLEVBQUlDLEVBRVIsT0FEQ0QsRUFBS2xCLEVBQUt2QyxVQUFVMEQsRUFBS3BYLEtBQUtxQixTQUFTa1UsT0FBUzRCLEVBQUdDLEdBQU0sSUFBSXRCLEdBQ3ZERyxFQUFLdkMsU0FBUzFULEtBQUtxQixTQUFTa1UsS0FBS1csVUFBWWxXLEtBQUtxWCxjQUFjcEIsRUFDekUsQ0FDQSxhQUFBb0IsQ0FBY3BCLEdBTVosT0FMQUEsRUFBS3ZDLFNBQVMxVCxLQUFLcUIsU0FBU2tVLEtBQUtXLFNBQVcsQ0FDMUNuRCxRQUFTa0QsRUFBS2xELFFBQ2R3RCxVQUFXLEVBQ1hFLFdBQVksR0FFUFIsRUFBS3ZDLFNBQVMxVCxLQUFLcUIsU0FBU2tVLEtBQUtXLFFBQzFDLENBQ0EsaUJBQUFTLENBQWtCVixHQUNoQixJQUFJa0IsRUFBSUMsRUFFUixPQURDRCxFQUFLbEIsRUFBS3ZDLFVBQVUwRCxFQUFLcFgsS0FBS3FCLFNBQVNrVSxPQUFTNEIsRUFBR0MsR0FBTSxJQUFJdEIsR0FDdkRHLEVBQUt2QyxTQUFTMVQsS0FBS3FCLFNBQVNrVSxLQUFLbUIsZUFBaUIxVyxLQUFLc1gsbUJBQW1CckIsRUFDbkYsQ0FDQSxrQkFBQXFCLENBQW1CckIsR0FDakIsTUFBTXNCLEVBQVUsSUFBSUMsRUFBQSxFQU1wQixPQUxBRCxFQUFROUosV0FBYXdJLEVBQ3JCc0IsRUFBUU4sV0FBV2hCLEVBQUtXLFVBQ3hCVyxFQUFRRSxVQUFZeEIsRUFBS25CLGVBQ3pCeUMsRUFBUTlCLFlBQWN6VixLQUFLcUIsU0FBUzJULGFBQWVpQixFQUFLakIsYUFDeERpQixFQUFLdkMsU0FBUzFULEtBQUtxQixTQUFTa1UsS0FBS21CLGNBQWdCYSxFQUMxQ0EsQ0FDVCxDQUNBLE9BQUEvVixHQUNFeEIsS0FBSzJVLGNBQWdCLEtBQ3JCM1UsS0FBS2dXLHVCQUF5QixLQUM5QmhXLEtBQUtvVCxTQUFTNVIsVUFDZHhCLEtBQUtvVCxTQUFXLEtBQ2hCcFQsS0FBS3FCLFNBQVcsSUFDbEIsRUFHRjBVLEVBQVN0VSxVQUFZLENBQ25CbUMsS0FBTSxDQUNKLEtBQWNDLFdBQ2QsS0FBY0MsWUFDZCxLQUFjQyxhQUVoQkMsS0FBTSxRQ2xJUixLQUFXOUIsSUFBSTZULEUsa0NDSGYsTUFBTXlCLEVBQ0osV0FBQTlVLEdBQ0UxQyxLQUFLMFgsWUFBYyxVQUNuQjFYLEtBQUsyWCxZQUFhLEVBQ2xCM1gsS0FBSzRYLFlBQWMsRUFDbkI1WCxLQUFLNlgsZ0JBQWtCLEVBQ3ZCN1gsS0FBS3lWLFlBQWMsRUFDbkJ6VixLQUFLcVUsU0FBVyxLQUNoQnJVLEtBQUs4WCxPQUFTLEtBQ2Q5WCxLQUFLNlcsd0JBQTBCLEVBQy9CN1csS0FBSytYLGFBQWUsQ0FDdEIsQ0FDQSxhQUFJeEgsR0FDRixPQUFPdlEsS0FBS3lOLFdBQVdpSCxjQUN6QixDQUNBLFlBQUl6SSxHQUNGLE9BQU9qTSxLQUFLZ1ksV0FBYWhZLEtBQUs2TCxTQUFTSSxRQUN6QyxDQUNBLFlBQUlBLENBQVNuRyxHQUNYOUYsS0FBS2dZLFVBQVlsUyxDQUNuQixDQUNBLEtBQUFtUyxHQUNFalksS0FBS3lOLFdBQWEsS0FDbEJ6TixLQUFLa0ksUUFBVSxLQUNmbEksS0FBS3FVLFNBQVcsS0FDaEJyVSxLQUFLOFgsT0FBUyxLQUNkOVgsS0FBSzZMLFNBQVcsS0FDaEI3TCxLQUFLK1gsYUFBZSxFQUNwQi9YLEtBQUs2Vyx3QkFBMEIsQ0FDakMsQ0FPQSxVQUFBSSxDQUFXblIsR0FDTDlGLEtBQUtrSSxVQUFZcEMsSUFFckI5RixLQUFLa0ksUUFBVXBDLEVBQ2Y5RixLQUFLNlcsd0JBQTBCLEVBQ2pDLENBQ0EsT0FBSXFCLEdBQ0YsTUFDTUMsRUFEV25ZLEtBQUs2TCxTQUNJdU0sVUFBVSxPQUM5QkYsRUFBTUMsRUFBUzdOLEtBQ3JCLElBQUkrTixFQUFpQkgsRUFDckIsTUFBTUksRUFBZ0J0WSxLQUFLa0ksUUFBUW9RLGNBWW5DLE9BWEtBLEVBQWNDLFdBQ2pCRixFQUFpQnJZLEtBQUt3WSxnQkFDbEJ4WSxLQUFLNlcseUJBQTJCeUIsRUFBY0csV0FBYXpZLEtBQUsrWCxjQUFnQkksRUFBU00sY0FDdEZKLEdBQWtCQSxFQUFlbFIsT0FBUytRLEVBQUkvUSxVQUNqRGtSLEVBQWlCclksS0FBS3dZLGdCQUFrQixJQUFJbFUsYUFBYTRULEVBQUkvUSxTQUUvRG5ILEtBQUs2Vyx1QkFBeUJ5QixFQUFjRyxVQUM1Q3pZLEtBQUsrWCxZQUFjSSxFQUFTTSxVQUM1QkgsRUFBY0ksWUFBWVIsRUFBS0csS0FHNUJBLENBQ1QsQ0FDQSxhQUFJN0IsR0FDRixPQUFPeFcsS0FBSzZMLFNBQVMySyxTQUN2QixDQUNBLFdBQUlGLEdBQ0YsT0FBT3RXLEtBQUs2TCxTQUFTeUssT0FDdkIsQ0FDQSxTQUFJcUMsR0FDRixPQUFPM1ksS0FBS3lOLFdBQVd3SCxlQUN6QixDQUNBLGtCQUFJSCxHQUNGLE9BQU85VSxLQUFLeU4sV0FBV3FILGNBQ3pCLENBQ0EsaUJBQUk4RCxHQUNGLE9BQU81WSxLQUFLNkwsU0FBUzJLLFVBQVVyUCxPQUFTLENBQzFDLENBQ0EsYUFBSW9QLEdBQ0YsT0FBT3ZXLEtBQUs2TCxTQUFTeUssUUFBUW5QLE1BQy9CLEUsK0JDOUVGLE1BQU0wUixFQUNKLE9BQUFwVixDQUFRcVYsRUFBdUJoVyxHQUM3QixNQUFNaUosRUFBUStNLEVBQXNCL00sTUFDOUIxSyxFQUFXeVgsRUFBc0J6WCxTQUNqQ3lLLEVBQVNoSixFQUFVZ0osUUFBVWdOLEVBQXNCQyxjQUN6RGpOLEVBQU84SSxVQUFVb0UsU0FBV2xXLEVBQVVvRixRQUFRc0MsUUFDOUNzQixFQUFPOEksVUFBVXJJLFNBQVd1TSxFQUFzQm5FLGNBQ2xELE1BQU1zRSxFQUFLNVgsRUFBUzRYLEdBQ2Q1VSxFQUFTeVUsRUFBc0JJLFdBQVdwVyxHQUNoRHpCLEVBQVN5SyxPQUFPTSxLQUFLTixHQUNyQnpLLEVBQVMwSyxNQUFNOUwsSUFBSThMLEdBQ25CMUssRUFBU3dLLFNBQVNPLEtBQUsvSCxFQUFPd0gsU0FBVUMsRUFBT3FOLFdBQy9DLE1BQ01DLEVBQXNCLElBRFgvVSxFQUFPd0gsU0FBU25ILFlBQVk0RixLQUFLK08sa0JBQ2xCSixFQUFHSyxlQUFpQkwsRUFBR00sYUFDdkROLEVBQUdPLGFBQWFQLEVBQUdRLFVBQStDLEVBQXBDM1csRUFBVTRXLGlCQUFpQnZTLE9BQVlpUyxFQUFRLEVBQy9FLEUsdUdDZkYsU0FBU08sRUFBc0JDLEVBQU1DLEVBQVksTUFDL0MsTUFBTUMsRUFBc0IsRUFBUEYsRUFNckIsR0FMSUUsRUFBZSxNQUNqQkQsSUFBY0EsRUFBWSxJQUFJbFYsWUFBWW1WLElBRTFDRCxJQUFjQSxFQUFZLElBQUlFLFlBQVlELElBRXhDRCxFQUFVMVMsU0FBVzJTLEVBQ3ZCLE1BQU0sSUFBSUUsTUFBTSx1Q0FBdUNILEVBQVUxUyx1QkFBdUIyUyxLQUUxRixJQUFLLElBQUl0TSxFQUFJLEVBQUd5TSxFQUFJLEVBQUd6TSxFQUFJc00sRUFBY3RNLEdBQUssRUFBR3lNLEdBQUssRUFDcERKLEVBQVVyTSxFQUFJLEdBQUt5TSxFQUFJLEVBQ3ZCSixFQUFVck0sRUFBSSxHQUFLeU0sRUFBSSxFQUN2QkosRUFBVXJNLEVBQUksR0FBS3lNLEVBQUksRUFDdkJKLEVBQVVyTSxFQUFJLEdBQUt5TSxFQUFJLEVBQ3ZCSixFQUFVck0sRUFBSSxHQUFLeU0sRUFBSSxFQUN2QkosRUFBVXJNLEVBQUksR0FBS3lNLEVBQUksRUFFekIsT0FBT0osQ0FDVCxDQ1hBLFNBQVNLLEVBQXVCQyxFQUFZQyxHQUMxQyxNQUFNQyxFQUFnQixHQUN0QkEsRUFBY3pYLEtBQUssc0lBU25CLElBQUk2QixFQUFTLEVBQ2IsSUFBSyxNQUFNK0ksS0FBSzJNLEVBQVksQ0FDMUIsTUFBTUcsRUFBV0gsRUFBVzNNLEdBQ3hCNE0sSUFBWUUsRUFBU0YsVUFFekJDLEVBQWN6WCxLQUFLLG9CQUFvQjZCLEtBQ3ZDNFYsRUFBY3pYLEtBQUswWCxFQUFTQyxNQUU1QjlWLElBRHNCLEVBQUErVixFQUFBLEdBQTJCRixFQUFTL1YsUUFDbENDLE9BQVMsRUFDbkMsQ0FDQTZWLEVBQWN6WCxLQUFLLHVEQUluQnlYLEVBQWNJLFFBQVEsMEJBQ0RoVyxZQUVyQixNQUFNaVcsRUFBaUJMLEVBQWNNLEtBQUssTUFDMUMsT0FBTyxJQUFJQyxTQUFTLEtBQU0sT0FBUSxPQUFRRixFQUM1QyxDQzlCQSxNQUFNRyxFQUNKLFdBQUFuWSxDQUFZN0MsR0FDVkcsS0FBSzhhLE1BQVEsRUFDYjlhLEtBQUsrYSw2QkFBK0IsQ0FBQyxFQUNyQyxNQUFNbkIsRUFBTzVaLEtBQUs4YSxNQUFRamIsRUFBUStaLE1BQVEsSUFDcENPLEVBQWF0YSxFQUFRc2EsV0FDM0IsSUFBSWEsRUFBbUIsRUFDbkJDLEVBQW9CLEVBQ3hCLElBQUssTUFBTXpOLEtBQUsyTSxFQUFZLENBQzFCLE1BQU1HLEVBQVdILEVBQVczTSxHQUN0QjBOLEdBQWdCLEVBQUFWLEVBQUEsR0FBMkJGLEVBQVMvVixRQUN0RCtWLEVBQVNGLFFBQ1hhLEdBQXFCQyxFQUFjMVcsT0FFbkN3VyxHQUFvQkUsRUFBYzFXLE1BRXRDLENBQ0F4RSxLQUFLbWIsZUFBaUJGLEVBQW9CLEVBQzFDamIsS0FBS29iLGNBQWdCSixFQUFtQixFQUN4Q2hiLEtBQUtxYixzQkFBd0IsSUFBSUMsRUFBQSxFQUFzQixFQUFQMUIsRUFBV29CLEdBQzNEaGIsS0FBS3ViLHVCQUF5QixJQUFJRCxFQUFBLEVBQXNCLEVBQVAxQixFQUFXcUIsR0FDNURqYixLQUFLMEUsWUFBY2lWLEVBQXNCQyxHQUN6QyxNQUFNL04sRUFBVyxJQUFJM0gsRUFBQSxFQUNyQixJQUFJc1gsRUFBZ0IsRUFDaEJDLEVBQWUsRUFDbkJ6YixLQUFLMGIsY0FBZ0IsSUFBSUMsRUFBQSxFQUFPLENBQzlCclIsS0FBTSxJQUFJaEcsYUFBYSxHQUN2QnNYLE1BQU8seUJBQ1BDLGFBQWEsRUFDYkMsTUFBTyxJQUFZQyxPQUFTLElBQVlDLFdBRTFDaGMsS0FBS2ljLGVBQWlCLElBQUlOLEVBQUEsRUFBTyxDQUMvQnJSLEtBQU0sSUFBSWhHLGFBQWEsR0FDdkJzWCxNQUFPLDBCQUNQQyxhQUFhLEVBQ2JDLE1BQU8sSUFBWUMsT0FBUyxJQUFZQyxXQUUxQyxJQUFLLE1BQU14TyxLQUFLMk0sRUFBWSxDQUMxQixNQUFNRyxFQUFXSCxFQUFXM00sR0FDdEIwTixHQUFnQixFQUFBVixFQUFBLEdBQTJCRixFQUFTL1YsUUFDdEQrVixFQUFTRixTQUNYdk8sRUFBU3FRLGFBQWE1QixFQUFTNkIsY0FBZSxDQUM1QzlYLE9BQVFyRSxLQUFLaWMsZUFDYnpYLE9BQThCLEVBQXRCeEUsS0FBS21iLGVBQ2IxVyxPQUF3QixFQUFoQitXLEVBQ1JqWCxPQUFRK1YsRUFBUy9WLFNBRW5CaVgsR0FBaUJOLEVBQWN0QixPQUUvQi9OLEVBQVNxUSxhQUFhNUIsRUFBUzZCLGNBQWUsQ0FDNUM5WCxPQUFRckUsS0FBSzBiLGNBQ2JsWCxPQUE2QixFQUFyQnhFLEtBQUtvYixjQUNiM1csT0FBdUIsRUFBZmdYLEVBQ1JsWCxPQUFRK1YsRUFBUy9WLFNBRW5Ca1gsR0FBZ0JQLEVBQWN0QixLQUVsQyxDQUNBL04sRUFBU3VRLFNBQVNwYyxLQUFLMEUsYUFDdkIsTUFBTTJYLEVBQWlCcmMsS0FBS3NjLGtCQUFrQm5DLEdBQzlDbmEsS0FBS3VjLGVBQWlCRixFQUFlRyxjQUNyQ3hjLEtBQUt5YyxjQUFnQkosRUFBZUssYUFDcEMxYyxLQUFLNkwsU0FBV0EsQ0FDbEIsQ0FDQSxpQkFBQXlRLENBQWtCbkMsR0FDaEIsTUFBTS9ILEVBOENWLFNBQTRCK0gsR0FDMUIsTUFBTXdDLEVBQVMsR0FDZixJQUFLLE1BQU12SyxLQUFPK0gsRUFBWSxDQUM1QixNQUFNRyxFQUFXSCxFQUFXL0gsR0FDNUJ1SyxFQUFPL1osS0FBS3dQLEVBQUtrSSxFQUFTQyxLQUFNRCxFQUFTRixRQUFVLElBQU0sSUFDM0QsQ0FDQSxPQUFPdUMsRUFBT2hDLEtBQUssSUFDckIsQ0FyRGdCaUMsQ0FBbUJ6QyxHQUMvQixPQUFJbmEsS0FBSythLDZCQUE2QjNJLEtBR3RDcFMsS0FBSythLDZCQUE2QjNJLEdBQU9wUyxLQUFLNmMsdUJBQXVCMUMsSUFGNURuYSxLQUFLK2EsNkJBQTZCM0ksRUFJN0MsQ0FDQSxzQkFBQXlLLENBQXVCMUMsR0FDckIsT0QvRUosU0FBd0NBLEdBQ3RDLE1BQU8sQ0FDTHFDLGNBQWV0QyxFQUF1QkMsR0FBWSxHQUNsRHVDLGFBQWN4QyxFQUF1QkMsR0FBWSxHQUVyRCxDQzBFVzJDLENBQStCM0MsRUFDeEMsQ0FDQSxNQUFBbE4sQ0FBTzhQLEVBQVdDLEdBQ1pELEVBQVU1VixPQUFTbkgsS0FBSzhhLFFBQzFCa0MsR0FBZSxFQUNmaGQsS0FBSzhhLE1BQVF4UixLQUFLK0csSUFBSTBNLEVBQVU1VixPQUFxQixJQUFibkgsS0FBSzhhLE1BQWMsR0FDM0Q5YSxLQUFLcWIsc0JBQXdCLElBQUlDLEVBQUEsRUFBZXRiLEtBQUs4YSxNQUFROWEsS0FBS29iLGNBQWdCLEVBQUksR0FDdEZwYixLQUFLdWIsdUJBQXlCLElBQUlELEVBQUEsRUFBZXRiLEtBQUs4YSxNQUFROWEsS0FBS21iLGVBQWlCLEVBQUksR0FDeEZuYixLQUFLMEUsWUFBY2lWLEVBQXNCM1osS0FBSzhhLE9BQzlDOWEsS0FBSzZMLFNBQVNuSCxZQUFZdVksZ0JBQ3hCamQsS0FBSzBFLFlBQ0wxRSxLQUFLMEUsWUFBWXdZLFlBQ2pCLElBR0osTUFBTTNCLEVBQXlCdmIsS0FBS3ViLHVCQU9wQyxHQU5BdmIsS0FBS3VjLGVBQWVRLEVBQVd4QixFQUF1QjRCLFlBQWE1QixFQUF1QjZCLFlBQzFGcGQsS0FBS2ljLGVBQWVnQixnQkFDbEJqZCxLQUFLdWIsdUJBQXVCNEIsWUFDNUJKLEVBQVU1VixPQUFTbkgsS0FBS21iLGVBQWlCLEdBQ3pDLEdBRUU2QixFQUFjLENBQ2hCLE1BQU0zQixFQUF3QnJiLEtBQUtxYixzQkFDbkNyYixLQUFLeWMsY0FBY00sRUFBVzFCLEVBQXNCOEIsWUFBYTlCLEVBQXNCK0IsWUFDdkZwZCxLQUFLMGIsY0FBY3VCLGdCQUNqQjVCLEVBQXNCOEIsWUFDdEJKLEVBQVU1VixPQUFTbkgsS0FBS29iLGNBQWdCLEdBQ3hDLEVBRUosQ0FDRixDQUNBLE9BQUE1WixHQUNFeEIsS0FBSzBiLGNBQWNsYSxVQUNuQnhCLEtBQUtpYyxlQUFlemEsVUFDcEJ4QixLQUFLNkwsU0FBU3JLLFNBQ2hCLEUsK0RDdEhFNmIsRUFBTyw4eUNDWVgsTUFBTUMsVUFBdUJDLEVBQUEsRUFDM0IsV0FBQTdhLEdBZUU4YSxNQUFNLENBQ0pyRSxVQWZnQnNFLEVBQUEsRUFBVUMsS0FBSyxDQUMvQmxPLE9DZk8sODlCRGdCUG1PLFNFaEJTLGtMRjhCVEMsV0FaaUJDLEVBQUEsRUFBV0gsS0FBSyxDQUNqQ0MsU0FBVSxDQUNSN1csT0FBUXVXLEVBQ1JTLFdBQVksZ0JBRWR0TyxPQUFRLENBQ04xSSxPQUFRdVcsRUFDUlMsV0FBWSxnQkFNZGxKLFVBQVcsQ0FFVG9FLFNBQVV4USxFQUFBLEVBQVF1VixNQUFNalgsT0FFeEJrWCxTQUFVLElBQUlDLEVBQUEsRUFBYSxDQUFDLEdBRTVCMVIsU0FBVSxDQUNSMlIsbUJBQW9CLENBQUVwWSxNQUFPLElBQUk2RSxFQUFBLEVBQVUvRyxLQUFNLGVBQ2pEc1IsT0FBUSxDQUFFcFAsTUFBTyxJQUFJcVksRUFBQSxFQUFNLFVBQVd2YSxLQUFNLGFBQzVDbVIsT0FBUSxDQUFFalAsTUFBTyxFQUFHbEMsS0FBTSxPQUMxQndhLFlBQWEsQ0FBRXRZLE1BQU8sQ0FBQyxFQUFHLEdBQUlsQyxLQUFNLGdCQUk1QyxFR3BDRixNQUFNeWEsRUFLSixXQUFBM2IsQ0FBWXJCLEVBQVU4UixHQUVwQm5ULEtBQUsrTCxNQUFRdUYsRUFBQSxFQUFNRixRQUVuQnBSLEtBQUsyVSxjQUFnQixJQUFJL08sRUFBQSxFQUFhLENBQ3BDc1ksbUJBQW9CLENBQUVwWSxNQUFPLElBQUk2RSxFQUFBLEVBQVUvRyxLQUFNLGVBQ2pEc1IsT0FBUSxDQUFFcFAsTUFBTyxJQUFJeEIsYUFBYSxHQUFJVixLQUFNLGFBQzVDbVIsT0FBUSxDQUFFalAsTUFBTyxFQUFHbEMsS0FBTSxPQUMxQndhLFlBQWEsQ0FBRXRZLE1BQU8sQ0FBQyxFQUFHLEdBQUlsQyxLQUFNLGVBRXRDNUQsS0FBS3FCLFNBQVdBLEVBQ2hCckIsS0FBS21ULFFBQVVBLEVBQ2ZuVCxLQUFLK1ksY0FBZ0IsSUFBSXVFLEVBQ3pCdGQsS0FBSytMLE1BQVF1RixFQUFBLEVBQU1GLE9BQ3JCLENBQ0Esa0JBQUFtQyxDQUFtQitLLEdBQ2pCLE9BQU8sQ0FDVCxDQUNBLGFBQUF2SyxDQUFjdEcsRUFBWTFLLEdBQ3hCL0MsS0FBS3FCLFNBQVMyQixZQUFZQyxNQUFNQyxNQUFNSCxHQUN0Q0EsRUFBZWIsSUFBSXVMLEVBQ3JCLENBQ0EsVUFBQXlMLENBQVd6TCxHQUNULE9BQU9BLEVBQVdpRyxTQUFTMVQsS0FBS3FCLFNBQVNrVSxNQUFRdlYsS0FBS3VlLFlBQVk5USxFQUNwRSxDQUNBLFdBQUE4USxDQUFZOVEsR0FLVixPQUpBQSxFQUFXaUcsU0FBUzFULEtBQUtxQixTQUFTa1UsS0FBTyxJQUFJc0YsRUFBZSxDQUMxRGpCLEtBQU1uTSxFQUFXaU0saUJBQWlCdlMsT0FDbENnVCxXQUFZMU0sRUFBVytRLGNBRWxCL1EsRUFBV2lHLFNBQVMxVCxLQUFLcUIsU0FBU2tVLElBQzNDLENBQ0EsZ0JBQUFwQixDQUFpQm1LLEdBQ2pCLENBQ0EsT0FBQTdhLENBQVFYLEdBQ04sTUFBTTJiLEVBQVczYixFQUFVNFcsaUJBQzNCLEdBQXdCLElBQXBCK0UsRUFBU3RYLE9BQ1gsT0FFRixNQUFNOUYsRUFBV3JCLEtBQUtxQixTQUNoQmdELEVBQVNyRSxLQUFLa1osV0FBV3BXLEdBQy9CQSxFQUFVb0YsVUFBWXBGLEVBQVVvRixRQUFVdVcsRUFBUyxHQUFHdlcsU0FDdEQsTUFBTTZELEVBQVEvTCxLQUFLK0wsTUFDbkIxSCxFQUFPNEksT0FBT3dSLEVBQVUzYixFQUFVNGIsZ0JBQ2xDNWIsRUFBVTRiLGdCQUFpQixFQUMzQjNTLEVBQU13RSxXQUFZLEVBQUEyRyxFQUFBLEdBQTBCcFUsRUFBVXlOLFVBQVd6TixFQUFVb0YsUUFBUXNDLFNBQ25GLE1BQU0rQixFQUFXdk0sS0FBSzJVLGNBQWNwSSxTQUM5Qm9TLEVBQXVCcFMsRUFBUzJSLG1CQUN0Q3BiLEVBQVUySCxlQUFlQyxPQUFPaVUsR0FDaENBLEVBQXFCNVQsUUFBUTFKLEVBQVMwSCxlQUFlNlYsa0JBQWtCQyxrQkFDdkV0UyxFQUFTNlIsWUFBYy9jLEVBQVMwSCxlQUFlNlYsa0JBQWtCNVgsV0FDakV1RixFQUFTd0ksT0FBUzFULEVBQVMyVCxhQUFlbFMsRUFBVWtTLGNBQ3BELE9BQ0VsUyxFQUFVbVMsZ0JBQ1YxSSxFQUFTMkksT0FDVCxHQUVGbFYsS0FBS21ULFFBQVExUCxRQUFRekQsS0FBTThDLEVBQzdCLENBRUEsT0FBQXRCLEdBQ014QixLQUFLK1ksZ0JBQ1AvWSxLQUFLK1ksY0FBY3ZYLFVBQ25CeEIsS0FBSytZLGNBQWdCLEtBRXpCLEVDMUVGLE1BQU0rRixVQUFnQ1QsRUFDcEMsV0FBQTNiLENBQVlyQixHQUNWbWMsTUFBTW5jLEVBQVUsSUFBSXdYLEVBQ3RCLEVBR0ZpRyxFQUF3QnJkLFVBQVksQ0FDbENtQyxLQUFNLENBQ0osS0FBY0MsWUFFaEJHLEtBQU0sWUNkUixNQUFNK2EsRUFDSixPQUFBdGIsQ0FBUXFWLEVBQXVCaFcsR0FDN0IsTUFBTXpCLEVBQVd5WCxFQUFzQnpYLFNBQ2pDeUssRUFBU2hKLEVBQVVnSixRQUFVZ04sRUFBc0JDLGNBQ3pEak4sRUFBT0osT0FBTyxHQUFLckssRUFBUzJCLFlBQVlxSSxhQUFhMlQsb0JBQW9CbEcsRUFBc0JuRSxlQUFlLEdBQzlHN0ksRUFBT0osT0FBTyxHQUFLckssRUFBUzZHLFFBQVErVyxvQkFBb0JuYyxFQUFVb0YsU0FDbEUsTUFBTTZELEVBQVErTSxFQUFzQi9NLE1BQzlCMUgsRUFBU3lVLEVBQXNCSSxXQUFXcFcsR0FDaER6QixFQUFTc0ssUUFBUUMsS0FBSyxDQUNwQkMsU0FBVXhILEVBQU93SCxTQUNqQkMsT0FBUWhKLEVBQVVnSixRQUFVZ04sRUFBc0JDLGNBQ2xEaE4sUUFDQTZOLEtBQTBDLEVBQXBDOVcsRUFBVTRXLGlCQUFpQnZTLFFBRXJDLEVDVkYsTUFBTStYLFVBQWlDYixFQUNyQyxXQUFBM2IsQ0FBWXJCLEdBQ1ZtYyxNQUFNbmMsRUFBVSxJQUFJMGQsRUFDdEIsRUFHRkcsRUFBeUJ6ZCxVQUFZLENBQ25DbUMsS0FBTSxDQUNKLEtBQWNFLGFBRWhCRSxLQUFNLFlDVlIsS0FBVzlCLElBQUk0YyxHQUNmLEtBQVc1YyxJQUFJZ2QsRSxrRENEZixNQUFNQyxVQUErQjNILEVBQUEsRUFDbkMsV0FBQTlVLEdBQ0U4YSxRQUNBeGQsS0FBSzZMLFNBQVcsSUFBSXVULEVBQUEsQ0FDdEIsQ0FDQSxPQUFBNWQsR0FDRXhCLEtBQUs2TCxTQUFTckssU0FDaEIsRUFFRixNQUFNNmQsRUFDSixXQUFBM2MsQ0FBWXJCLEdBQ1ZyQixLQUFLMkMsVUFBWXRCLENBQ25CLENBQ0EsYUFBQTBTLENBQWMxSixFQUFRdEgsR0FDcEIsTUFBTXVjLEVBQVl0ZixLQUFLdWYsY0FBY2xWLEdBQ2pDQSxFQUFPMkosZUFDVGhVLEtBQUt3Zix1QkFBdUJuVixFQUFRaVYsR0FDdEN0ZixLQUFLMkMsVUFBVUssWUFBWUMsTUFBTXFTLFdBQVdnSyxFQUFXdmMsRUFDekQsQ0FDQSxnQkFBQW9SLENBQWlCOUosR0FDZixNQUFNaVYsRUFBWXRmLEtBQUt1ZixjQUFjbFYsR0FDakNBLEVBQU8ySixlQUNUaFUsS0FBS3dmLHVCQUF1Qm5WLEVBQVFpVixHQUN0Q0EsRUFBVWpMLFNBQVNDLGNBQWNnTCxFQUNuQyxDQUNBLGtCQUFBL0wsQ0FBbUJsSixHQUNqQixNQUFNaVYsRUFBWXRmLEtBQUt1ZixjQUFjbFYsR0FDckMsT0FBUWlWLEVBQVVqTCxTQUFTeUMsc0JBQ3pCd0ksRUFDQWpWLEVBQU91TSxTQUVYLENBQ0Esc0JBQUE0SSxDQUF1Qm5WLEVBQVFvVixHQUM3QkEsRUFBZ0I1VCxTQUFTb0IsT0FBTzVDLEdBQ2hDb1YsRUFBZ0J4SSxXQUFXNU0sRUFBT3VNLFNBQ3BDLENBQ0EsYUFBQTJJLENBQWNsVixHQUNaLE9BQU9BLEVBQU9xSixTQUFTMVQsS0FBSzJDLFVBQVU0UyxNQUFRdlYsS0FBSzBmLGVBQWVyVixFQUNwRSxDQUNBLGNBQUFxVixDQUFlclYsR0FDYixNQUFNOEssRUFBVTlLLEVBQU9xSixTQUFTMVQsS0FBSzJDLFVBQVU0UyxLQUFPLElBQUk0SixFQUNwRHpJLEVBQWdCdkIsRUFRdEIsT0FQQXVCLEVBQWNqSixXQUFhcEQsRUFDM0JxTSxFQUFjZSxVQUFZcE4sRUFBT3lLLGVBQ2pDNEIsRUFBY3hPLFFBQVVtQyxFQUFPdU0sU0FDL0JGLEVBQWNqQixZQUFjelYsS0FBSzJDLFVBQVVxUyxhQUFlM0ssRUFBTzJLLGFBQzVEM0ssRUFBTzJKLGVBQ1ZoVSxLQUFLd2YsdUJBQXVCblYsRUFBUXFNLEdBRS9CdkIsQ0FDVCxDQUNBLE9BQUEzVCxHQUNFeEIsS0FBSzJDLFVBQVksSUFDbkIsRUFHRjBjLEVBQW9CNWQsVUFBWSxDQUM5Qm1DLEtBQU0sQ0FDSixLQUFjQyxXQUNkLEtBQWNDLFlBQ2QsS0FBY0MsYUFFaEJDLEtBQU0sbUJDL0RSLEtBQVc5QixJQUFJbWQsRSxpS0NIZixNQUFNTSxFQUFZLENBQ2hCM2IsS0FBTSxhQUNOd0wsT0FBUSxDQUNOQyxPQUVFLGdlQWNGQyxLQUVFLDZMQU9KaU8sU0FBVSxDQUNSbE8sT0FFRSxnZUFjRkMsS0FFRSxpaEJBbUJBa1EsRUFBYyxDQUNsQjViLEtBQU0sYUFDTndMLE9BQVEsQ0FDTkMsT0FFRSxtR0FNRkMsS0FFRSxpSkFPSmlPLFNBQVUsQ0FDUmxPLE9BRUUsMEtBT0ZDLEtBRUUsdVZDekZOLElBQUlrTyxFQUNBekUsRUFDSixNQUFNMEcsVUFBMkJ0QyxFQUFBLEVBQy9CLFdBQUE3YSxHQUNFa2IsSUFBZUEsR0FBYSxPQUE0QixDQUN0RDVaLEtBQU0sdUJBQ044YixLQUFNLENBQ0p2USxFQUFBLEdBQ0FvUSxFQUNBSSxFQUFBLE1BR0o1RyxJQUFjQSxHQUFZLE9BQTJCLENBQ25EblYsS0FBTSx1QkFDTjhiLEtBQU0sQ0FDSnZRLEVBQUEsR0FDQXFRLEVBQ0FHLEVBQUEsTUFHSixNQUFNQyxFQUFpQixJQUFJcGEsRUFBQSxFQUFhLENBQ3RDcWEsVUFBVyxDQUFFbmEsTUFBTyxJQUFJNkUsRUFBQSxFQUFVL0csS0FBTSxlQUN4Q3NjLFlBQWEsQ0FBRXBhLE1BQU8sSUFBSXhCLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxJQUFLVixLQUFNLGFBQzVEdWMsYUFBYyxDQUFFcmEsTUFBTyxJQUFJeEIsYUFBYSxDQUFDLEVBQUcsSUFBS1YsS0FBTSxhQUN2RHdjLGtCQUFtQixDQUFFdGEsTUFBTyxJQUFJNkUsRUFBQSxFQUFVL0csS0FBTSxlQUNoRHljLFlBQWEsQ0FBRXZhLE1BQU8sSUFBSXhCLGFBQWEsQ0FBQyxJQUFLLElBQUssR0FBSyxLQUFPVixLQUFNLGVBRXRFNFosTUFBTSxDQUNKckUsWUFDQXlFLGFBQ0FoSixVQUFXLENBQ1RELGNBQWUsSUFBSS9PLEVBQUEsRUFBYSxDQUM5QmlQLGlCQUFrQixDQUFFL08sTUFBTyxJQUFJNkUsRUFBQSxFQUFVL0csS0FBTSxlQUMvQ3NSLE9BQVEsQ0FBRXBQLE1BQU8sSUFBSXhCLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxJQUFLVixLQUFNLGFBQ3ZEbVIsT0FBUSxDQUFFalAsTUFBTyxFQUFHbEMsS0FBTSxTQUU1Qm9jLGlCQUNBaEgsU0FBVXhRLEVBQUEsRUFBUUMsTUFBTTNCLE9BQ3hCa1gsU0FBVXhWLEVBQUEsRUFBUUMsTUFBTTNCLE9BQU8yRSxRQUdyQyxDQUNBLGNBQUE2VSxDQUFleGYsRUFBT0MsRUFBUXdNLEVBQVFnVCxFQUFTQyxFQUFTdFksR0FDdEQsTUFBTThYLEVBQWlCaGdCLEtBQUs0VSxVQUFVb0wsZUFDaENTLEVBQWV2WSxFQUFRcEgsTUFDdkI0ZixFQUFnQnhZLEVBQVFuSCxPQUN4QnVYLEVBQWdCcFEsRUFBUW9RLGNBQ3hCOEgsRUFBb0JKLEVBQWV6VCxTQUFTNlQsa0JBQ2xEQSxFQUFrQm5nQixJQUNoQnNOLEVBQU9vVCxFQUFJRixFQUFlM2YsRUFDMUJ5TSxFQUFPcVQsRUFBSUgsRUFBZTFmLEVBQzFCd00sRUFBT3NULEVBQUlILEVBQWdCNWYsRUFDM0J5TSxFQUFPdVQsRUFBSUosRUFBZ0IzZixFQUMzQndNLEVBQU93VCxHQUFLamdCLEVBQ1p5TSxFQUFPeVQsR0FBS2pnQixHQUVkcWYsRUFBa0JwVixTQUNsQmdWLEVBQWV6VCxTQUFTMFQsVUFBWTNILEVBQWMySSxTQUNsRGpCLEVBQWV6VCxTQUFTMlQsWUFBYzVILEVBQWM0SCxZQUNwREYsRUFBZXpULFNBQVM0VCxhQUFlN0gsRUFBYzZILGFBQ3JESCxFQUFlelQsU0FBUzZULGtCQUFvQkEsRUFDNUNKLEVBQWV6VCxTQUFTOFQsWUFBWSxHQUFLdmYsRUFDekNrZixFQUFlelQsU0FBUzhULFlBQVksR0FBS3RmLEVBQ3pDaWYsRUFBZXpULFNBQVM4VCxZQUFZLEdBQUtFLEVBQ3pDUCxFQUFlelQsU0FBUzhULFlBQVksR0FBS0csRUFDckN0WSxJQUNGbEksS0FBSzRVLFVBQVVvRSxTQUFXOVEsRUFBUXBCLE9BQ2xDOUcsS0FBSzRVLFVBQVVvSixTQUFXOVYsRUFBUXBCLE9BQU8yRSxNQUU3QyxFQzVFRixNQUFNeVYsVUFBcUJDLEVBQUEsRUFDekIsV0FBQXplLEdBQ0U4YSxNQUFNLENBQ0poSCxVQUFXLElBQUlsUyxhQUFhLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUNsRDRULElBQUssSUFBSTVULGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQzVDZ1MsUUFBUyxJQUFJM1IsWUFBWSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxLQUU3QyxFQ0dGLE1BQU15YyxFQUFhLElBQUlGLEVBQ3ZCLE1BQU1HLEVBQ0osV0FBQTNlLEdBQ0UxQyxLQUFLc2hCLFVBQVcsRUFDaEJ0aEIsS0FBSzZMLFNBQVcsSUFBSXNWLEVBQUEsRUFBYSxDQUMvQjdLLFFBQVM4SyxFQUFXOUssUUFBUWlMLFFBQzVCL0ssVUFBVzRLLEVBQVc1SyxVQUFVK0ssUUFDaENySixJQUFLa0osRUFBV2xKLElBQUlxSixTQUV4QixDQUNBLE9BQUEvZixHQUNFeEIsS0FBSzZMLFNBQVNySyxVQUNkeEIsS0FBSzhMLFFBQVF0SyxTQUNmLEVBRUYsTUFBTWdnQixFQUNKLFdBQUE5ZSxDQUFZckIsR0FDVnJCLEtBQUtnTSxPQUFTc0YsRUFBQSxFQUFNRCxVQUNwQnJSLEtBQUsyQyxVQUFZdEIsQ0FDbkIsQ0FDQSxrQkFBQWtTLENBQW1COUYsR0FDakIsTUFBTWdVLEVBQW1CemhCLEtBQUswaEIscUJBQXFCalUsR0FDN0NrVSxFQUFhRixFQUFpQkgsU0FDcEN0aEIsS0FBSzRoQixnQkFBZ0JuVSxHQUNyQixNQUFNNlQsRUFBV0csRUFBaUJILFNBQ2xDLEdBQUlBLEdBQVlBLElBQWFLLEVBQVksQ0FDdkMsTUFBTSxjQUFFakwsR0FBa0IrSyxFQUMxQixPQUFRL0ssRUFBY3JDLFNBQVN5QyxzQkFDN0JKLEVBQ0FqSixFQUFXdkYsUUFFZixDQUNBLE9BQU95WixJQUFlTCxDQUN4QixDQUNBLGFBQUF2TixDQUFjOE4sRUFBYzllLEdBQzFCLE1BQU1nVSxFQUFVL1csS0FBSzJDLFVBQVVLLFlBQVlDLE1BQzNDakQsS0FBSzRoQixnQkFBZ0JDLEdBQ3JCLE1BQU1KLEVBQW1CemhCLEtBQUswaEIscUJBQXFCRyxJQUM3QyxTQUFFaFcsRUFBUSxTQUFFeVYsR0FBYUcsRUFDL0IsR0FBSUgsRUFBVSxDQUNaRyxFQUFpQi9LLGdCQUFrQitLLEVBQWlCL0ssY0FBZ0IsSUFBSWMsRUFBQSxHQUN4RSxNQUFNZCxFQUFnQitLLEVBQWlCL0ssY0FDbkNtTCxFQUFhN04sZ0JBQ2ZoVSxLQUFLOGhCLHFCQUFxQkQsR0FDMUJuTCxFQUFjN0ssU0FBV0EsRUFDekI2SyxFQUFjakosV0FBYW9VLEVBQzNCbkwsRUFBY2UsVUFBWW9LLEVBQWEvTSxlQUN2QzRCLEVBQWNPLFdBQVc0SyxFQUFhakwsV0FFeENGLEVBQWNqQixZQUFjelYsS0FBSzJDLFVBQVVxUyxhQUFlNk0sRUFBYTdNLGFBQ3ZFK0IsRUFBUXpCLFdBQVdvQixFQUFlM1QsRUFDcEMsTUFDRWdVLEVBQVE3VCxNQUFNSCxHQUNkMGUsRUFBaUIzVixTQUFXMlYsRUFBaUIzVixPQUFTLElBQUkrVCxHQUMxRDdmLEtBQUttVSxpQkFBaUIwTixHQUN0QjllLEVBQWViLElBQUkyZixFQUV2QixDQUNBLE9BQUFwZSxDQUFRb2UsR0FDTixNQUFNLE9BQUUvVixHQUFXOUwsS0FBSzBoQixxQkFBcUJHLEdBQzdDL1YsRUFBT0osT0FBTyxHQUFLMUwsS0FBSzJDLFVBQVVvRyxlQUFlZ1osVUFDakQsTUFBTXBOLEVBQWdCN0ksRUFBTzhJLFVBQVVELGNBQWNwSSxTQUNyRG9JLEVBQWNFLGlCQUFtQmdOLEVBQWEvTSxlQUM5Q0gsRUFBY0ksT0FBUy9VLEtBQUsyQyxVQUFVcVMsYUFBZTZNLEVBQWE3TSxjQUNsRSxPQUNFNk0sRUFBYTVNLGdCQUNiTixFQUFjTyxPQUNkLEdBRUZsVixLQUFLZ00sT0FBT3VFLFdBQVksRUFBQTJHLEVBQUEsR0FBMEIySyxFQUFhbk4sZUFBZ0JtTixFQUFhM1osUUFBUXNDLFNBQ3BHeEssS0FBSzJDLFVBQVVnSixRQUFRQyxLQUFLLENBQzFCQyxTQUFVdVYsRUFDVnRWLFNBQ0FDLE1BQU8vTCxLQUFLZ00sUUFFaEIsQ0FDQSxnQkFBQW1JLENBQWlCME4sR0FDZixNQUFNSixFQUFtQnpoQixLQUFLMGhCLHFCQUFxQkcsSUFDN0MsU0FBRVAsR0FBYUcsRUFDckIsR0FBSUgsRUFBVSxDQUNaLE1BQU0sY0FBRTVLLEdBQWtCK0ssRUFDdEJJLEVBQWE3TixlQUNmaFUsS0FBSzhoQixxQkFBcUJELEdBQzVCbkwsRUFBY3JDLFNBQVNDLGNBQWNvQyxFQUN2QyxNQUFPLEdBQUltTCxFQUFhN04sY0FBZSxDQUNyQyxNQUFNLE9BQUVsSSxHQUFXMlYsRUFDbkIzVixFQUFPd1UsZUFDTHVCLEVBQWEvZ0IsTUFDYitnQixFQUFhOWdCLE9BQ2I4Z0IsRUFBYUcsZUFBZXpVLE9BQzVCc1UsRUFBYXpXLE9BQU85RixFQUNwQnVjLEVBQWF6VyxPQUFPN0YsRUFDcEJzYyxFQUFhM1osUUFFakIsQ0FDRixDQUNBLG9CQUFBd1osQ0FBcUJqVSxHQUNuQixPQUFPQSxFQUFXaUcsU0FBUzFULEtBQUsyQyxVQUFVNFMsTUFBUXZWLEtBQUtpaUIsc0JBQXNCeFUsRUFDL0UsQ0FDQSxxQkFBQXdVLENBQXNCSixHQUNwQixNQUFNMU0sRUFBVSxJQUFJa00sRUFHcEIsT0FGQWxNLEVBQVExSCxXQUFhb1UsRUFDckJBLEVBQWFuTyxTQUFTMVQsS0FBSzJDLFVBQVU0UyxLQUFPSixFQUNyQ0EsQ0FDVCxDQUNBLG9CQUFBMk0sQ0FBcUJELEdBQ25CLE1BQU1LLEVBQWlCbGlCLEtBQUswaEIscUJBQXFCRyxJQUMzQyxTQUFFaFcsR0FBYXFXLEVBQ2Z6VyxFQUFRb1csRUFBYTNaLFFBQVFwQixPQUFPMkUsTUFDaEIsV0FBdEJBLEVBQU0wVyxjQUNSMVcsRUFBTTBXLFlBQWMsU0FDcEIxVyxFQUFNd0IsVUN4SFosU0FBZ0I0VSxFQUFjM0osR0FDNUIsTUFBTWhRLEVBQVUyWixFQUFhM1osUUFDdkJwSCxFQUFRb0gsRUFBUUUsTUFBTXRILE1BQ3RCQyxFQUFTbUgsRUFBUUUsTUFBTXJILE9BQzdCLElBQUl3ZixFQUFVLEVBQ1ZDLEVBQVUsRUFDVnFCLEVBQWFPLHVCQUNmN0IsRUFBVXNCLEVBQWF6VyxPQUFPOUYsRUFDOUJrYixFQUFVcUIsRUFBYXpXLE9BQU83RixHQUVoQzJTLEVBQUksR0FBS0EsRUFBSSxJQUFNcUksRUFDbkJySSxFQUFJLEdBQUtBLEVBQUksR0FBSyxFQUFJcUksRUFDdEJySSxFQUFJLEdBQUtBLEVBQUksSUFBTXNJLEVBQ25CdEksRUFBSSxHQUFLQSxFQUFJLEdBQUssRUFBSXNJLEVBQ3RCLE1BQU1sSSxFQUFnQjNOLEVBQUEsRUFBT3BJLE9BQzdCK1YsRUFBYytKLFNBQVNSLEVBQWFHLGVBQWV6VSxRQUNuRCtLLEVBQWN5SSxJQUFNYyxFQUFhL2dCLE1BQ2pDd1gsRUFBYzBJLElBQU1hLEVBQWE5Z0IsT0FDakN1WCxFQUFjdE4sU0FDZHNOLEVBQWNyTixNQUFNNFcsRUFBYS9nQixNQUFRQSxFQUFPK2dCLEVBQWE5Z0IsT0FBU0EsR0N0QnhFLFNBQXFCdWhCLEVBQU85ZCxFQUFRQyxFQUFROEksR0FDMUMsSUFBSTZCLEVBQVEsRUFDWixNQUFNd0ssRUFBTzBJLEVBQU1uYixPRHFCRixFQ3BCWHdaLEVBQUlwVCxFQUFPb1QsRUFDWEMsRUFBSXJULEVBQU9xVCxFQUNYQyxFQUFJdFQsRUFBT3NULEVBQ1hDLEVBQUl2VCxFQUFPdVQsRUFDWEMsRUFBS3hULEVBQU93VCxHQUNaQyxFQUFLelQsRUFBT3lULEdBRWxCLElBREF2YyxHRGNpQixFQ2JWMkssRUFBUXdLLEdBQU0sQ0FDbkIsTUFBTXRVLEVBQUlnZCxFQUFNN2QsR0FDVmMsRUFBSStjLEVBQU03ZCxFQUFTLEdBQ3pCNmQsRUFBTTdkLEdBQVVrYyxFQUFJcmIsRUFBSXViLEVBQUl0YixFQUFJd2IsRUFDaEN1QixFQUFNN2QsRUFBUyxHQUFLbWMsRUFBSXRiLEVBQUl3YixFQUFJdmIsRUFBSXliLEVBQ3BDdmMsR0RRZSxFQ1BmMkssR0FDRixDQUNGLENES0V0QixDQUFZb0ssRUFBSyxFQUFHLEVBQUdJLEVBQ3pCLENEcUdJaUssQ0FBT1YsRUFBY2hXLEVBQVNxTSxLRzdIbEMsU0FBc0IySixFQUFjckwsR0FDbEMsTUFBTStKLEVBQVVzQixFQUFhelcsT0FBTzlGLEVBQzlCa2IsRUFBVXFCLEVBQWF6VyxPQUFPN0YsRUFDcENpUixFQUFVLElBQU0rSixFQUFVc0IsRUFBYS9nQixNQUN2QzBWLEVBQVUsSUFBTWdLLEVBQVVxQixFQUFhOWdCLE9BQ3ZDeVYsRUFBVSxJQUFNLEVBQUkrSixHQUFXc0IsRUFBYS9nQixNQUM1QzBWLEVBQVUsSUFBTWdLLEVBQVVxQixFQUFhOWdCLE9BQ3ZDeVYsRUFBVSxJQUFNLEVBQUkrSixHQUFXc0IsRUFBYS9nQixNQUM1QzBWLEVBQVUsSUFBTSxFQUFJZ0ssR0FBV3FCLEVBQWE5Z0IsT0FDNUN5VixFQUFVLElBQU0rSixFQUFVc0IsRUFBYS9nQixNQUN2QzBWLEVBQVUsSUFBTSxFQUFJZ0ssR0FBV3FCLEVBQWE5Z0IsTUFDOUMsQ0htSEl5aEIsQ0FBYVgsRUFBY2hXLEVBQVMySyxVQUN0QyxDQUNBLE9BQUFoVixHQUNFeEIsS0FBSzJDLFVBQVksSUFDbkIsQ0FDQSxlQUFBaWYsQ0FBZ0JDLEdBQ2QsTUFBTUssRUFBaUJsaUIsS0FBSzBoQixxQkFBcUJHLEdBQzNDM1osRUFBVTJaLEVBQWEzWixRQUM3QixJQUFJdWEsR0FBcUIsRUFLekIsT0FKSXppQixLQUFLMkMsVUFBVWlCLE9BQVMsSUFBYXNJLFFBQ3ZDdVcsRUFBcUJ6aUIsS0FBSzJDLFVBQVVvUCxRQUFRMlEsU0FBU0MsbUJBRXZEVCxFQUFlWixTQUFXcFosRUFBUW9RLGNBQWNDLFdBQWFrSyxHQUFzQnZhLEVBQVFwQixPQUFPOGIsY0FDM0ZWLEVBQWVaLFFBQ3hCLEVBR0ZFLEVBQWlCL2YsVUFBWSxDQUMzQm1DLEtBQU0sQ0FDSixLQUFjQyxXQUNkLEtBQWNDLFlBQ2QsS0FBY0MsYUFFaEJDLEtBQU0sZ0JJbEpSLEtBQVc5QixJQUFJc2YsRSxrQ0NIZixNQUFNcUIsRUFDSixXQUFBbmdCLEdBQ0UxQyxLQUFLMFgsWUFBYyxVQUNuQjFYLEtBQUtpTSxTQUFXLGdCQUVoQmpNLEtBQUs0WSxjQUFnQixFQUNyQjVZLEtBQUt1VyxVQUFZLEVBQ2pCdlcsS0FBSzJYLFlBQWEsRUFDbEIzWCxLQUFLeVYsWUFBYyxFQUNuQnpWLEtBQUs4aUIsZ0JBQWtCLEVBRXZCOWlCLEtBQUtxVSxTQUFXLEtBQ2hCclUsS0FBSzhYLE9BQVMsSUFDaEIsQ0FDQSxhQUFJdkgsR0FDRixPQUFPdlEsS0FBS3lOLFdBQVdpSCxjQUN6QixDQUNBLFNBQUlpRSxHQUNGLE9BQU8zWSxLQUFLeU4sV0FBV3dILGVBQ3pCLENBQ0EsS0FBQWdELEdBQ0VqWSxLQUFLeU4sV0FBYSxLQUNsQnpOLEtBQUtrSSxRQUFVLEtBQ2ZsSSxLQUFLcVUsU0FBVyxLQUNoQnJVLEtBQUs4WCxPQUFTLEtBQ2Q5WCxLQUFLaUYsT0FBUyxJQUNoQixDQUNBLE9BQUF6RCxHQUNBLEUsMElDNUJGLE1BQU11aEIsRUFBc0IsQ0FDMUIvZSxLQUFNLHlCQUNOd0wsT0FBUSxDQUNOQyxPQUVFLGlTQVdGQyxLQUVFLHNIQUtGQyxJQUVFLCtMQVFKZ08sU0FBVSxDQUNSbE8sT0FFRSxvUUFVRkMsS0FFRSwrSEFNQXNULEVBQXdCLENBQzVCaGYsS0FBTSx5QkFDTndMLE9BQVEsQ0FDTkMsT0FFRSw4SEFNRkMsS0FFRSwwRkFLRkMsSUFFRSxzSkFRSmdPLFNBQVUsQ0FDUmxPLE9BRUUsb0RBSUZDLEtBRUUsOEZDM0ZBdVQsRUFBVSxDQUNkamYsS0FBTSxXQUNOMlosU0FBVSxDQUNSbE8sT0FFRSxxakNBK0JBeVQsRUFBWSxDQUNoQmxmLEtBQU0sV0FDTjJaLFNBQVUsQ0FDUmxPLE9BRUUseWpDQzlCTixJQUFJbU8sRUFDQXpFLEVBQ0osTUFBTWdLLFVBQWtCNUYsRUFBQSxFQUN0QixXQUFBN2EsQ0FBWTBnQixHQUNWLE1BQU03VyxFQUFXLElBQUkzRyxFQUFBLEVBQWEsQ0FDaENzUCxPQUFRLENBQUVwUCxNQUFPLElBQUl4QixhQUFhLENBQUMsRUFBRyxFQUFHLEVBQUcsSUFBS1YsS0FBTSxhQUN2RGlSLGlCQUFrQixDQUFFL08sTUFBTyxJQUFJNkUsRUFBQSxFQUFVL0csS0FBTSxlQUMvQ3lmLFVBQVcsQ0FBRXZkLE1BQU8sRUFBR2xDLEtBQU0sT0FDN0JtUixPQUFRLENBQUVqUCxNQUFPLEVBQUdsQyxLQUFNLFNBRTVCZ2EsSUFBZUEsR0FBYSxPQUE0QixDQUN0RDVaLEtBQU0sYUFDTjhiLEtBQU0sQ0FDSndELEVBQUEsR0FDQSxFQUFBQyxFQUFBLEdBQXdCSCxHQUN4QkwsRUFDQUUsRUFDQWxELEVBQUEsTUFHSjVHLElBQWNBLEdBQVksT0FBMkIsQ0FDbkRuVixLQUFNLGFBQ044YixLQUFNLENBQ0p3RCxFQUFBLEdBQ0EsRUFBQUMsRUFBQSxHQUEwQkgsR0FDMUJKLEVBQ0FFLEVBQ0FuRCxFQUFBLE1BR0p2QyxNQUFNLENBQ0pyRSxZQUNBeUUsYUFDQWhKLFVBQVcsQ0FDVEQsY0FBZXBJLEVBQ2ZpWCxlQUFlLEVBQUFDLEVBQUEsR0FBNkJMLEtBR2xELEUsMEhDOUNGLE1BQU1NLFVBQTJCLElBQy9CLFdBQUFoaEIsR0FDRThhLFNBQVNtRyxXQUVUM2pCLEtBQUs0akIsTUFBd0I5akIsT0FBTzRSLE9BQU8sTUFLM0MxUixLQUFLNmpCLFdBQWEsRUFLbEI3akIsS0FBSzhqQixXQUFhLEdBRWxCOWpCLEtBQUsrakIsWUFBYyxDQUFFQyxTQUFVLEVBQUdDLE9BQVEsRUFBR0MsUUFBUyxHQUt0RGxrQixLQUFLbWtCLGVBQWlCLEVBRXRCbmtCLEtBQUtva0IsY0FBZ0IsQ0FBRXhnQixLQUFNLE9BQVF5Z0IsTUFBTyxHQUU1Q3JrQixLQUFLc2tCLE1BQVEsR0FFYnRrQixLQUFLdWtCLGlCQUFrQixFQUV2QnZrQixLQUFLd2tCLHdCQUEwQixJQUMvQnhrQixLQUFLeWtCLHFCQUF1QixHQUM5QixDQUtBLFFBQUlDLEdBRUYsT0FEQSxFQUFBQyxFQUFBLElBQVksS0FBUSw0RUFDYjNrQixLQUFLOGpCLFVBQ2QsQ0FLQSxnQkFBSWMsR0FFRixPQURBLEVBQUFELEVBQUEsSUFBWSxLQUFRLCtFQUNiM2tCLEtBQUtza0IsS0FDZCxDQUtBLFFBQUkxSyxHQUVGLE9BREEsRUFBQStLLEVBQUEsSUFBWSxLQUFRLHNGQUNiM2tCLEtBQUsrakIsWUFBWUMsUUFDMUIsQ0FLQSxzQkFBSWEsR0FFRixPQURBLEVBQUFGLEVBQUEsSUFBWSxLQUFRLG1HQUNiM2tCLEtBQUtva0IsY0FBY0MsS0FDNUIsQ0FLQSxxQkFBSVMsR0FFRixPQURBLEVBQUFILEVBQUEsSUFBWSxLQUFRLGlHQUNiM2tCLEtBQUtva0IsY0FBY3hnQixJQUM1QixDQUNBLE9BQUFwQyxDQUFRdWpCLEdBQWtCLEdBQ3hCL2tCLEtBQUtnbEIsS0FBSyxVQUFXaGxCLE1BQ3JCQSxLQUFLaWxCLHFCQUNMLElBQUssTUFBTXpYLEtBQUt4TixLQUFLNGpCLE1BQ25CNWpCLEtBQUs0akIsTUFBTXBXLEdBQUd0RixTQUFTMUcsVUFFekJ4QixLQUFLNGpCLE1BQVEsS0FDVG1CLElBQ0Yva0IsS0FBS3NrQixNQUFNdFIsU0FBU2tTLEdBQVNBLEVBQUtoZCxRQUFRMUcsU0FBUSxLQUNsRHhCLEtBQUtza0IsTUFBUSxLQUVqQixFQ3pFRixNQUFNYSxFQUFxQixNQUFNQSxVQUEyQnpCLEVBSTFELFdBQUFoaEIsQ0FBWTdDLEdBQ1YyZCxRQUtBeGQsS0FBS2dILFdBQWEsRUFFbEJoSCxLQUFLc2tCLE1BQVEsR0FDYnRrQixLQUFLb2xCLFNBQVcsRUFDaEJwbEIsS0FBS3FsQixjQUFnQ3ZsQixPQUFPNFIsT0FBTyxNQUNuRDFSLEtBQUtzbEIsY0FBZ0IsR0FDckJ0bEIsS0FBS3VsQixVQUFZLEVBQ2pCdmxCLEtBQUt3bEIsVUFBWSxFQUNqQnhsQixLQUFLeWxCLHNCQUF3QixFQUM3QnpsQixLQUFLMGxCLG1CQUFxQixFQUMxQjFsQixLQUFLMmxCLGNBQWUsRUFDcEIsTUFBTUMsRUFBaUIsSUFBS1QsRUFBbUJVLGtCQUFtQmhtQixHQUNsRUcsS0FBSzhsQixhQUFlRixFQUFlRyxZQUNuQy9sQixLQUFLZ21CLFFBQVVKLEVBQWVLLE9BQzlCLE1BQU14YSxFQUFRbWEsRUFBZW5hLE1BQU15YSxRQUMvQk4sRUFBZU8sZUFDakIxYSxFQUFNMmEsTUFBTXpOLE1BQVEsU0FDcEJsTixFQUFNMmEsTUFBTXhULE1BQVEsRUFDcEJuSCxFQUFNMmEsTUFBTWxlLFFBQVVNLEVBQUEsRUFBUXVWLE1BQzlCdFMsRUFBTTJhLE1BQU1DLEtBQU8sTUFFckJybUIsS0FBS3VrQixnQkFBa0JxQixFQUFlTyxhQUN0QyxNQUFNRyxFQUFvQjdhLEVBQU11WSxTQUNoQ3ZZLEVBQU11WSxTQUFXaGtCLEtBQUt3a0Isd0JBQ3RCLE1BQU1FLEdBQU8sRUFBQTZCLEVBQUEsR0FBd0I5YSxHQUNqQ21hLEVBQWVZLGFBQ2IvYSxFQUFNZ2IsVUFDUmhiLEVBQU1nYixRQUFRM2xCLE9BQVNkLEtBQUt5a0IscUJBQXVCNkIsR0FHckQ3YSxFQUFNdVksU0FBV2hrQixLQUFLeWtCLHFCQUF1QjZCLEVBRS9DdG1CLEtBQUswbUIsT0FBU2piLEVBQ2R6TCxLQUFLMmxCLGFBQWVDLEVBQWVlLGNBQWUsRUFDbEQzbUIsS0FBS2dILFdBQWE0ZSxFQUFlNWUsWUFBYyxFQUMvQ2hILEtBQUtvbEIsU0FBV1EsRUFBZW5YLFNBQVcsRUFDdENtWCxFQUFlZ0IsZUFDakI1bUIsS0FBSzZtQixjQUFnQmpCLEVBQWVnQix3QkFBd0IzSSxFQUFBLEVBQWUySCxFQUFlZ0IsYUFBZSxJQUFJM0ksRUFBQSxFQUFhMkgsRUFBZWdCLGVBRTNJNW1CLEtBQUsrakIsWUFBYytDLEVBQUEsRUFBa0JDLFlBQVlyQyxHQUNqRDFrQixLQUFLNmpCLFdBQWFwWSxFQUFNb1ksWUFBYzdqQixLQUFLK2pCLFlBQVlDLFVBQVl2WSxFQUFNdVksUUFDM0UsQ0FDQSxnQkFBQWdELENBQWlCcEQsR0FDZixNQUFNcUQsRUFBV0gsRUFBQSxFQUFrQkksa0JBQWtCdEQsR0FBT2pnQixRQUFRd2pCLElBQVVubkIsS0FBS3NsQixjQUFjOEIsU0FBU0QsS0FBT3hqQixRQUFPLENBQUN3akIsRUFBTS9YLEVBQU9pWSxJQUFTQSxFQUFLQyxRQUFRSCxLQUFVL1gsSUFDdEssSUFBSzZYLEVBQVM5ZixPQUNaLE9BRUYsSUFBSW9nQixFQURKdm5CLEtBQUtzbEIsY0FBZ0IsSUFBSXRsQixLQUFLc2xCLGlCQUFrQjJCLEdBRzlDTSxHQUQ4QixJQUE1QnZuQixLQUFLMGxCLGtCQUNJMWxCLEtBQUt3bkIsWUFFTHhuQixLQUFLc2tCLE1BQU10a0IsS0FBSzBsQixtQkFFN0IsSUFBSSxPQUFFN1QsRUFBTSxRQUFFRSxHQUFZd1YsRUFBU2xWLGlCQUMvQm9WLEVBQWdCRixFQUFTcmYsUUFBUXBCLE9BQ3JDLE1BQU0yRSxFQUFRekwsS0FBSzBtQixPQUNuQixJQUFJZ0IsRUFBVzFuQixLQUFLdWxCLFVBQ2hCb0MsRUFBVzNuQixLQUFLd2xCLFVBQ2hCb0MsRUFBdUI1bkIsS0FBS3lsQixzQkFDaEMsTUFBTW9DLEVBQVk3bkIsS0FBS3lrQixxQkFBdUJ6a0IsS0FBS3drQix3QkFDN0MvVixFQUFVek8sS0FBS29sQixTQUFXeUMsRUFDaEMsSUFBSUMsR0FBYyxFQUNsQixNQUFNQyxFQUFrQmxXLEVBQU8vUSxNQUFRZCxLQUFLZ0gsV0FDdENnaEIsRUFBbUJuVyxFQUFPOVEsT0FBU2YsS0FBS2dILFdBQzlDLElBQUssSUFBSXdHLEVBQUksRUFBR0EsRUFBSXlaLEVBQVM5ZixPQUFRcUcsSUFBSyxDQUN4QyxNQUFNMlosRUFBT0YsRUFBU3paLEdBQ2hCeWEsRUFBVW5CLEVBQUEsRUFBa0JvQixZQUFZZixFQUFNMWIsRUFBT29HLEdBQVEsR0FDbkVvVyxFQUFRcEUsV0FBYW9FLEVBQVFsbkIsT0FDN0IsTUFBTUQsRUFBUW1uQixFQUFRbm5CLE1BQVErbUIsRUFHeEJNLEVBRm9CN2UsS0FBS0UsTUFBMEIsV0FBcEJpQyxFQUFNMmMsVUFBeUIsRUFBSSxHQUFLdG5CLEdBRTNCLEVBQVYyTixFQUNsQzRaLEVBRlNKLEVBQVFsbkIsT0FBUzhtQixFQUVRLEVBQVZwWixFQU05QixHQUxBcVosR0FBYyxFQUNELE9BQVRYLEdBQTBCLE9BQVRBLEdBQTBCLE9BQVRBLEdBQXlCLE1BQVRBLElBQ3BEVyxHQUFjLEVBQ2RGLEVBQXVCdGUsS0FBS0UsS0FBS0YsS0FBSytHLElBQUlnWSxFQUFjVCxLQUV0REYsRUFBV1MsRUFBY0osSUFDM0JKLEdBQVlDLEVBQ1pBLEVBQXVCUyxFQUN2QlgsRUFBVyxFQUNQQyxFQUFXQyxFQUF1QkksR0FBa0IsQ0FDdERQLEVBQWN4YSxTQUNkLE1BQU1xYixFQUFZdG9CLEtBQUt3bkIsWUFDdkIzVixFQUFTeVcsRUFBVWpXLGlCQUFpQlIsT0FDcENFLEVBQVV1VyxFQUFValcsaUJBQWlCTixRQUNyQzBWLEVBQWdCYSxFQUFVcGdCLFFBQVFwQixPQUNsQzRnQixFQUFXLEVBQ1hDLEVBQVcsRUFDWEMsRUFBdUIsQ0FDekIsQ0FFRixNQUFNVyxFQUFXem5CLEVBQVErbUIsR0FBYXBjLEVBQU0rYyxZQUFZQyxVQUFZLElBQU1oZCxFQUFNZ2IsU0FBUzNsQixPQUFTLEdBUWxHLEdBUEFkLEtBQUs0akIsTUFBTXVELEdBQVEsQ0FDakJ1QixHQUFJdkIsRUFBS3dCLFlBQVksR0FDckJDLFNBQVU1b0IsS0FBS29sQixTQUNmeUQsU0FBVTdvQixLQUFLb2xCLFNBQ2ZtRCxXQUNBTyxRQUFTLENBQUMsR0FFUmhCLEVBQWEsQ0FDZjluQixLQUFLK29CLFdBQ0hoWCxFQUNBa1csRUFDQVAsRUFBV2paLEVBQ1hrWixFQUFXbFosRUFDWG9aLEVBQ0FwYyxHQUVGLE1BQU11ZCxFQUFLdkIsRUFBYzNtQixNQUFRK21CLEVBQzNCb0IsRUFBS3hCLEVBQWMxbUIsT0FBUzhtQixFQUM1QnpmLEVBQVEsSUFBSThnQixFQUFBLEVBQ2hCeEIsRUFBV3NCLEVBQUt2QixFQUFjM21CLE1BQzlCNm1CLEVBQVdzQixFQUFLeEIsRUFBYzFtQixPQUM5Qm9uQixFQUFjYSxFQUFLdkIsRUFBYzNtQixNQUNqQ3VuQixFQUFlWSxFQUFLeEIsRUFBYzFtQixRQUVwQ2YsS0FBSzRqQixNQUFNdUQsR0FBTWpmLFFBQVUsSUFBSU0sRUFBQSxFQUFRLENBQ3JDMUIsT0FBUTJnQixFQUNScmYsVUFFRnNmLEdBQVlwZSxLQUFLRSxLQUFLMmUsRUFDeEIsQ0FDRixDQUNBVixFQUFjeGEsU0FDZGpOLEtBQUt1bEIsVUFBWW1DLEVBQ2pCMW5CLEtBQUt3bEIsVUFBWW1DLEVBQ2pCM25CLEtBQUt5bEIsc0JBQXdCbUMsRUFDN0I1bkIsS0FBSzJsQixjQUFnQjNsQixLQUFLbXBCLGNBQWNsQyxFQUFVbFYsRUFDcEQsQ0FLQSxnQkFBSTZTLEdBRUYsT0FEQSxFQUFBRCxFQUFBLElBQVksS0FBUSwrRUFDYjNrQixLQUFLc2tCLEtBQ2QsQ0FDQSxhQUFBNkUsQ0FBY0MsRUFBVXJYLEdBQ3RCLE1BQU1zWCxFQUFlcnBCLEtBQUtxbEIsY0FDMUIsSUFBSyxJQUFJN1gsRUFBSSxFQUFHQSxFQUFJNGIsRUFBU2ppQixPQUFRcUcsSUFBSyxDQUN4QyxNQUFNOGIsRUFBUUYsRUFBUzViLEdBQ3ZCLElBQUssSUFBSXlNLEVBQUksRUFBR0EsRUFBSWphLEtBQUtzbEIsY0FBY25lLE9BQVE4UyxJQUFLLENBQ2xELE1BQU1zUCxFQUFTdnBCLEtBQUtzbEIsY0FBY3JMLEdBQ2xDLElBQUl1UCxFQUFLSCxFQUFhQyxHQUNqQkUsSUFDSEEsRUFBS0gsRUFBYUMsR0FBU3ZYLEVBQVFtVyxZQUFZb0IsR0FBT3hvQixPQUN4RCxJQUFJMm9CLEVBQUtKLEVBQWFFLEdBQ2pCRSxJQUNIQSxFQUFLSixFQUFhRSxHQUFVeFgsRUFBUW1XLFlBQVlxQixHQUFRem9CLE9BQzFELElBQUk0b0IsRUFBUTNYLEVBQVFtVyxZQUFZb0IsRUFBUUMsR0FBUXpvQixNQUM1QzZvQixFQUFTRCxHQUFTRixFQUFLQyxHQUN2QkUsSUFDRjNwQixLQUFLNGpCLE1BQU0wRixHQUFPUixRQUFRUyxHQUFVSSxHQUV0Q0QsRUFBUTNYLEVBQVFtVyxZQUFZb0IsRUFBUUMsR0FBUXpvQixNQUM1QzZvQixFQUFTRCxHQUFTRixFQUFLQyxHQUNuQkUsSUFDRjNwQixLQUFLNGpCLE1BQU0yRixHQUFRVCxRQUFRUSxHQUFTSyxFQUV4QyxDQUNGLENBQ0YsQ0FDQSxTQUFBbkMsR0FDRXhuQixLQUFLMGxCLG9CQUNMLE1BQU1rRSxFQUFvQjVwQixLQUFLZ0gsV0FDekJxTCxFQUFtQmQsRUFBQSxFQUFXVSwyQkFDbENqUyxLQUFLOGxCLGFBQ0w5bEIsS0FBSzhsQixhQUNMOEQsR0FFRjVwQixLQUFLNnBCLGNBQWN4WCxFQUFpQk4sUUFBUy9SLEtBQUswbUIsT0FBUWtELEdBQzFELE1BQU01aUIsRUFBYTRpQixHQUFxQjVwQixLQUFLeWtCLHFCQUF1QnprQixLQUFLd2tCLHlCQUNuRXRjLEVBQVUsSUFBSU0sRUFBQSxFQUFRLENBQzFCMUIsT0FBUSxJQUFJZ2pCLEVBQUEsRUFBWSxDQUN0Qi9jLFNBQVVzRixFQUFpQlIsT0FDM0I3SyxhQUNBNkIsVUFBVyw4QkFDWGtoQixvQkFBcUIvcEIsS0FBS2dtQixZQUcxQmhtQixLQUFLNm1CLGdCQUNQM2UsRUFBUXBCLE9BQU8yRSxNQUFRekwsS0FBSzZtQixlQUU5QixNQUFNVSxFQUFXLENBQ2ZsVixtQkFDQW5LLFdBR0YsT0FEQWxJLEtBQUtza0IsTUFBTXRrQixLQUFLMGxCLG1CQUFxQjZCLEVBQzlCQSxDQUNULENBRUEsYUFBQXNDLENBQWM5WCxFQUFTdEcsRUFBT3pFLEdBQzVCeUUsRUFBTXVZLFNBQVdoa0IsS0FBS3lrQixxQkFDdEIxUyxFQUFROUcsTUFBTWpFLEVBQVlBLEdBQzFCK0ssRUFBUTJTLE1BQU8sRUFBQTZCLEVBQUEsR0FBd0I5YSxHQUN2Q0EsRUFBTXVZLFNBQVdoa0IsS0FBS3drQix3QkFDdEJ6UyxFQUFRaVksYUFBZXZlLEVBQU11ZSxhQUM3QixNQUFNQyxFQUFTeGUsRUFBTWdiLFFBQ2Z5RCxFQUFrQkQsR0FBUW5wQixPQUFTLEVBVXpDLEdBVEltcEIsSUFDRmxZLEVBQVFvWSxVQUFZRCxFQUNwQm5ZLEVBQVFxWSxTQUFXSCxFQUFPdFAsS0FDMUI1SSxFQUFRc1ksV0FBYUosRUFBT0ksV0FDNUJ0WSxFQUFRdVksYUFBYyxFQUFBQyxFQUFBLEdBQW1CTixFQUFRbFksSUFFL0N0RyxFQUFNMmEsUUFDUnJVLEVBQVF5WSxXQUFZLEVBQUFELEVBQUEsR0FBbUI5ZSxFQUFNMmEsTUFBT3JVLElBRWxEdEcsRUFBTStjLFdBQVksQ0FDcEIsTUFBTWlDLEVBQWdCaGYsRUFBTStjLFdBQ3RCa0MsRUFBTXZNLEVBQUEsRUFBTTViLE9BQU9vb0IsU0FBU0YsRUFBYzlSLE9BQU9pUyxVQUNqREMsRUFBaUJKLEVBQWNLLEtBQU85akIsRUFDdEMrakIsRUFBcUJOLEVBQWNoQyxTQUFXemhCLEVBQ3BEK0ssRUFBUWlaLFlBQWMsUUFBaUIsSUFBVE4sRUFBSSxNQUFxQixJQUFUQSxFQUFJLE1BQXFCLElBQVRBLEVBQUksTUFBWUQsRUFBYzdYLFNBQzVGYixFQUFRa1osV0FBYUosRUFDckI5WSxFQUFRbVosY0FBZ0I1aEIsS0FBSzZoQixJQUFJVixFQUFjVyxPQUFTTCxFQUN4RGhaLEVBQVFzWixjQUFnQi9oQixLQUFLZ2lCLElBQUliLEVBQWNXLE9BQVNMLENBQzFELE1BQ0VoWixFQUFRaVosWUFBYyxRQUN0QmpaLEVBQVFrWixXQUFhLEVBQ3JCbFosRUFBUW1aLGNBQWdCLEVBQ3hCblosRUFBUXNaLGNBQWdCLENBRTVCLENBQ0EsVUFBQXRDLENBQVdoWCxFQUFTa1csRUFBUzNpQixFQUFHQyxFQUFHc2lCLEVBQVdwYyxHQUM1QyxNQUFNMGIsRUFBT2MsRUFBUXNELEtBQ2ZDLEVBQWlCdkQsRUFBUXVELGVBQ3pCdkIsRUFBU3hlLEVBQU1nYixRQUNmeUQsR0FBbUJELEdBQVFucEIsT0FBUyxHQUFLK21CLEVBQ3pDOUcsRUFBS3piLEVBQUk0a0IsRUFBa0IsRUFDM0JsSixFQUFLemIsRUFBSTJrQixFQUFrQixFQUMzQmhHLEVBQVVzSCxFQUFldEgsUUFBVTJELEVBQ25DaEUsRUFBYW9FLEVBQVFwRSxXQUFhZ0UsRUFDeEMsSUFBSTRELEdBQWUsRUFDZmhnQixFQUFNd2UsUUFBVUMsSUFDbEJ1QixHQUFlLEVBQ2YxWixFQUFRMlosV0FBV3ZFLEVBQU1wRyxFQUFJQyxFQUFLNkMsRUFBYUssSUFFakQsTUFBTSxXQUFFK0csRUFBVSxjQUFFQyxFQUFhLGNBQUVHLEdBQWtCdFosRUFDakR0RyxFQUFNMmEsUUFDSnFGLElBQ0YxWixFQUFRa1osV0FBYSxFQUNyQmxaLEVBQVFtWixjQUFnQixFQUN4Qm5aLEVBQVFzWixjQUFnQixHQUUxQnRaLEVBQVE0WixTQUFTeEUsRUFBTXBHLEVBQUlDLEVBQUs2QyxFQUFhSyxJQUUzQ3VILElBQ0YxWixFQUFRa1osV0FBYUEsRUFDckJsWixFQUFRbVosY0FBZ0JBLEVBQ3hCblosRUFBUXNaLGNBQWdCQSxFQUU1QixDQUNBLE9BQUE3cEIsR0FDRWdjLE1BQU1oYyxVQUNOLElBQUssSUFBSWdNLEVBQUksRUFBR0EsRUFBSXhOLEtBQUtza0IsTUFBTW5kLE9BQVFxRyxJQUFLLENBQzFDLE1BQU0saUJBQUU2RSxFQUFnQixRQUFFbkssR0FBWWxJLEtBQUtza0IsTUFBTTlXLEdBQ2pEK0QsRUFBQSxFQUFXZSx1QkFBdUJELEdBQ2xDbkssRUFBUTFHLFNBQVEsRUFDbEIsQ0FDQXhCLEtBQUtza0IsTUFBUSxJQUNmLEdBRUZhLEVBQW1CVSxlQUFpQixDQUNsQ0UsWUFBYSxJQUNidGEsTUFBTyxJQUFJbWdCLEVBQUEsRUFDWDNGLFFBQVEsR0FFVixJQUFJNEYsRUFBb0IxRyxFQ3JTeEIsU0FBUzJHLEVBQW9CbEksRUFBT25ZLEVBQU9pWixFQUFNcUgsR0FDL0MsTUFBTUMsRUFBYSxDQUNqQmxyQixNQUFPLEVBQ1BDLE9BQVEsRUFDUjZHLFFBQVMsRUFDVHFELE1BQU9RLEVBQU11WSxTQUFXVSxFQUFLRix3QkFDN0J5SCxNQUFPLENBQUMsQ0FDTm5yQixNQUFPLEVBQ1BvckIsY0FBZSxHQUNmQyxXQUFZLEVBQ1pDLFlBQWEsR0FDYnhJLE1BQU8sTUFHWG9JLEVBQVdwa0IsUUFBVThjLEVBQUtQLGVBQzFCLElBQUlrSSxFQUFjTCxFQUFXQyxNQUFNLEdBQy9CSyxFQUFlLEtBQ2ZDLEdBQVksRUFDaEIsTUFBTUMsRUFBYyxDQUNsQkMsV0FBVyxFQUNYM3JCLE1BQU8sRUFDUHVCLE1BQU8sRUFDUCtNLE1BQU8sRUFFUG9ILFVBQVcsR0FDWG9OLE1BQU8sSUFFSDNZLEVBQVF5WixFQUFLRix3QkFBMEIvWSxFQUFNdVksU0FDN0MwSSxFQUF3QmpoQixFQUFNa2hCLGNBQWdCMWhCLEVBQzlDMmhCLEVBQXdCbmhCLEVBQU1vaEIsY0FBZ0I1aEIsRUFDOUM2aEIsRUFBcUJyaEIsRUFBTW9ZLFdBQWFwWSxFQUFNb1ksV0FBYTVZLEVBQVF5WixFQUFLYixXQUN4RWtKLEVBQWF0aEIsRUFBTXVoQixVQUFZdmhCLEVBQU1zaEIsV0FDckNFLEVBQVlDLElBQ2hCLE1BQU03cUIsRUFBUWdxQixFQUFZdnJCLE1BQzFCLElBQUssSUFBSW1aLEVBQUksRUFBR0EsRUFBSXVTLEVBQVlwZCxNQUFPNkssSUFBSyxDQUMxQyxNQUFNa1QsRUFBV0QsRUFBSzFXLFVBQVV5RCxHQUNoQ29TLEVBQVl6SSxNQUFNaGhCLEtBQUtzcUIsRUFBS3RKLE1BQU0zSixJQUNsQ29TLEVBQVlILGNBQWN0cEIsS0FBS3VxQixFQUFXOXFCLEVBQzVDLENBQ0FncUIsRUFBWXZyQixPQUFTb3NCLEVBQUtwc0IsTUFDMUJ5ckIsR0FBWSxFQUNaQyxFQUFZMXJCLE1BQVEsRUFDcEIwckIsRUFBWXBkLE1BQVEsRUFDcEJvZCxFQUFZNUksTUFBTXpjLE9BQVMsQ0FBQyxFQUV4QmltQixFQUFXLEtBQ2YsSUFBSWhlLEVBQVFpZCxFQUFZekksTUFBTXpjLE9BQVMsRUFDdkMsR0FBSTRrQixFQUFTLENBQ1gsSUFBSXNCLEVBQVdoQixFQUFZekksTUFBTXhVLEdBQ2pDLEtBQW9CLE1BQWJpZSxHQUNMaEIsRUFBWXZyQixPQUFTNGpCLEVBQUtkLE1BQU15SixHQUFVOUUsU0FDMUM4RSxFQUFXaEIsRUFBWXpJLFFBQVF4VSxFQUVuQyxDQUNBNGMsRUFBV2xyQixNQUFRd0ksS0FBSytHLElBQUkyYixFQUFXbHJCLE1BQU91ckIsRUFBWXZyQixPQUMxRHVyQixFQUFjLENBQ1p2ckIsTUFBTyxFQUNQb3JCLGNBQWUsR0FDZnRJLE1BQU8sR0FDUHVJLFdBQVksRUFDWkMsWUFBYSxJQUVmRyxHQUFZLEVBQ1pQLEVBQVdDLE1BQU1ycEIsS0FBS3lwQixHQUN0QkwsRUFBV2pyQixRQUFVK3JCLENBQWtCLEVBRW5DUSxFQUFtQm5ELEdBQWNBLEVBQVl1QyxFQUF3QkUsRUFDM0UsSUFBSyxJQUFJcGYsRUFBSSxFQUFHQSxFQUFJb1csRUFBTXpjLE9BQVMsRUFBR3FHLElBQUssQ0FDekMsSUFBSTJaLEVBQ0osTUFBTW9HLEVBQVEvZixJQUFNb1csRUFBTXpjLE9BQ3JCb21CLElBQ0hwRyxFQUFPdkQsRUFBTXBXLElBRWYsTUFBTWdnQixFQUFXOUksRUFBS2QsTUFBTXVELElBQVN6QyxFQUFLZCxNQUFNLEtBR2hELEdBRmdCLFNBQVM2SixLQUFLdEcsSUFDVSxPQUFUQSxHQUEwQixPQUFUQSxHQUFpQm9HLEdBZ0IvRCxJQWQyQmhCLEdBQWE5Z0IsRUFBTXVoQixVQUFZTSxFQUFnQmpCLEVBQVl2ckIsTUFBUTByQixFQUFZMXJCLFFBRXhHc3NCLElBQ0FILEVBQVNULEdBQ0plLEdBQ0hsQixFQUFZSCxjQUFjdHBCLEtBQUssS0FHakM0cEIsRUFBWW5xQixNQUFRZ3FCLEVBQVl2ckIsTUFDaENtc0IsRUFBU1QsR0FDSmUsR0FDSGxCLEVBQVlILGNBQWN0cEIsS0FBSyxJQUd0QixPQUFUdWtCLEdBQTBCLE9BQVRBLEVBQ08sSUFBdEJrRixFQUFZdnJCLE9BQ2Rzc0IsU0FFRyxJQUFLRyxFQUFPLENBQ2pCLE1BQU1wQixFQUFhcUIsRUFBU2pGLFVBQVlpRixFQUFTMUUsUUFBUXdELElBQWlCLEdBQUtJLEVBQy9FTCxFQUFZdnJCLE9BQVNxckIsRUFDckJFLEVBQVlGLFdBQWFBLEVBQ3pCRSxFQUFZRCxZQUFZeHBCLEtBQUt5cEIsRUFBWUgsY0FBYy9rQixRQUN2RGtsQixFQUFZekksTUFBTWhoQixLQUFLdWtCLEVBQ3pCLE1BQ0ssQ0FDTCxNQUFNMkIsRUFBVTBFLEVBQVMxRSxRQUFRd0QsSUFBaUIsRUFDNUNvQixFQUFnQkYsRUFBU2pGLFNBQVdPLEVBQVU0RCxFQUMxQkssR0FBY08sRUFBZ0JqQixFQUFZdnJCLE1BQVEwckIsRUFBWTFyQixNQUFRNHNCLEtBRTlGVCxFQUFTVCxHQUNUWSxLQUVGWixFQUFZaFcsVUFBVWdXLEVBQVlwZCxTQUFXb2QsRUFBWTFyQixNQUFRZ29CLEVBQ2pFMEQsRUFBWTVJLE1BQU1oaEIsS0FBS3VrQixHQUN2QnFGLEVBQVkxckIsT0FBUzRzQixDQUN2QixDQUNBcEIsRUFBZW5GLENBQ2pCLENBU0EsT0FSQWlHLElBQ29CLFdBQWhCM2hCLEVBQU1raUIsTUFTWixTQUFxQkMsR0FDbkIsSUFBSyxJQUFJcGdCLEVBQUksRUFBR0EsRUFBSW9nQixFQUFnQjNCLE1BQU05a0IsT0FBUXFHLElBQUssQ0FDckQsTUFBTXFnQixFQUFPRCxFQUFnQjNCLE1BQU16ZSxHQUM3Qi9JLEVBQVNtcEIsRUFBZ0I5c0IsTUFBUSxFQUFJK3NCLEVBQUsvc0IsTUFBUSxFQUN4RCxJQUFLLElBQUltWixFQUFJLEVBQUdBLEVBQUk0VCxFQUFLM0IsY0FBYy9rQixPQUFROFMsSUFDN0M0VCxFQUFLM0IsY0FBY2pTLElBQU14VixDQUU3QixDQUNGLENBaEJJcXBCLENBQVk5QixHQUNhLFVBQWhCdmdCLEVBQU1raUIsTUFnQm5CLFNBQW9CQyxHQUNsQixJQUFLLElBQUlwZ0IsRUFBSSxFQUFHQSxFQUFJb2dCLEVBQWdCM0IsTUFBTTlrQixPQUFRcUcsSUFBSyxDQUNyRCxNQUFNcWdCLEVBQU9ELEVBQWdCM0IsTUFBTXplLEdBQzdCL0ksRUFBU21wQixFQUFnQjlzQixNQUFRK3NCLEVBQUsvc0IsTUFDNUMsSUFBSyxJQUFJbVosRUFBSSxFQUFHQSxFQUFJNFQsRUFBSzNCLGNBQWMva0IsT0FBUThTLElBQzdDNFQsRUFBSzNCLGNBQWNqUyxJQUFNeFYsQ0FFN0IsQ0FDRixDQXZCSXNwQixDQUFXL0IsR0FDYyxZQUFoQnZnQixFQUFNa2lCLE9BdUJuQixTQUFzQkMsR0FDcEIsTUFBTTlzQixFQUFROHNCLEVBQWdCOXNCLE1BQzlCLElBQUssSUFBSTBNLEVBQUksRUFBR0EsRUFBSW9nQixFQUFnQjNCLE1BQU05a0IsT0FBUXFHLElBQUssQ0FDckQsTUFBTXFnQixFQUFPRCxFQUFnQjNCLE1BQU16ZSxHQUNuQyxJQUFJd2dCLEVBQU8sRUFDUEMsRUFBYUosRUFBS3pCLFlBQVk0QixLQUM5QnZwQixFQUFTLEVBQ2IsTUFBTXlwQixFQUFjTCxFQUFLekIsWUFBWWpsQixPQUUvQmdsQixHQURpQnJyQixFQUFRK3NCLEVBQUsvc0IsT0FBU290QixFQUU3QyxJQUFLLElBQUlqVSxFQUFJLEVBQUdBLEVBQUk0VCxFQUFLM0IsY0FBYy9rQixPQUFROFMsSUFDekNBLElBQU1nVSxJQUNSQSxFQUFhSixFQUFLekIsWUFBWTRCLEtBQzlCdnBCLEdBQVUwbkIsR0FFWjBCLEVBQUszQixjQUFjalMsSUFBTXhWLENBRTdCLENBQ0YsQ0F4Q0kwcEIsQ0FBYW5DLEdBRVJBLENBQ1QsQ0NwSEEsSUFBSW9DLEVBQVksRUErSmhCLE1BQU1DLEVBQW9CLElBOUoxQixNQUNFLFdBQUEzckIsR0FPRTFDLEtBQUtzdUIsTUFBUSxDQUFDLENBQUMsSUFBSyxLQUFNLENBQUMsSUFBSyxLQUFNLEtBT3RDdHVCLEtBQUt1dUIsUUFBVSxDQUFDLENBQUMsSUFBSyxNQUt0QnZ1QixLQUFLd3VCLGFBQWUsQ0FBQyxDQUFDLElBQUssS0FBTSxDQUFDLElBQUssS0FBTSxDQUFDLElBQUssS0FBTSxLQU16RHh1QixLQUFLeXVCLE1BQVEsQ0FBQyxDQUFDLElBQUssTUFFcEJ6dUIsS0FBSzZsQixlQUFpQixDQUNwQmpDLE1BQU81akIsS0FBS3d1QixhQUNaeG5CLFdBQVksRUFDWnlILFFBQVMsRUFDVGtZLGFBQWEsRUFDYkMsYUFBYyxLQUVsQixDQU1BLE9BQUE4SCxDQUFRbkQsRUFBTTlmLEdBQ1osSUFBSWtqQixFQUFnQixHQUFHbGpCLEVBQU1xWSxvQkFDekJxQyxHQUFlLEVBQ25CLEdBQUkxYSxFQUFNMmEsTUFBTUMsT0FBUzVhLEVBQU1nYixRQUM3QmtJLEdBQWlCbGpCLEVBQU0yYSxNQUFNQyxLQUFLdUksU0FDbEN6SSxHQUFlLE9BQ1YsR0FBSTFhLEVBQU1nYixTQUFXaGIsRUFBTStjLFdBQVksQ0FDNUMsSUFBSXBXLEVBQU0zRyxFQUFNbWpCLFNBQ2hCeGMsRUFBTUEsRUFBSXljLFVBQVUsRUFBR3pjLEVBQUkwYyxZQUFZLE1BQ3ZDSCxFQUFnQixHQUFHdmMsV0FDbkIrVCxHQUFlLENBQ2pCLENBQ0EsSUFBSzRJLEVBQUEsRUFBTUMsSUFBSUwsR0FBZ0IsQ0FDN0IsTUFBTU0sRUFBWW52QixPQUFPNFIsT0FBT2pHLEdBQ2hDd2pCLEVBQVVwTCxXQUFhLEVBQ3ZCLE1BQU1xTCxFQUFNLElBQUlyRCxFQUFrQixDQUNoQ3BnQixNQUFPd2pCLEVBQ1A5SSxlQUNBSyxjQUFjLEtBQ1h4bUIsS0FBSzZsQixpQkFFVnVJLElBQ0lBLEVBQVksS0FDZCxFQUFBcGYsRUFBQSxHQUFLLGFBQWMsZ0NBQWdDb2YscUlBRXJEYyxFQUFJQyxLQUFLLFdBQVcsS0FDbEJmLElBQ0FXLEVBQUEsRUFBTTlzQixPQUFPMHNCLEVBQWMsSUFFN0JJLEVBQUEsRUFBTTl1QixJQUNKMHVCLEVBQ0FPLEVBRUosQ0FDQSxNQUFNRSxFQUFjTCxFQUFBLEVBQU10dUIsSUFBSWt1QixHQUU5QixPQURBUyxFQUFZcEksbUJBQW1CdUUsR0FDeEI2RCxDQUNULENBT0EsU0FBQUMsQ0FBVTlELEVBQU05ZixFQUFPc2dCLEdBQVUsR0FDL0IsTUFBTXVELEVBQWF0dkIsS0FBSzB1QixRQUFRbkQsRUFBTTlmLEdBRXRDLE9BQU9xZ0IsRUFEVWhGLEVBQUEsRUFBa0JJLGtCQUFrQnFFLEdBQ2hCOWYsRUFBTzZqQixFQUFZdkQsRUFDMUQsQ0FPQSxXQUFBN0QsQ0FBWXFELEVBQU05ZixFQUFPc2dCLEdBQVUsR0FDakMsT0FBTy9yQixLQUFLcXZCLFVBQVU5RCxFQUFNOWYsRUFBT3NnQixFQUNyQyxDQUVBLE9BQUF3RCxJQUFXQyxHQUNULElBQUkzdkIsRUFBVTJ2QixFQUFLLEdBQ0ksaUJBQVozdkIsSUFDVEEsRUFBVSxDQUNSbUUsS0FBTW5FLEVBQ040TCxNQUFPK2pCLEVBQUssR0FDWjVMLE1BQU80TCxFQUFLLElBQUk1TCxNQUNoQjVjLFdBQVl3b0IsRUFBSyxJQUFJeG9CLFdBQ3JCeUgsUUFBUytnQixFQUFLLElBQUkvZ0IsUUFDbEJrWSxZQUFhNkksRUFBSyxJQUFJN0ksY0FFeEIsRUFBQWhDLEVBQUEsSUFBWSxLQUFRLDRIQUV0QixNQUFNM2dCLEVBQU9uRSxHQUFTbUUsS0FDdEIsSUFBS0EsRUFDSCxNQUFNLElBQUlnVyxNQUFNLG9EQUVsQm5hLEVBQVUsSUFBS0csS0FBSzZsQixrQkFBbUJobUIsR0FDdkMsTUFBTTR2QixFQUFZNXZCLEVBQVE0TCxNQUNwQkEsRUFBUWdrQixhQUFxQjdELEVBQUEsRUFBWTZELEVBQVksSUFBSTdELEVBQUEsRUFBVTZELEdBQ25FdEosRUFBZXRtQixFQUFRNnZCLGFBQWUxdkIsS0FBSzJ2QixvQkFBb0Jsa0IsR0FDL0RpWixFQUFPLElBQUltSCxFQUFrQixDQUNqQ3BnQixRQUNBMGEsZUFDQVEsWUFBYTltQixFQUFROG1CLFlBQ3JCbFksUUFBUzVPLEVBQVE0TyxRQUNqQnpILFdBQVluSCxFQUFRbUgsV0FDcEJ3ZixjQUFjLEVBQ2RJLGFBQWMvbUIsRUFBUSttQixlQUVsQmdKLEVDNUlWLFNBQTJCaE0sR0FDekIsR0FBYyxLQUFWQSxFQUNGLE1BQU8sR0FFWSxpQkFBVkEsSUFDVEEsRUFBUSxDQUFDQSxJQUVYLE1BQU1pTSxFQUFTLEdBQ2YsSUFBSyxJQUFJcmlCLEVBQUksRUFBR3lNLEVBQUkySixFQUFNemMsT0FBUXFHLEVBQUl5TSxFQUFHek0sSUFBSyxDQUM1QyxNQUFNc2lCLEVBQU9sTSxFQUFNcFcsR0FDbkIsR0FBSXVpQixNQUFNQyxRQUFRRixHQUFPLENBQ3ZCLEdBQW9CLElBQWhCQSxFQUFLM29CLE9BQ1AsTUFBTSxJQUFJNlMsTUFBTSxpRUFBaUU4VixFQUFLM29CLFdBRXhGLEdBQXVCLElBQW5CMm9CLEVBQUssR0FBRzNvQixRQUFtQyxJQUFuQjJvQixFQUFLLEdBQUczb0IsT0FDbEMsTUFBTSxJQUFJNlMsTUFBTSw4Q0FFbEIsTUFBTWlXLEVBQVlILEVBQUssR0FBR0ksV0FBVyxHQUMvQkMsRUFBVUwsRUFBSyxHQUFHSSxXQUFXLEdBQ25DLEdBQUlDLEVBQVVGLEVBQ1osTUFBTSxJQUFJalcsTUFBTSwwQ0FFbEIsSUFBSyxJQUFJb1csRUFBS0gsRUFBV0ksRUFBS0YsRUFBU0MsR0FBTUMsRUFBSUQsSUFDL0NQLEVBQU9qdEIsS0FBSzB0QixPQUFPQyxhQUFhSCxHQUVwQyxNQUNFUCxFQUFPanRCLFFBQVFtdEIsTUFBTXJTLEtBQUtvUyxHQUU5QixDQUNBLEdBQXNCLElBQWxCRCxFQUFPMW9CLE9BQ1QsTUFBTSxJQUFJNlMsTUFBTSxzREFFbEIsT0FBTzZWLENBQ1QsQ0QyR3NCVyxDQUFrQjN3QixFQUFRK2pCLE9BSTVDLE9BSEFjLEVBQUtzQyxpQkFBaUI0SSxFQUFValYsS0FBSyxLQUNyQ29VLEVBQUEsRUFBTTl1QixJQUFJLEdBQUcrRCxXQUFlMGdCLEdBQzVCQSxFQUFLeUssS0FBSyxXQUFXLElBQU1KLEVBQUEsRUFBTTlzQixPQUFPLEdBQUcrQixjQUNwQzBnQixDQUNULENBS0EsU0FBQStMLENBQVV6c0IsR0FDUixNQUFNMHNCLEVBQVcsR0FBRzFzQixXQUNkMGdCLEVBQU9xSyxFQUFBLEVBQU10dUIsSUFBSWl3QixHQUNuQmhNLEdBQ0ZBLEVBQUtsakIsU0FFVCxDQVFBLG1CQUFBbXVCLENBQW9CbGtCLEdBQ2xCLFFBQVFBLEVBQU1nYixTQUFhaGIsRUFBTStjLFlBQXlDLElBQTNCL2MsRUFBTStjLFdBQVc3UCxPQUFpQmxOLEVBQU0yYSxNQUFNQyxNQUE4QixXQUF0QjVhLEVBQU0yYSxNQUFNek4sTUFDbkgsR0U5SkYsTUFBTWdZLFVBQTJCQyxFQUFBLEVBQy9CLE9BQUFwdkIsR0FDTXhCLEtBQUsrUixRQUFRMEMsY0FDZnpVLEtBQUsrUixRQUFRMEMsYUFBYWpULFVBRTVCZ2MsTUFBTWhjLFNBQ1IsRUFFRixNQUFNcXZCLEVBQ0osV0FBQW51QixDQUFZckIsR0FDVnJCLEtBQUsyQyxVQUFZdEIsRUFDakJyQixLQUFLMkMsVUFBVW11QixhQUFhQyxlQUFlL3dCLEtBQU0saUJBQ25ELENBQ0Esa0JBQUF1VCxDQUFtQnlkLEdBQ2pCLE1BQU1DLEVBQXFCanhCLEtBQUtreEIsa0JBQWtCRixHQUNsRCxPQUFPaHhCLEtBQUsyQyxVQUFVSyxZQUFZd1EsU0FBU0QsbUJBQW1CMGQsRUFDaEUsQ0FDQSxhQUFBbGQsQ0FBY2lkLEVBQVlqdUIsR0FDeEIsTUFBTWt1QixFQUFxQmp4QixLQUFLa3hCLGtCQUFrQkYsR0FDbERHLEVBQWNILEVBQVlDLEdBQ3RCRCxFQUFXSSxpQkFDYkosRUFBV0ksZ0JBQWlCLEVBQzVCcHhCLEtBQUtxeEIsZUFBZUwsRUFBWUMsSUFFbENqeEIsS0FBSzJDLFVBQVVLLFlBQVl3USxTQUFTTyxjQUFja2QsRUFBb0JsdUIsR0FDbEVrdUIsRUFBbUJsZixRQUFRMEMsY0FDN0J6VSxLQUFLc3hCLHFCQUFxQk4sRUFFOUIsQ0FDQSxnQkFBQTdjLENBQWlCNmMsR0FDZixNQUFNQyxFQUFxQmp4QixLQUFLa3hCLGtCQUFrQkYsR0FDbERHLEVBQWNILEVBQVlDLEdBQzFCanhCLEtBQUsyQyxVQUFVSyxZQUFZd1EsU0FBU1csaUJBQWlCOGMsR0FDakRBLEVBQW1CbGYsUUFBUTBDLGNBQzdCelUsS0FBS3N4QixxQkFBcUJOLEVBRTlCLENBQ0EsY0FBQUssQ0FBZUwsRUFBWU8sR0FDekIsTUFBTSxRQUFFeGYsR0FBWXdmLEVBQ2RqQyxFQUFhakIsRUFBa0JLLFFBQVFzQyxFQUFXekYsS0FBTXlGLEVBQVd0SyxRQUN6RTNVLEVBQVFsSSxRQUM4QixTQUFsQ3lsQixFQUFXbEwsY0FBY3hnQixPQUN0Qm1PLEVBQVEwQyxlQUNYMUMsRUFBUTBDLGFBQWUsSUFBSTBPLEVBQVVuakIsS0FBSzJDLFVBQVU2dUIsT0FBT0Msd0JBRy9ELE1BQU03TixFQUFRa0QsRUFBQSxFQUFrQkksa0JBQWtCOEosRUFBV3pGLE1BQ3ZEOWYsRUFBUXVsQixFQUFXdEssT0FDekIsSUFBSWlCLEVBQVcySCxFQUFXbkwsZUFDMUIsTUFBTXVOLEVBQW1CNUYsRUFBb0JsSSxFQUFPblksRUFBTzZqQixHQUFZLEdBQ2pFN2dCLEVBQVVoRCxFQUFNZ0QsUUFDaEJ4RCxFQUFReW1CLEVBQWlCem1CLE1BQy9CLElBQUk4VixFQUFLMlEsRUFBaUI1d0IsTUFDdEJrZ0IsRUFBSzBRLEVBQWlCM3dCLE9BQVMyd0IsRUFBaUI5cEIsUUFDaEQ2RCxFQUFNZ2IsVUFDUjFGLEdBQU10VixFQUFNZ2IsUUFBUTNsQixNQUFRbUssRUFDNUIrVixHQUFNdlYsRUFBTWdiLFFBQVEzbEIsTUFBUW1LLEdBRTlCOEcsRUFBUTVHLFdBQVc2bEIsRUFBV1csUUFBUUMsR0FBSzdRLEVBQUt0UyxHQUFVdWlCLEVBQVdXLFFBQVFFLEdBQUs3USxFQUFLdlMsR0FBU3hELE1BQU1BLEVBQU9BLEdBQzdHLE1BQU02bUIsRUFBT3hDLEVBQVcvSyxnQkFBa0I5WSxFQUFNMmEsTUFBTXpOLE1BQVEsU0FDOUQsSUFBSXFMLEVBQVdzTCxFQUFXdkwsWUFBWUMsU0FDbENILEVBQWF5TCxFQUFXekwsV0FDeEJwWSxFQUFNb1ksYUFDUkcsRUFBV3ZZLEVBQU11WSxTQUFXL1ksRUFDNUI0WSxFQUFhcFksRUFBTW9ZLFdBQWE1WSxHQUVsQyxJQUFJOG1CLEdBQXNCbE8sRUFBYUcsR0FBWSxFQUMvQytOLEVBQXFCekMsRUFBV25MLGVBQWlCLElBQ25ENE4sRUFBcUIsR0FFdkIsSUFBSyxJQUFJdmtCLEVBQUksRUFBR0EsRUFBSWtrQixFQUFpQnpGLE1BQU05a0IsT0FBUXFHLElBQUssQ0FDdEQsTUFBTXFnQixFQUFPNkQsRUFBaUJ6RixNQUFNemUsR0FDcEMsSUFBSyxJQUFJeU0sRUFBSSxFQUFHQSxFQUFJNFQsRUFBSzNCLGNBQWMva0IsT0FBUThTLElBQUssQ0FDbEQsTUFBTWtOLEVBQU8wRyxFQUFLakssTUFBTTNKLEdBQ2xCdVQsRUFBVzhCLEVBQVcxTCxNQUFNdUQsR0FDbEMsR0FBSXFHLEdBQVV0bEIsUUFBUyxDQUNyQixNQUFNQSxFQUFVc2xCLEVBQVN0bEIsUUFDekI2SixFQUFRN0osUUFDTkEsRUFDQTRwQixHQUFjLFFBQ2R4b0IsS0FBSzBvQixNQUFNbkUsRUFBSzNCLGNBQWNqUyxHQUFLdVQsRUFBUzVFLFNBQzVDdGYsS0FBSzBvQixNQUFNckssRUFBVzZGLEVBQVMzRSxRQUFVa0osR0FDekM3cEIsRUFBUWdELEtBQUtwSyxNQUNib0gsRUFBUWdELEtBQUtuSyxPQUVqQixDQUNGLENBQ0E0bUIsR0FBWTlELENBQ2QsQ0FDRixDQUNBLGlCQUFBcU4sQ0FBa0JGLEdBQ2hCLE9BQU9BLEVBQVd0ZCxTQUFTMVQsS0FBSzJDLFVBQVU0UyxNQUFRdlYsS0FBS2l5QixZQUFZakIsRUFDckUsQ0FDQSxXQUFBaUIsQ0FBWWpCLEdBQ1YsTUFBTWtCLEVBQWtCLElBQUl2QixFQUc1QixPQUZBSyxFQUFXdGQsU0FBUzFULEtBQUsyQyxVQUFVNFMsS0FBTzJjLEVBQzFDbHlCLEtBQUtxeEIsZUFBZUwsRUFBWWtCLEdBQ3pCQSxDQUNULENBQ0Esb0JBQUFaLENBQXFCTixHQUNuQixNQUFNamYsRUFBVS9SLEtBQUtreEIsa0JBQWtCRixHQUFZamYsUUFDN0MrUixFQUFha04sRUFBV3RLLE9BQU81QyxXQUMvQnNMLEVBQWNMLEVBQUEsRUFBTXR1QixJQUFJLEdBQUdxakIsYUFDM0IsRUFBRW5ELEVBQUMsRUFBRUMsRUFBQyxFQUFFQyxFQUFDLEVBQUVDLEdBQU1rUSxFQUFXbGMsZUFDNUJxZCxFQUFLN29CLEtBQUs4b0IsS0FBS3pSLEVBQUlBLEVBQUlDLEVBQUlBLEdBQzNCeVIsRUFBSy9vQixLQUFLOG9CLEtBQUt2UixFQUFJQSxFQUFJQyxFQUFJQSxHQUMzQndSLEdBQWNocEIsS0FBS2lwQixJQUFJSixHQUFNN29CLEtBQUtpcEIsSUFBSUYsSUFBTyxFQUM3Q3hLLEVBQVl1SCxFQUFZM0sscUJBQXVCdU0sRUFBV3RLLE9BQU8xQyxTQUNqRXlFLEVBQVc2SixFQUFhbEQsRUFBWWhMLGNBQWNDLE9BQVMsRUFBSXdELEdBQ3JFOVYsRUFBUTBDLGFBQWFHLFVBQVVELGNBQWNwSSxTQUFTOFcsVUFBWW9GLENBQ3BFLENBQ0EsT0FBQWpuQixHQUNFeEIsS0FBSzJDLFVBQVksSUFDbkIsRUFXRixTQUFTd3VCLEVBQWNydUIsRUFBVzB2QixHQUNoQ0EsRUFBTTFkLGVBQWlCaFMsRUFBVWdTLGVBQ2pDMGQsRUFBTXZkLGdCQUFrQm5TLEVBQVVtUyxnQkFDbEN1ZCxFQUFNQyxXQUFhM3ZCLEVBQVUydkIsV0FDN0JELEVBQU05ZCxlQUFpQjVSLEVBQVU0UixlQUNqQzhkLEVBQU05a0Isb0JBQXNCNUssRUFBVTRLLG9CQUN0QzhrQixFQUFNMWQsZUFBaUJoUyxFQUFVZ1MsZUFDakMwZCxFQUFNRSxtQkFBcUI1dkIsRUFBVTR2QixtQkFDckNGLEVBQU1HLFdBQWE3dkIsRUFBVTZ2QixXQUM3QkgsRUFBTXhkLGFBQWVsUyxFQUFVa1MsWUFDakMsQ0FsQkE2YixFQUFlcHZCLFVBQVksQ0FDekJtQyxLQUFNLENBQ0osS0FBY0MsV0FDZCxLQUFjQyxZQUNkLEtBQWNDLGFBRWhCQyxLQUFNLGNDL0hSLEtBQVc5QixJQUFJMnVCLEUsNkRDRGYsTUFBTStCLFVBQTBCL1AsRUFBQSxFQUs5QixXQUFBbmdCLENBQVlyQixHQUNWbWMsUUFDQXhkLEtBQUs2eUIsbUJBQW9CLEVBQ3pCN3lCLEtBQUsyQyxVQUFZdEIsRUFDakJBLEVBQVNnUyxRQUFReWYsaUJBQWlCNXdCLElBQUlsQyxLQUN4QyxDQUVBLGdCQUFBOHlCLEdBQ0UsTUFBTXZILEVBQU92ckIsS0FBS3lOLFdBQ2Q4ZCxFQUFLd0gsaUJBQ1B4SCxFQUFLeUgsY0FFVCxDQUVBLE9BQUF4eEIsR0FDRXhCLEtBQUsyQyxVQUFVc3dCLFNBQVNDLHFCQUFxQmx6QixLQUFLbXpCLGdCQUNsRG56QixLQUFLbXpCLGVBQWlCLEtBQ3RCbnpCLEtBQUsyQyxVQUFZLElBQ25CLEVDcEJGLE1BQU15d0IsRUFDSixXQUFBMXdCLENBQVlyQixHQUNWckIsS0FBSzJDLFVBQVl0QixDQUNuQixDQUNBLGtCQUFBa1MsQ0FBbUIwZixHQUNqQixPQUFPQSxFQUFTN0IsY0FDbEIsQ0FDQSxhQUFBcmQsQ0FBY2tmLEVBQVVsd0IsR0FDdEIsTUFBTXN3QixFQUFvQnJ6QixLQUFLc3pCLFlBQVlMLEdBQ3ZDQSxFQUFTN0IsaUJBQ1hweEIsS0FBS3V6QixlQUFlTixHQUFVTyxPQUFPQyxJQUNuQ0MsUUFBUUMsTUFBTUYsRUFBRSxJQUVsQlIsRUFBUzdCLGdCQUFpQixHQUMxQixFQUFBd0MsRUFBQSxHQUFpQlAsRUFBbUJKLElBRXRDanpCLEtBQUsyQyxVQUFVSyxZQUFZQyxNQUFNcVMsV0FBVytkLEVBQW1CdHdCLEVBQ2pFLENBQ0EsZ0JBQUFvUixDQUFpQjhlLEdBQ2YsTUFBTUksRUFBb0JyekIsS0FBS3N6QixZQUFZTCxHQUMzQ0ksRUFBa0JoZixTQUFTQyxjQUFjK2UsRUFDM0MsQ0FDQSxvQkFBTUUsQ0FBZU4sR0FDbkJBLEVBQVM3QixnQkFBaUIsRUFDMUIsTUFBTWlDLEVBQW9CcnpCLEtBQUtzekIsWUFBWUwsR0FDM0MsR0FBSUksRUFBa0JSLGtCQUNwQixPQUNFUSxFQUFrQkYsaUJBQ3BCbnpCLEtBQUsyQyxVQUFVc3dCLFNBQVNDLHFCQUFxQkcsRUFBa0JGLGdCQUMvREUsRUFBa0JGLGVBQWlCLE1BRXJDRSxFQUFrQlIsbUJBQW9CLEVBQ3RDSSxFQUFTNXBCLFlBQWM0cEIsRUFBU0YsZ0JBQWtCL3lCLEtBQUsyQyxVQUFVcUUsV0FBYWlzQixFQUFTanNCLFdBQ3ZGLE1BQU1tc0IsRUFBaUJuekIsS0FBSzJDLFVBQVVzd0IsU0FBU1ksa0JBQWtCWixHQUNqRUksRUFBa0JGLGVBQWlCQSxFQUNuQ0UsRUFBa0JuckIsY0FBZ0JpckIsRUFDbEMsTUFBTXZvQixFQUFjcW9CLEVBQVNyb0IsYUFBZXFvQixFQUFTcG9CLGtCQUNqREQsSUFDRkEsRUFBWWtwQixvQkFBcUIsR0FFbkNULEVBQWtCUixtQkFBb0IsR0FDdEMsRUFBQWUsRUFBQSxHQUFpQlAsRUFBbUJKLEVBQ3RDLENBQ0EsV0FBQUssQ0FBWUwsR0FDVixPQUFPQSxFQUFTdmYsU0FBUzFULEtBQUsyQyxVQUFVNFMsTUFBUXZWLEtBQUtpeUIsWUFBWWdCLEVBQ25FLENBQ0EsV0FBQWhCLENBQVlnQixHQUNWLE1BQU1JLEVBQW9CLElBQUlULEVBQWtCNXlCLEtBQUsyQyxXQVFyRCxPQVBBMHdCLEVBQWtCNWxCLFdBQWF3bEIsRUFDL0JJLEVBQWtCNWIsVUFBWXdiLEVBQVNuZSxlQUN2Q3VlLEVBQWtCbnJCLFFBQVVNLEVBQUEsRUFBUUMsTUFDcEM0cUIsRUFBa0JwdUIsT0FBUyxDQUFFNEMsS0FBTSxFQUFHa3NCLEtBQU0sRUFBR2pzQixLQUFNLEVBQUdrc0IsS0FBTSxHQUM5RFgsRUFBa0I1ZCxZQUFjelYsS0FBSzJDLFVBQVVxUyxhQUFlaWUsRUFBU2plLGFBQ3ZFaWUsRUFBUzVwQixZQUFjNHBCLEVBQVNGLGdCQUFrQi95QixLQUFLMkMsVUFBVXFFLFdBQWFpc0IsRUFBU2pzQixXQUN2RmlzQixFQUFTdmYsU0FBUzFULEtBQUsyQyxVQUFVNFMsS0FBTzhkLEVBQ2pDQSxDQUNULENBQ0EsT0FBQTd4QixHQUNFeEIsS0FBSzJDLFVBQVksSUFDbkIsRUFHRnl3QixFQUFhM3hCLFVBQVksQ0FDdkJtQyxLQUFNLENBQ0osS0FBY0MsV0FDZCxLQUFjQyxZQUNkLEtBQWNDLGFBRWhCQyxLQUFNLFkseUVDdkVSLE1BQU1pd0IsRUFBUSw2QkFDUkMsRUFBVSwrQkFDaEIsTUFBTUMsRUFDSixXQUFBenhCLEdBQ0UxQyxLQUFLbzBCLFFBQVVDLFNBQVNDLGdCQUFnQkwsRUFBTyxPQUMvQ2owQixLQUFLdTBCLGNBQWdCRixTQUFTQyxnQkFBZ0JMLEVBQU8saUJBQ3JEajBCLEtBQUt3MEIsV0FBYUgsU0FBU0MsZ0JBQWdCSixFQUFTLE9BQ3BEbDBCLEtBQUt5MEIsYUFBZUosU0FBU0MsZ0JBQWdCSixFQUFTLFNBQ3RELE1BQU0sY0FBRUssRUFBYSxRQUFFSCxFQUFPLGFBQUVLLEVBQVksV0FBRUQsR0FBZXgwQixLQUM3RHUwQixFQUFjRyxhQUFhLFFBQVMsU0FDcENILEVBQWNHLGFBQWEsU0FBVSxTQUNyQ0gsRUFBYzlvQixNQUFNa3BCLFNBQVcsU0FDL0JQLEVBQVFRLFlBQVlMLEdBQ3BCQSxFQUFjSyxZQUFZSCxHQUMxQkYsRUFBY0ssWUFBWUosR0FDMUJ4MEIsS0FBSzYwQixNQUFRLElBQVdwMEIsTUFBTXEwQixhQUNoQyxFLGNDZkYsTUFBTUMsRUFBd0MsSUFBSUMsSUNEbEQsSUFBSUMsRUNjSixNQUFNQyxFQUNKLFdBQUF4eUIsQ0FBWXJCLEdBQ1ZyQixLQUFLMkMsVUFBWXRCLEVBQ2pCckIsS0FBS20xQixjQUFnQjl6QixFQUFTdUMsT0FBUyxJQUFhd3hCLE1BQ3RELENBS0EsVUFBQUMsQ0FBV3gxQixHQUNULE9BQU9HLEtBQUs2ekIsa0JBQWtCaDBCLEVBQ2hDLENBQ0EsaUJBQUFnMEIsQ0FBa0JoMEIsR0FDaEIsT0FBT0csS0FBS3MxQixxQkFBcUJ6MUIsRUFDbkMsQ0FDQSwwQkFBTXkxQixDQUFxQnoxQixHQUN6QixNQUFNLEtBQUUwckIsRUFBSSxNQUFFOWYsRUFBSyxXQUFFekUsRUFBVSxhQUFFNGYsR0FBaUIvbUIsRUFDNUMwMUIsRUFBZSxJQUFROTBCLElBQUkwekIsR0FDM0JxQixFQ2xDVixTQUE2QmpLLEVBQU05ZixHQUNqQyxNQUFNcVksRUFBYXJZLEVBQU1xWSxXQUNuQjBSLEVBQWUsR0FDZkMsRUFBUyxDQUFDLEVBRVZDLEVBQVVuSyxFQUFLb0ssTUFEUCwyQkFFZCxTQUFTQyxFQUFjQyxHQUNoQkosRUFBT0ksS0FDVkwsRUFBYTV5QixLQUFLaXpCLEdBQ2xCSixFQUFPSSxJQUFlLEVBRTFCLENBQ0EsR0FBSTlGLE1BQU1DLFFBQVFsTSxHQUNoQixJQUFLLElBQUl0VyxFQUFJLEVBQUdBLEVBQUlzVyxFQUFXM2MsT0FBUXFHLElBQ3JDb29CLEVBQWM5UixFQUFXdFcsU0FHM0Jvb0IsRUFBYzlSLEdBRVo0UixHQUNGQSxFQUFRMWlCLFNBQVMyaUIsSUFFZkMsRUFEb0JELEVBQU1HLE1BQU0sS0FBSyxHQUFHQyxPQUNkLElBRzlCLElBQUssTUFBTXZvQixLQUFLL0IsRUFBTXVxQixVQUVwQkosRUFEb0JucUIsRUFBTXVxQixVQUFVeG9CLEdBQUdzVyxZQUd6QyxPQUFPMFIsQ0FDVCxDREl5QlMsQ0FBb0IxSyxFQUFNOWYsR0FDekN5cUIsUUYvQlZDLGVBQTBCWCxHQUN4QixNQUFNWSxFQUFlWixFQUFhN3hCLFFBQVFtZ0IsR0FBZWlMLEVBQUEsRUFBTUMsSUFBSSxHQUFHbEwsZUFBdUJwTyxLQUFLb08sSUFDaEcsSUFBS2lSLEVBQXNCL0YsSUFBSWxMLEdBQWEsQ0FDMUMsTUFBTSxRQUFFdVMsR0FBWXRILEVBQUEsRUFBTXR1QixJQUFJLEdBQUdxakIsYUFDM0J3UyxFQUFXLEdBQ2pCRCxFQUFRcmpCLFNBQVN1akIsSUFDZixNQUFNQyxFQUFNRCxFQUFNQyxJQUVaN2pCLEVBRFE0akIsRUFBTUUsTUFDRi9nQixLQUFLZ2hCLElBQVMsQ0FBR0MsT0FBUUQsRUFBS0MsT0FBUWxyQixNQUFPaXJCLEVBQUtqckIsVUFDcEU2cUIsRUFBUzF6QixRQUNKK1AsRUFBSStDLEtBQ0pqSyxHSWJiMHFCLGVBQTJCMXFCLEVBQU8rcUIsR0FDaEMsTUFBTUksUUNEUlQsZUFBZ0NLLEdBQzlCLE1BQU1LLFFBQWlCLElBQVdwMkIsTUFBTXEyQixNQUFNTixHQUN4Q08sUUFBYUYsRUFBU0UsT0FDdEJDLEVBQVMsSUFBSUMsV0FNbkIsYUFMc0IsSUFBSUMsU0FBUSxDQUFDQyxFQUFTQyxLQUMxQ0osRUFBT0ssVUFBWSxJQUFNRixFQUFRSCxFQUFPbkgsUUFDeENtSCxFQUFPTSxRQUFVRixFQUNqQkosRUFBT08sY0FBY1IsRUFBSyxHQUc5QixDRFR3QlMsQ0FBaUJoQixHQUN2QyxNQUFPLHVDQUNlL3FCLEVBQU1xWSxzQ0FDUHJZLEVBQU1nc0Isb0NBQ1Boc0IsRUFBTTJjLGlDQUNSd08sYUFFcEIsQ0pLdUJjLENBQ1QsQ0FDRUQsV0FBWWhzQixFQUFNa3JCLE9BQ2xCdk8sVUFBVzNjLEVBQU1BLE1BQ2pCcVksY0FFRjBTLEtBR0wsSUFFSHpCLEVBQXNCOTBCLElBQ3BCNmpCLEVBQ0FvVCxRQUFRUyxJQUFJckIsR0FBVXNCLE1BQU1DLEdBQVFBLEVBQUlsZCxLQUFLLFFBRWpELENBQ0EsT0FBT29hLEVBQXNCdDBCLElBQUlxakIsRUFBVyxJQUU5QyxhQUFjb1QsUUFBUVMsSUFBSXZCLElBQWV6YixLQUFLLEtBQ2hELENFQzBCbWQsQ0FBV3RDLEdBQzNCdUMsRURqQ1YsU0FBeUJ4TSxFQUFNOWYsRUFBT3VzQixFQUFjQyxHQUNsREEsSUFBdUJBLEVBQXFCaEQsSUFBMkJBLEVBQXlCLElBQUlkLElBQ3BHLE1BQU0sV0FBRUssRUFBVSxhQUFFQyxFQUFZLFFBQUVMLEdBQVk2RCxFQUM5Q3pELEVBQVcwRCxVQUFZLFVBQVV6c0IsRUFBTTBzQiwyQ0FBMkM1TSxVQUNsRmlKLEVBQVdFLGFBQWEsUUFBUyxxREFDN0JzRCxJQUNGdkQsRUFBYTJELFlBQWNKLEdBRTdCM0QsU0FBU2dFLEtBQUt6RCxZQUFZUixHQUMxQixNQUFNa0UsRUFBZ0I5RCxFQUFXK0Qsd0JBQ2pDbkUsRUFBUW55QixTQUNSLE1BQU11MkIsRUFBZ0MsRUFBaEIvc0IsRUFBTWdELFFBQzVCLE1BQU8sQ0FDTDNOLE1BQU93M0IsRUFBY3gzQixNQUFRMDNCLEVBQzdCejNCLE9BQVF1M0IsRUFBY3YzQixPQUFTeTNCLEVBRW5DLENDaUJxQkMsQ0FBZ0JsTixFQUFNOWYsRUFBT3lxQixFQUFTWCxHQUNqRHowQixFQUFRd0ksS0FBS0UsS0FBS0YsS0FBS0UsS0FBS0YsS0FBSytHLElBQUksRUFBRzBuQixFQUFTajNCLE9BQXlCLEVBQWhCMkssRUFBTWdELFNBQWV6SCxHQUMvRWpHLEVBQVN1SSxLQUFLRSxLQUFLRixLQUFLRSxLQUFLRixLQUFLK0csSUFBSSxFQUFHMG5CLEVBQVNoM0IsUUFBMEIsRUFBaEIwSyxFQUFNZ0QsU0FBZXpILEdBQ2pGNnRCLEVBQVFVLEVBQWFWLE1BRTNCQSxFQUFNL3pCLE1BRGUsR0FDRSxFQUFSQSxHQUNmK3pCLEVBQU05ekIsT0FGZSxHQUVJLEVBQVRBLEdBQ2hCLE1BQU0yM0IsRUkzQ1YsU0FBbUJuTixFQUFNOWYsRUFBT3pFLEVBQVlrdkIsRUFBU1gsR0FDbkQsTUFBTSxXQUFFZixFQUFVLGFBQUVDLEVBQVksUUFBRUwsR0FBWW1CLEVBQzlDZixFQUFXMEQsVUFBWSxVQUFVenNCLEVBQU0wc0IsMkNBQTJDNU0sVUFDbEZpSixFQUFXRSxhQUFhLFFBQVMsb0JBQW9CMXRCLHdEQUNyRHl0QixFQUFhMkQsWUFBY2xDLEVBQzNCLE1BQU0sTUFBRXAxQixFQUFLLE9BQUVDLEdBQVd3MEIsRUFBYVYsTUFHdkMsT0FGQVQsRUFBUU0sYUFBYSxRQUFTNXpCLEVBQU1xUSxZQUNwQ2lqQixFQUFRTSxhQUFhLFNBQVUzekIsRUFBT29RLGFBQy9CLElBQUl3bkIsZUFBZ0JDLGtCQUFrQnhFLEVBQy9DLENKa0NtQnlFLENBQVV0TixFQUFNOWYsRUFBT3pFLEVBQVlrdkIsRUFBU1gsU0szQy9ELFNBQXNCVixFQUFPMkIsRUFBS3NDLEdBQ2hDLE9BQU8sSUFBSTVCLFNBQVFmLE1BQU9nQixJQUNwQjJCLFNBQ0ksSUFBSTVCLFNBQVM2QixHQUFhQyxXQUFXRCxFQUFVLE9BRXZEbEUsRUFBTW9FLE9BQVMsS0FDYjlCLEdBQVMsRUFFWHRDLEVBQU1xRSxJQUFNLG1DQUFtQ0MsbUJBQW1CM0MsS0FDbEUzQixFQUFNdUUsWUFBYyxXQUFXLEdBRW5DLENMaUNVQyxDQUFheEUsRUFBTzZELEVNMUM5QixXQUNFLE1BQU0sVUFBRVksR0FBYyxJQUFXNzRCLE1BQU04NEIsZUFDdkMsTUFBTyxpQ0FBaUM5TCxLQUFLNkwsRUFDL0MsQ051Q3NDRSxJQUFjaEUsRUFBYXJ1QixPQUFTLEdBQ3RFLE1BQU00RixFQUFXOG5CLEVBQ2pCLElBQUl4aUIsRUFDQXJTLEtBQUttMUIsZ0JBQ1A5aUIsRU85Q04sU0FBcUN3aUIsRUFBTzd0QixHQUMxQyxNQUFNcUwsRUFBbUJkLEVBQUEsRUFBV1UsMkJBQ2xDNGlCLEVBQU0vekIsTUFDTit6QixFQUFNOXpCLE9BQ05pRyxJQUVJLFFBQUUrSyxHQUFZTSxFQUdwQixPQUZBTixFQUFRUyxVQUFVLEVBQUcsRUFBR3FpQixFQUFNL3pCLE1BQU8rekIsRUFBTTl6QixRQUMzQ2dSLEVBQVEwbkIsVUFBVTVFLEVBQU8sRUFBRyxHQUNyQnhpQixDQUNULENQb0N5QnFuQixDQUE0QjdFLEVBQU83dEIsSUFFeEQsTUFBTWtCLEdBQVUsRUFBQXl4QixFQUFBLEdBQ2R0bkIsRUFBbUJBLEVBQWlCUixPQUFTOUUsRUFDN0M4bkIsRUFBTS96QixNQVphLEVBYW5CK3pCLEVBQU05ekIsT0FiYSxFQWNuQmlHLEdBU0YsT0FQSTRmLElBQ0YxZSxFQUFRcEIsT0FBTzJFLE1BQVFtYixHQUNyQjVtQixLQUFLbTFCLGdCQUNQbjFCLEtBQUsyQyxVQUFVdUYsUUFBUTB4QixXQUFXMXhCLEVBQVFwQixRQUMxQ3lLLEVBQUEsRUFBV2UsdUJBQXVCRCxJQUVwQyxJQUFRWSxPQUFPc2lCLEdBQ1JydEIsQ0FDVCxDQUNBLG9CQUFBZ3JCLENBQXFCQyxHQUNuQkEsRUFBZXlFLE1BQU0xdkIsSUFDbkJsSSxLQUFLNjVCLFNBQVMzeEIsRUFBUSxJQUNyQnNyQixPQUFNLE1BQ1AsRUFBQXhrQixFQUFBLEdBQUssMENBQTBDLEdBRW5ELENBQ0EsUUFBQTZxQixDQUFTM3hCLEdBQ1BJLEVBQUEsRUFBWVUsY0FBY2QsR0FBUyxHQUNuQ0EsRUFBUXBCLE9BQU9pRyxTQUFXLEtBQzFCN0UsRUFBUXBCLE9BQU9nekIsZUFBaUIsU0FDbEMsQ0FDQSxPQUFBdDRCLEdBQ0V4QixLQUFLMkMsVUFBWSxJQUNuQixFQUdGdXlCLEVBQWV6ekIsVUFBWSxDQUN6Qm1DLEtBQU0sQ0FDSixLQUFjeUwsWUFDZCxLQUFjQyxhQUNkLEtBQWN5cUIsY0FFaEIvMUIsS0FBTSxZUXBGUixLQUFXOUIsSUFBSWd6QixHQUNmLEtBQVdoekIsSUFBSWt4QixFLG9IQ0hmLE1BQU00RyxFQUF5QixDQUM3QixRQUNBLGFBQ0EsZUFDQSxjQUNBLGFBQ0EsVUFDQSxnQkFDQSxhQUNBLFVBQ0EsZUFDQSxPQUNBLGFBQ0EsV0FDQSxnQkFDQSxhQUNBLFlBQ0EsWUF1QkYsU0FBU0MsRUFBZ0J6UCxFQUFXcFksRUFBS2hELEdBQ3ZDLE9BQUtvYixHQUVMcFksRUFBSWhELEtBQVdvYixFQUFVN1IsTUFDekJ2RyxFQUFJaEQsS0FBV29iLEVBQVU1WCxNQUN6QlIsRUFBSWhELEtBQVdvYixFQUFVbkUsTUFBTXVJLFNBQ3hCeGYsR0FKRUEsQ0FLWCxDQ3ZDQSxNQUFNOHFCLEVBQWEsTUFBTUEsVUFBbUIsSUFDMUMsV0FBQXgzQixDQUFZK0ksRUFBUSxDQUFDLEdBQ25CK1IsUUF3YUosU0FBNEIvUixHQUMxQixNQUFNMHVCLEVBQVcxdUIsRUFDakIsR0FBbUMsa0JBQXhCMHVCLEVBQVMzUixZQUE0QjJSLEVBQVMzUixXQUFZLENBQ25FLE1BQU00UixFQUFXeE8sRUFBVXlPLGtCQUMzQjV1QixFQUFNK2MsV0FBYSxDQUNqQjVWLE1BQU91bkIsRUFBU0csaUJBQW1CRixFQUFTeG5CLE1BQzVDd1ksTUFBTytPLEVBQVNJLGlCQUFtQkgsRUFBU2hQLE1BQzVDTixLQUFNcVAsRUFBU3RQLGdCQUFrQnVQLEVBQVN0UCxLQUMxQ25TLE1BQU93aEIsRUFBU0ssaUJBQW1CSixFQUFTemhCLE1BQzVDOFAsU0FBVTBSLEVBQVNwUCxvQkFBc0JxUCxFQUFTM1IsU0FFdEQsQ0FDQSxRQUFpQyxJQUE3QjBSLEVBQVNqUSxnQkFBNEIsRUFDdkMsRUFBQXZGLEVBQUEsSUFBWSxLQUFRLDJDQUNwQixNQUFNaE0sRUFBUXdoQixFQUFTbFEsT0FDdkIsSUFBSXdRLEVBQU0sQ0FBQyxFQUNYLEdBQUl0YyxFQUFBLEVBQU11YyxZQUFZL2hCLEdBQ3BCOGhCLEVBQUk5aEIsTUFBUUEsT0FDUCxHQUFJQSxhQUFpQmdpQixFQUFBLEdBQWdCaGlCLGFBQWlCaWlCLEVBQUEsRUFDM0RILEVBQUlwVSxLQUFPMU4sTUFDTixLQUFJN1ksT0FBTys2QixlQUFlQyxLQUFLbmlCLEVBQU8sV0FBWTdZLE9BQU8rNkIsZUFBZUMsS0FBS25pQixFQUFPLFFBR3pGLE1BQU0sSUFBSXFCLE1BQU0seUJBRmhCeWdCLEVBQU05aEIsQ0FHUixDQUNBbE4sRUFBTXdlLE9BQVMsSUFDVndRLEVBQ0gzNUIsTUFBT3E1QixFQUFTalEsZ0JBRXBCLENBQ0EsR0FBSTZGLE1BQU1DLFFBQVFtSyxFQUFTWSxtQkFBb0IsQ0FFN0MsSUFEQSxFQUFBcFcsRUFBQSxJQUFZLEtBQVEsaUVBQ2ZvTCxNQUFNQyxRQUFRbUssRUFBUzlULE9BQWtDLElBQXpCOFQsRUFBUzlULEtBQUtsZixPQUNqRCxNQUFNLElBQUk2UyxNQUFNLHNFQUVkbWdCLEVBQVM5VCxLQUFLbGYsU0FBV2d6QixFQUFTWSxrQkFBa0I1ekIsU0FDdEQsRUFBQTZILEVBQUEsR0FBSywyRUFFUCxNQUFNZ3NCLEVBQWUsSUFBSUwsRUFBQSxFQUFhLENBQ3BDdDRCLE1BQU8sQ0FBRWlELEVBQUcsRUFBR0MsRUFBRyxHQUNsQm9LLElBQUssQ0FBRXJLLEVBQUcsRUFBR0MsRUFBRyxHQUNoQjAxQixhQUFjLFVBRVZGLEVBQW9CWixFQUFTWSxrQkFBa0J4WixRQUMvQzJaLEVBQVFmLEVBQVM5VCxLQUFLM1EsS0FBS2lELEdBQVV3RixFQUFBLEVBQU01YixPQUFPb29CLFNBQVNoUyxHQUFPd2lCLGFBQ3hFSixFQUFrQi9uQixTQUFRLENBQUM1USxFQUFNZ04sS0FDL0I0ckIsRUFBYUksYUFBYWg1QixFQUFNODRCLEVBQU05ckIsR0FBTyxJQUUvQzNELEVBQU00YSxLQUFPLENBQ1hBLEtBQU0yVSxFQUVWLENBQ0YsQ0EzZElLLENBQW1CNXZCLEdBQ25CLE1BQU02dkIsRUFBWSxJQUFLcEIsRUFBV3FCLG9CQUFxQjl2QixHQUN2RCxJQUFLLE1BQU0yRyxLQUFPa3BCLEVBRWhCdDdCLEtBRGdCb1MsR0FDQWtwQixFQUFVbHBCLEdBRTVCcFMsS0FBS2lOLFFBQ1AsQ0FLQSxTQUFJMGdCLEdBQ0YsT0FBTzN0QixLQUFLdzdCLE1BQ2QsQ0FDQSxTQUFJN04sQ0FBTTduQixHQUNSOUYsS0FBS3c3QixPQUFTMTFCLEVBQ2Q5RixLQUFLaU4sUUFDUCxDQUVBLGNBQUk4ZixHQUNGLE9BQU8vc0IsS0FBS3k3QixXQUNkLENBQ0EsY0FBSTFPLENBQVdqbkIsR0FDYjlGLEtBQUt5N0IsWUFBYzMxQixFQUNuQjlGLEtBQUtpTixRQUNQLENBRUEsY0FBSXViLEdBQ0YsT0FBT3hvQixLQUFLMDdCLFdBQ2QsQ0FDQSxjQUFJbFQsQ0FBVzFpQixHQUVYOUYsS0FBSzA3QixZQURPLE9BQVY1MUIsR0FBbUMsaUJBQVZBLEVBQ1I5RixLQUFLMjdCLGFBQWEsSUFBS3pCLEVBQVdHLHFCQUFzQnYwQixJQUV4REEsRUFBUTlGLEtBQUsyN0IsYUFBYSxJQUFLekIsRUFBV0csb0JBQXVCLEtBRXRGcjZCLEtBQUtpTixRQUNQLENBRUEsY0FBSTZXLEdBQ0YsT0FBTzlqQixLQUFLNDdCLFdBQ2QsQ0FDQSxjQUFJOVgsQ0FBV2hlLEdBQ2I5RixLQUFLNDdCLFlBQWM5MUIsRUFDbkI5RixLQUFLaU4sUUFDUCxDQUVBLFlBQUkrVyxHQUNGLE9BQU9oa0IsS0FBSzY3QixTQUNkLENBQ0EsWUFBSTdYLENBQVNsZSxHQUVUOUYsS0FBSzY3QixVQURjLGlCQUFWLzFCLEVBQ1FnMkIsU0FBU2gyQixFQUFPLElBRWhCQSxFQUVuQjlGLEtBQUtpTixRQUNQLENBS0EsYUFBSW1iLEdBQ0YsT0FBT3BvQixLQUFLKzdCLFVBQ2QsQ0FDQSxhQUFJM1QsQ0FBVXRpQixHQUNaOUYsS0FBSys3QixXQUFhajJCLEVBQU1rMkIsY0FDeEJoOEIsS0FBS2lOLFFBQ1AsQ0FLQSxlQUFJZ3ZCLEdBQ0YsT0FBT2o4QixLQUFLazhCLFlBQ2QsQ0FDQSxlQUFJRCxDQUFZbjJCLEdBQ2Q5RixLQUFLazhCLGFBQWVwMkIsRUFDcEI5RixLQUFLaU4sUUFDUCxDQUtBLGNBQUl3cUIsR0FDRixPQUFPejNCLEtBQUttOEIsV0FDZCxDQUNBLGNBQUkxRSxDQUFXM3hCLEdBQ2I5RixLQUFLbThCLFlBQWNyMkIsRUFDbkI5RixLQUFLaU4sUUFDUCxDQUVBLFdBQUltdkIsR0FDRixPQUFPcDhCLEtBQUtxOEIsUUFDZCxDQUNBLFdBQUlELENBQVF0MkIsR0FDVjlGLEtBQUtxOEIsU0FBV3YyQixFQUNoQjlGLEtBQUtpTixRQUNQLENBRUEsaUJBQUkwZixHQUNGLE9BQU8zc0IsS0FBS3M4QixjQUNkLENBQ0EsaUJBQUkzUCxDQUFjN21CLEdBQ2hCOUYsS0FBS3M4QixlQUFpQngyQixFQUN0QjlGLEtBQUtpTixRQUNQLENBRUEsY0FBSTRXLEdBQ0YsT0FBTzdqQixLQUFLdThCLFdBQ2QsQ0FDQSxjQUFJMVksQ0FBVy9kLEdBQ2I5RixLQUFLdThCLFlBQWN6MkIsRUFDbkI5RixLQUFLaU4sUUFDUCxDQU1BLFdBQUl3QixHQUNGLE9BQU96TyxLQUFLb2xCLFFBQ2QsQ0FDQSxXQUFJM1csQ0FBUTNJLEdBQ1Y5RixLQUFLb2xCLFNBQVd0ZixFQUNoQjlGLEtBQUtpTixRQUNQLENBT0EsV0FBSWpJLEdBQ0YsT0FBT2hGLEtBQUt3OEIsUUFDZCxDQUNBLFdBQUl4M0IsQ0FBUWMsR0FDVjlGLEtBQUt3OEIsU0FBVzEyQixFQUNoQjlGLEtBQUtpTixRQUNQLENBT0EsUUFBSThvQixHQUNGLE9BQU8vMUIsS0FBS3k4QixLQUNkLENBQ0EsUUFBSTFHLENBQUtqd0IsR0FDUDlGLEtBQUt5OEIsTUFBUTMyQixFQUNiOUYsS0FBS2lOLFFBQ1AsQ0FLQSxnQkFBSStjLEdBQ0YsT0FBT2hxQixLQUFLMDhCLGFBQ2QsQ0FDQSxnQkFBSTFTLENBQWFsa0IsR0FDZjlGLEtBQUswOEIsY0FBZ0I1MkIsRUFDckI5RixLQUFLaU4sUUFDUCxDQVlBLGNBQUkwdkIsR0FDRixPQUFPMzhCLEtBQUs0OEIsV0FDZCxDQUNBLGNBQUlELENBQVc3MkIsR0FDYjlGLEtBQUs0OEIsWUFBYzkyQixFQUNuQjlGLEtBQUtpTixRQUNQLENBRUEsWUFBSStmLEdBQ0YsT0FBT2h0QixLQUFLNjhCLFNBQ2QsQ0FDQSxZQUFJN1AsQ0FBU2xuQixHQUNYOUYsS0FBSzY4QixVQUFZLzJCLEVBQ2pCOUYsS0FBS2lOLFFBQ1AsQ0FFQSxpQkFBSTRmLEdBQ0YsT0FBTzdzQixLQUFLODhCLGNBQ2QsQ0FDQSxpQkFBSWpRLENBQWMvbUIsR0FDaEI5RixLQUFLODhCLGVBQWlCaDNCLEVBQ3RCOUYsS0FBS2lOLFFBQ1AsQ0EwQkEsUUFBSW9aLEdBQ0YsT0FBT3JtQixLQUFLKzhCLGFBQ2QsQ0FDQSxRQUFJMVcsQ0FBS3ZnQixHQUNIQSxJQUFVOUYsS0FBSys4QixnQkFFbkIvOEIsS0FBSys4QixjQUFnQmozQixFQUNqQjlGLEtBQUtnOUIsYUFBYWwzQixLQUNwQjlGLEtBQUsrOEIsY0FBZ0IvOEIsS0FBSzI3QixhQUFhLElBQUtzQixFQUFBLEVBQWdCQyxvQkFBcUJwM0IsSUFBUyxLQUN4RjlGLEtBQUtvbUIsT0FBUSxPQUNYLElBQUtwbUIsS0FBSys4QixlQUNWRSxFQUFBLEVBQWdCQyxpQkFDakIsS0FHTGw5QixLQUFLb21CLE9BQVEsT0FDRCxJQUFWdGdCLEVBQWMsUUFBVUEsRUFDeEJtM0IsRUFBQSxFQUFnQkMsa0JBRWxCbDlCLEtBQUtpTixTQUNQLENBRUEsVUFBSWdkLEdBQ0YsT0FBT2pxQixLQUFLbTlCLGVBQ2QsQ0FDQSxVQUFJbFQsQ0FBT25rQixHQUNMQSxJQUFVOUYsS0FBS205QixrQkFFbkJuOUIsS0FBS205QixnQkFBa0JyM0IsRUFDbkI5RixLQUFLZzlCLGFBQWFsM0IsS0FDcEI5RixLQUFLbTlCLGdCQUFrQm45QixLQUFLMjdCLGFBQWEsSUFBS3NCLEVBQUEsRUFBZ0JHLHNCQUF1QnQzQixJQUFTLEtBQzVGOUYsS0FBS3ltQixTQUFVLE9BQ2IsSUFBS3ptQixLQUFLbTlCLGlCQUNWRixFQUFBLEVBQWdCRyxtQkFDakIsS0FHTHA5QixLQUFLeW1CLFNBQVUsT0FBYzNnQixFQUFPbTNCLEVBQUEsRUFBZ0JHLG9CQUNwRHA5QixLQUFLaU4sU0FDUCxDQUNBLFlBQUFvd0IsR0FFRSxPQURBcjlCLEtBQUtzOUIsVURqUVQsU0FBOEI3eEIsR0FDNUIsTUFBTTJHLEVBQU0sR0FDWixJQUFJaEQsRUFBUSxFQUNaLElBQUssSUFBSTVCLEVBQUksRUFBR0EsRUFBSXdzQixFQUF1Qjd5QixPQUFRcUcsSUFBSyxDQUN0RCxNQUFNK3ZCLEVBQU8sSUFBSXZELEVBQXVCeHNCLEtBQ3hDNEUsRUFBSWhELEtBQVczRCxFQUFNOHhCLEVBQ3ZCLENBS0EsT0FKQW51QixFQUFRNnFCLEVBQWdCeHVCLEVBQU0yYSxNQUFPaFUsRUFBS2hELEdBQzFDQSxFQXFCRixTQUEwQmtiLEVBQWFsWSxFQUFLaEQsR0FDMUMsT0FBS2tiLEdBRUxsYixFQUFRNnFCLEVBQWdCM1AsRUFBYWxZLEVBQUtoRCxHQUMxQ2dELEVBQUloRCxLQUFXa2IsRUFBWXhwQixNQUMzQnNSLEVBQUloRCxLQUFXa2IsRUFBWWtULFVBQzNCcHJCLEVBQUloRCxLQUFXa2IsRUFBWW1ULElBQzNCcnJCLEVBQUloRCxLQUFXa2IsRUFBWTNQLEtBQzNCdkksRUFBSWhELEtBQVdrYixFQUFZRCxXQUNwQmpiLEdBUEVBLENBUVgsQ0EvQlVzdUIsQ0FBaUJqeUIsRUFBTWdiLFFBQVNyVSxFQUFLaEQsR0FDN0NBLEVBK0JGLFNBQTBCb1osRUFBWXBXLEVBQUtoRCxHQUN6QyxPQUFLb1osR0FFTHBXLEVBQUloRCxLQUFXb1osRUFBVzVWLE1BQzFCUixFQUFJaEQsS0FBV29aLEVBQVc0QyxNQUMxQmhaLEVBQUloRCxLQUFXb1osRUFBV3NDLEtBQzFCMVksRUFBSWhELEtBQVdvWixFQUFXQyxTQUMxQnJXLEVBQUloRCxLQUFXK08sRUFBQSxFQUFNNWIsT0FBT29vQixTQUFTbkMsRUFBVzdQLE9BQU93aUIsV0FDaEQvckIsR0FORUEsQ0FPWCxDQXhDVXV1QixDQUFpQmx5QixFQUFNK2MsV0FBWXBXLEVBQUtoRCxHQUNoREEsRUFHRixTQUF1QnBLLEVBQVNvTixFQUFLaEQsR0FDbkMsSUFBS3BLLEVBQ0gsT0FBT29LLEVBQ1QsSUFBSyxNQUFNekwsS0FBVXFCLEVBQ25Cb04sRUFBSWhELEtBQVd6TCxFQUFPNFIsSUFFeEIsT0FBT25HLENBQ1QsQ0FWVXd1QixDQUFjbnlCLEVBQU16RyxRQUFTb04sRUFBS2hELEdBQ25DZ0QsRUFBSXVJLEtBQUssSUFDbEIsQ0NxUHFCa2pCLENBQXFCNzlCLE1BQy9CQSxLQUFLczlCLFNBQ2QsQ0FDQSxNQUFBcndCLEdBQ0VqTixLQUFLczlCLFVBQVksS0FDakJ0OUIsS0FBS2dsQixLQUFLLFNBQVVobEIsS0FDdEIsQ0FFQSxLQUFBaVksR0FDRSxNQUFNNmxCLEVBQWU1RCxFQUFXcUIsaUJBQ2hDLElBQUssTUFBTW5wQixLQUFPMHJCLEVBQ2hCOTlCLEtBQUtvUyxHQUFPMHJCLEVBQWExckIsRUFFN0IsQ0FFQSxZQUFJd2MsR0FDRixPQUFPNXVCLEtBQUtzOUIsV0FBYXQ5QixLQUFLcTlCLGNBQ2hDLENBS0EsS0FBQW5YLEdBQ0UsT0FBTyxJQUFJZ1UsRUFBVyxDQUNwQnZNLE1BQU8zdEIsS0FBSzJ0QixNQUNaWixXQUFZL3NCLEtBQUsrc0IsV0FDakJ2RSxXQUFZeG9CLEtBQUswN0IsWUFBYyxJQUFLMTdCLEtBQUswN0IsYUFBZ0IsS0FDekRyVixLQUFNcm1CLEtBQUtvbUIsTUFDWHRDLFdBQVk5akIsS0FBSzhqQixXQUNqQkUsU0FBVWhrQixLQUFLZ2tCLFNBQ2ZvRSxVQUFXcG9CLEtBQUtvb0IsVUFDaEI2VCxZQUFhajhCLEtBQUtpOEIsWUFDbEJ4RSxXQUFZejNCLEtBQUt5M0IsV0FDakIyRSxRQUFTcDhCLEtBQUtvOEIsUUFDZHpQLGNBQWUzc0IsS0FBSzJzQixjQUNwQjlJLFdBQVk3akIsS0FBSzZqQixXQUNqQnBWLFFBQVN6TyxLQUFLeU8sUUFDZHdiLE9BQVFqcUIsS0FBS3ltQixRQUNidUQsYUFBY2hxQixLQUFLZ3FCLGFBQ25CMlMsV0FBWTM4QixLQUFLMjhCLFdBQ2pCM1AsU0FBVWh0QixLQUFLZ3RCLFNBQ2ZILGNBQWU3c0IsS0FBSzZzQixjQUNwQjduQixRQUFTaEYsS0FBS3c4QixTQUFXLElBQUl4OEIsS0FBS3c4QixlQUFZLEdBRWxELENBT0EsZ0JBQUF1QixHQUNFLElBQUlDLEVBQWdCLEVBQ3BCLEdBQUloK0IsS0FBS3c4QixTQUNQLElBQUssSUFBSWh2QixFQUFJLEVBQUdBLEVBQUl4TixLQUFLdzhCLFNBQVNyMUIsT0FBUXFHLElBQ3hDd3dCLEdBQWlCaCtCLEtBQUt3OEIsU0FBU2h2QixHQUFHaUIsUUFHdEMsT0FBT25GLEtBQUsrRyxJQUFJclEsS0FBS29sQixTQUFVNFksRUFDakMsQ0FVQSxPQUFBeDhCLENBQVEzQixHQUFVLEdBR2hCLEdBRkFHLEtBQUtpbEIscUJBQ3FDLGtCQUFacGxCLEVBQXdCQSxFQUFVQSxHQUFTcUksUUFDckQsQ0FDbEIsTUFBTSsxQixFQUEwQyxrQkFBWnArQixFQUF3QkEsRUFBVUEsR0FBUzRuQixjQUMzRXpuQixLQUFLb21CLE9BQU9sZSxTQUNkbEksS0FBS29tQixNQUFNbGUsUUFBUTFHLFFBQVF5OEIsR0FFekJqK0IsS0FBSys4QixlQUFlNzBCLFNBQ3RCbEksS0FBSys4QixjQUFjNzBCLFFBQVExRyxRQUFReThCLEdBRWpDaitCLEtBQUt5bUIsU0FBU3ZlLFNBQ2hCbEksS0FBS3ltQixRQUFRdmUsUUFBUTFHLFFBQVF5OEIsR0FFM0JqK0IsS0FBS205QixpQkFBaUJqMUIsU0FDeEJsSSxLQUFLbTlCLGdCQUFnQmoxQixRQUFRMUcsUUFBUXk4QixFQUV6QyxDQUNBaitCLEtBQUtvbUIsTUFBUSxLQUNicG1CLEtBQUt5bUIsUUFBVSxLQUNmem1CLEtBQUt3b0IsV0FBYSxLQUNsQnhvQixLQUFLbTlCLGdCQUFrQixLQUN2Qm45QixLQUFLKzhCLGNBQWdCLElBQ3ZCLENBQ0EsWUFBQXBCLENBQWE3MUIsRUFBT280QixHQUNsQixPQUFPLElBQUlDLE1BQU1yNEIsRUFBTyxDQUN0QjdGLElBQUssQ0FBQ20rQixFQUFROWpCLEVBQVUrakIsS0FDdEJELEVBQU85akIsR0FBWStqQixFQUNuQkgsSUFBSzVqQixFQUFVK2pCLEdBQ2ZyK0IsS0FBS2lOLFVBQ0UsSUFHYixDQUNBLFlBQUErdkIsQ0FBYWwzQixHQUNYLE9BQTJCLFFBQW5CQSxHQUFTLFNBQW9CcVksRUFBQSxFQUFNdWMsWUFBWTUwQixJQUFVQSxhQUFpQjYwQixFQUFBLEdBQWdCNzBCLGFBQWlCODBCLEVBQUEsRUFDckgsR0FhRlYsRUFBV0csa0JBQW9CLENBQzdCem5CLE1BQU8sRUFDUHdZLE1BQU85aEIsS0FBS2cxQixHQUFLLEVBQ2pCeFQsS0FBTSxFQUNOblMsTUFBTyxRQUNQOFAsU0FBVSxHQWFaeVIsRUFBV3FCLGlCQUFtQixDQUM1QjVOLE1BQU8sT0FDUFosWUFBWSxFQUNadkUsV0FBWSxLQUNabkMsS0FBTSxRQUNOdkMsV0FBWSxRQUNaRSxTQUFVLEdBQ1ZvRSxVQUFXLFNBQ1g2VCxZQUFhLFNBQ2J4RSxXQUFZLFNBQ1oyRSxRQUFTLEVBQ1R6UCxjQUFlLEVBQ2Y5SSxXQUFZLEVBQ1pwVixRQUFTLEVBQ1R3YixPQUFRLEtBQ1JELGFBQWMsYUFDZCtMLE1BQU0sRUFDTjRHLFdBQVksTUFDWjNQLFVBQVUsRUFDVkgsY0FBZSxLQUVqQixJQUFJakIsRUFBWXNPLEMsMERDaGJoQixNQUFNcUUsRUFBa0IsQ0FFdEJDLG9CQUFvQixHQUVoQkMsRUFBcUIsTUFBTUEsRUFTL0IsNkNBQVdDLEdBQ1QsSUFBSTdPLEVBQVM0TyxFQUFtQkUsb0NBQ2hDLFFBQWUsSUFBWDlPLEVBQW1CLENBQ3JCLE1BQU0rTyxFQUFRLElBQVduK0IsTUFBTW8rQiw4QkFBOEJDLFVBQzdEalAsRUFBUzRPLEVBQW1CRSxvQ0FBc0Msa0JBQW1CQyxHQUFTLHNCQUF1QkEsQ0FDdkgsQ0FDQSxPQUFPL08sQ0FDVCxDQVlBLFdBQUFudEIsQ0FBWTZvQixFQUFNOWYsRUFBTzNLLEVBQU9DLEVBQVFrckIsRUFBTzhTLEVBQVlsYixFQUFZbWIsRUFBY3hULEdBQ25GeHJCLEtBQUt1ckIsS0FBT0EsRUFDWnZyQixLQUFLeUwsTUFBUUEsRUFDYnpMLEtBQUtjLE1BQVFBLEVBQ2JkLEtBQUtlLE9BQVNBLEVBQ2RmLEtBQUtpc0IsTUFBUUEsRUFDYmpzQixLQUFLKytCLFdBQWFBLEVBQ2xCLytCLEtBQUs2akIsV0FBYUEsRUFDbEI3akIsS0FBS2cvQixhQUFlQSxFQUNwQmgvQixLQUFLd3JCLGVBQWlCQSxDQUN4QixDQVNBLGtCQUFPdEQsQ0FBWXFELEVBQU8sSUFBSzlmLEVBQU9vRyxFQUFTNHNCLEVBQW1CUSxRQUFTalMsRUFBV3ZoQixFQUFNdWhCLFVBQzFGLE1BQU10SSxHQUFPLE9BQXdCalosR0FDL0IrZixFQUFpQmlULEVBQW1CMVgsWUFBWXJDLEdBQ3RCLElBQTVCOEcsRUFBZXhILFdBQ2pCd0gsRUFBZXhILFNBQVd2WSxFQUFNdVksU0FDaEN3SCxFQUFldkgsT0FBU3hZLEVBQU11WSxVQUVoQyxNQUFNalMsRUFBVTBzQixFQUFtQlMsVUFDbkNudEIsRUFBUTJTLEtBQU9BLEVBQ2YsTUFDTXVILEdBRGFlLEVBQVd5UixFQUFtQjVCLFVBQVV0UixFQUFNOWYsRUFBT29HLEdBQVUwWixHQUN6RHVLLE1BQU0sa0JBQ3pCaUosRUFBYSxJQUFJaFAsTUFBTTlELEVBQU05a0IsUUFDbkMsSUFBSTYzQixFQUFlLEVBQ25CLElBQUssSUFBSXh4QixFQUFJLEVBQUdBLEVBQUl5ZSxFQUFNOWtCLE9BQVFxRyxJQUFLLENBQ3JDLE1BQU0yYyxFQUFZc1UsRUFBbUJVLGFBQWFsVCxFQUFNemUsR0FBSS9CLEVBQU1raEIsY0FBZTVhLEdBQ2pGZ3RCLEVBQVd2eEIsR0FBSzJjLEVBQ2hCNlUsRUFBZTExQixLQUFLK0csSUFBSTJ1QixFQUFjN1UsRUFDeEMsQ0FDQSxNQUFNaVYsRUFBYzN6QixFQUFNZ2IsU0FBUzNsQixPQUFTLEVBQzVDLElBQUlBLEVBQVFrK0IsRUFBZUksRUFDdkIzekIsRUFBTStjLGFBQ1IxbkIsR0FBUzJLLEVBQU0rYyxXQUFXQyxVQUU1QixNQUFNNUUsRUFBYXBZLEVBQU1vWSxZQUFjMkgsRUFBZXhILFNBQ3RELElBQUlqakIsRUFBU3VJLEtBQUsrRyxJQUFJd1QsRUFBWTJILEVBQWV4SCxTQUFXb2IsSUFBZ0JuVCxFQUFNOWtCLE9BQVMsSUFBTTBjLEVBQWFwWSxFQUFNMndCLFNBZXBILE9BZEkzd0IsRUFBTStjLGFBQ1J6bkIsR0FBVTBLLEVBQU0rYyxXQUFXQyxVQUVSLElBQUlnVyxFQUN2QmxULEVBQ0E5ZixFQUNBM0ssRUFDQUMsRUFDQWtyQixFQUNBOFMsRUFDQWxiLEVBQWFwWSxFQUFNMndCLFFBQ25CNEMsRUFDQXhULEVBR0osQ0FDQSxtQkFBTzJULENBQWE1VCxFQUFNb0IsRUFBZTVhLEdBQ3ZDLElBQUlzdEIsR0FBK0IsRUFDL0JaLEVBQW1CQyxxQ0FDakJELEVBQW1CYSwyQkFDckJ2dEIsRUFBUTRhLGNBQWdCLEdBQUdBLE1BQzNCNWEsRUFBUXd0QixrQkFBb0IsR0FBRzVTLE1BQy9CMFMsR0FBK0IsSUFFL0J0dEIsRUFBUTRhLGNBQWdCLE1BQ3hCNWEsRUFBUXd0QixrQkFBb0IsUUFHaEMsTUFBTXRYLEVBQVVsVyxFQUFRbVcsWUFBWXFELEdBQ3BDLElBQUlpVSxFQUFjdlgsRUFBUW5uQixNQUMxQixNQUFNMitCLEdBQXlCeFgsRUFBUXdYLHNCQUV2QyxJQUFJQyxFQUQyQnpYLEVBQVEwWCx1QkFDSUYsRUFDM0MsR0FBSUQsRUFBYyxFQUNoQixHQUFJSCxFQUNGRyxHQUFlN1MsRUFDZitTLEdBQWUvUyxNQUNWLENBQ0wsTUFBTWlULEdBQU9uQixFQUFtQnZYLGtCQUFrQnFFLEdBQU1wa0IsT0FBUyxHQUFLd2xCLEVBQ3RFNlMsR0FBZUksRUFDZkYsR0FBZUUsQ0FDakIsQ0FFRixPQUFPdDJCLEtBQUsrRyxJQUFJbXZCLEVBQWFFLEVBQy9CLENBU0EsZ0JBQU83QyxDQUFVdFIsRUFBTTlmLEVBQU9vRyxFQUFTNHNCLEVBQW1CUSxTQUN4RCxNQUFNbHRCLEVBQVVGLEVBQU9HLFdBQVcsS0FBTXVzQixHQUN4QyxJQUFJejlCLEVBQVEsRUFDUitzQixFQUFPLEdBQ1A1QixFQUFRLEdBQ1osTUFBTTRULEVBQXdCLy9CLE9BQU80UixPQUFPLE9BQ3RDLGNBQUVpYixFQUFhLFdBQUVnUSxHQUFlbHhCLEVBQ2hDcTBCLEVBQWlCckIsRUFBbUJzQixnQkFBZ0JwRCxHQUNwRHFELEVBQW1CdkIsRUFBbUJ3QixrQkFBa0J0RCxHQUM5RCxJQUFJdUQsR0FBb0JKLEVBQ3hCLE1BQU1qVCxFQUFnQnBoQixFQUFNb2hCLGNBQWdCRixFQUN0Q3dULEVBQVMxQixFQUFtQjJCLFVBQVU3VSxHQUM1QyxJQUFLLElBQUkvZCxFQUFJLEVBQUdBLEVBQUkyeUIsRUFBT2g1QixPQUFRcUcsSUFBSyxDQUN0QyxJQUFJNnlCLEVBQVFGLEVBQU8zeUIsR0FDbkIsR0FBSWl4QixFQUFtQjZCLFdBQVdELEdBQVEsQ0FDeEMsSUFBS0wsRUFBa0IsQ0FDckIvVCxHQUFTd1MsRUFBbUI4QixTQUFTMVMsR0FDckNxUyxHQUFvQkosRUFDcEJqUyxFQUFPLEdBQ1Avc0IsRUFBUSxFQUNSLFFBQ0YsQ0FDQXUvQixFQUFRLEdBQ1YsQ0FDQSxHQUFJUCxFQUFnQixDQUNsQixNQUFNVSxFQUFzQi9CLEVBQW1CZ0MsZ0JBQWdCSixHQUN6REssRUFBc0JqQyxFQUFtQmdDLGdCQUFnQjVTLEVBQUtBLEVBQUsxbUIsT0FBUyxJQUNsRixHQUFJcTVCLEdBQXVCRSxFQUN6QixRQUVKLENBQ0EsTUFBTUMsRUFBYWxDLEVBQW1CbUMsY0FBY1AsRUFBTzFULEVBQWVrVCxFQUFPOXRCLEdBQ2pGLEdBQUk0dUIsRUFBYTlULEVBTWYsR0FMYSxLQUFUZ0IsSUFDRjVCLEdBQVN3UyxFQUFtQjhCLFNBQVMxUyxHQUNyQ0EsRUFBTyxHQUNQL3NCLEVBQVEsR0FFTjI5QixFQUFtQm9DLGNBQWNSLEVBQU81MEIsRUFBTXNoQixZQUFhLENBQzdELE1BQU0rVCxFQUFhckMsRUFBbUJzQyxjQUFjVixHQUNwRCxJQUFLLElBQUlwbUIsRUFBSSxFQUFHQSxFQUFJNm1CLEVBQVczNUIsT0FBUThTLElBQUssQ0FDMUMsSUFBSWtOLEVBQU8yWixFQUFXN21CLEdBQ2xCb1QsRUFBV2xHLEVBQ1g2WixFQUFJLEVBQ1IsS0FBT0YsRUFBVzdtQixFQUFJK21CLElBQUksQ0FDeEIsTUFBTUMsRUFBV0gsRUFBVzdtQixFQUFJK21CLEdBQ2hDLEdBQUt2QyxFQUFtQnlDLGNBQWM3VCxFQUFVNFQsRUFBVVosRUFBT3BtQixFQUFHeE8sRUFBTXNoQixZQUd4RSxNQUZBNUYsR0FBUThaLEVBSVY1VCxFQUFXNFQsRUFDWEQsR0FDRixDQUNBL21CLEdBQUsrbUIsRUFBSSxFQUNULE1BQU1HLEVBQWlCMUMsRUFBbUJtQyxjQUFjelosRUFBTXdGLEVBQWVrVCxFQUFPOXRCLEdBQ2hGb3ZCLEVBQWlCcmdDLEVBQVErckIsSUFDM0JaLEdBQVN3UyxFQUFtQjhCLFNBQVMxUyxHQUNyQ3FTLEdBQW1CLEVBQ25CclMsRUFBTyxHQUNQL3NCLEVBQVEsR0FFVitzQixHQUFRMUcsRUFDUnJtQixHQUFTcWdDLENBQ1gsQ0FDRixLQUFPLENBQ0R0VCxFQUFLMW1CLE9BQVMsSUFDaEI4a0IsR0FBU3dTLEVBQW1COEIsU0FBUzFTLEdBQ3JDQSxFQUFPLEdBQ1Avc0IsRUFBUSxHQUVWLE1BQU1zZ0MsRUFBYzV6QixJQUFNMnlCLEVBQU9oNUIsT0FBUyxFQUMxQzhrQixHQUFTd1MsRUFBbUI4QixTQUFTRixHQUFRZSxHQUM3Q2xCLEdBQW1CLEVBQ25CclMsRUFBTyxHQUNQL3NCLEVBQVEsQ0FDVixNQUVJNi9CLEVBQWE3L0IsRUFBUStyQixJQUN2QnFULEdBQW1CLEVBQ25CalUsR0FBU3dTLEVBQW1COEIsU0FBUzFTLEdBQ3JDQSxFQUFPLEdBQ1Avc0IsRUFBUSxJQUVOK3NCLEVBQUsxbUIsT0FBUyxJQUFNczNCLEVBQW1CZ0MsZ0JBQWdCSixJQUFVSCxLQUNuRXJTLEdBQVF3UyxFQUNSdi9CLEdBQVM2L0IsRUFHZixDQUVBLE9BREExVSxHQUFTd1MsRUFBbUI4QixTQUFTMVMsR0FBTSxHQUNwQzVCLENBQ1QsQ0FPQSxlQUFPc1UsQ0FBUzFTLEVBQU13VCxHQUFVLEdBSTlCLE9BSEF4VCxFQUFPNFEsRUFBbUI2QyxXQUFXelQsR0FDOUJ3VCxFQUFVLEdBQUd4VCxNQUNwQkEsQ0FFRixDQVNBLG9CQUFPK1MsQ0FBY3h1QixFQUFLdWEsRUFBZWtULEVBQU85dEIsR0FDOUMsSUFBSWpSLEVBQVErK0IsRUFBTXp0QixHQUtsQixNQUpxQixpQkFBVnRSLElBQ1RBLEVBQVEyOUIsRUFBbUJVLGFBQWEvc0IsRUFBS3VhLEVBQWU1YSxHQUFXNGEsRUFDdkVrVCxFQUFNenRCLEdBQU90UixHQUVSQSxDQUNULENBTUEsc0JBQU9pL0IsQ0FBZ0JwRCxHQUNyQixNQUFzQixXQUFmQSxHQUEwQyxhQUFmQSxDQUNwQyxDQU1BLHdCQUFPc0QsQ0FBa0J0RCxHQUN2QixNQUFzQixXQUFmQSxDQUNULENBTUEsaUJBQU8yRSxDQUFXL1YsR0FDaEIsR0FBb0IsaUJBQVRBLEVBQ1QsTUFBTyxHQUVULElBQUssSUFBSS9kLEVBQUkrZCxFQUFLcGtCLE9BQVMsRUFBR3FHLEdBQUssRUFBR0EsSUFBSyxDQUN6QyxNQUFNMlosRUFBT29FLEVBQUsvZCxHQUNsQixJQUFLaXhCLEVBQW1CZ0MsZ0JBQWdCdFosR0FDdEMsTUFFRm9FLEVBQU9BLEVBQUtoSyxNQUFNLEdBQUksRUFDeEIsQ0FDQSxPQUFPZ0ssQ0FDVCxDQU1BLGlCQUFPK1UsQ0FBV25aLEdBQ2hCLE1BQW9CLGlCQUFUQSxHQUdKc1gsRUFBbUI4QyxVQUFVbmEsU0FBU0QsRUFBSytJLFdBQVcsR0FDL0QsQ0FXQSxzQkFBT3VRLENBQWdCdFosRUFBTXFhLEdBQzNCLE1BQW9CLGlCQUFUcmEsR0FHSnNYLEVBQW1CZ0QsZ0JBQWdCcmEsU0FBU0QsRUFBSytJLFdBQVcsR0FDckUsQ0FNQSxnQkFBT2tRLENBQVU3VSxHQUNmLE1BQU00VSxFQUFTLEdBQ2YsSUFBSUUsRUFBUSxHQUNaLEdBQW9CLGlCQUFUOVUsRUFDVCxPQUFPNFUsRUFFVCxJQUFLLElBQUkzeUIsRUFBSSxFQUFHQSxFQUFJK2QsRUFBS3BrQixPQUFRcUcsSUFBSyxDQUNwQyxNQUFNMlosRUFBT29FLEVBQUsvZCxHQUNaeXpCLEVBQVcxVixFQUFLL2QsRUFBSSxHQUN0Qml4QixFQUFtQmdDLGdCQUFnQnRaLEVBQU04WixJQUFheEMsRUFBbUI2QixXQUFXblosSUFDeEUsS0FBVmtaLElBQ0ZGLEVBQU92OUIsS0FBS3k5QixHQUNaQSxFQUFRLElBRUcsT0FBVGxaLEdBQThCLE9BQWI4WixHQUNuQmQsRUFBT3Y5QixLQUFLLFFBQ1o0SyxLQUVBMnlCLEVBQU92OUIsS0FBS3VrQixJQUloQmtaLEdBQVNsWixDQUNYLENBSUEsTUFIYyxLQUFWa1osR0FDRkYsRUFBT3Y5QixLQUFLeTlCLEdBRVBGLENBQ1QsQ0FXQSxvQkFBT1UsQ0FBY2EsRUFBUTNVLEdBQzNCLE9BQU9BLENBQ1QsQ0FlQSxvQkFBT21VLENBQWNTLEVBQU9ILEVBQVdFLEVBQVFFLEVBQVFuRyxHQUNyRCxPQUFPLENBQ1QsQ0FXQSxvQkFBT3NGLENBQWNWLEdBQ25CLE9BQU81QixFQUFtQnZYLGtCQUFrQm1aLEVBQzlDLENBTUEsa0JBQU90WixDQUFZckMsR0FDakIsR0FBSStaLEVBQW1Cb0QsT0FBT25kLEdBQzVCLE9BQU8rWixFQUFtQm9ELE9BQU9uZCxHQUVuQyxNQUFNM1MsRUFBVTBzQixFQUFtQnFELFNBQ25DL3ZCLEVBQVEyUyxLQUFPQSxFQUNmLE1BQU11RCxFQUFVbFcsRUFBUW1XLFlBQVl1VyxFQUFtQnNELGVBQWlCdEQsRUFBbUJ1RCxpQkFDckY3bkIsRUFBYSxDQUNqQjhKLE9BQVFnRSxFQUFRZ2Esd0JBQ2hCL2QsUUFBUytELEVBQVFpYSx5QkFDakJsZSxTQUFVaUUsRUFBUWdhLHdCQUEwQmhhLEVBQVFpYSwwQkFHdEQsT0FEQXpELEVBQW1Cb0QsT0FBT25kLEdBQVF2SyxFQUMzQkEsQ0FDVCxDQUtBLG1CQUFPZ29CLENBQWF6ZCxFQUFPLElBQ3JCQSxTQUNLK1osRUFBbUJvRCxPQUFPbmQsR0FFakMrWixFQUFtQm9ELE9BQVMsQ0FBQyxDQUVqQyxDQU1BLGtCQUFXNUMsR0FDVCxJQUFLUixFQUFtQjJELFNBQVUsQ0FDaEMsSUFBSXZ3QixFQUNKLElBQ0UsTUFBTWdQLEVBQUksSUFBSXdoQixnQkFBZ0IsRUFBRyxHQUMzQnR3QixFQUFVOE8sRUFBRTdPLFdBQVcsS0FBTXVzQixHQUNuQyxHQUFJeHNCLEdBQVNtVyxZQUVYLE9BREF1VyxFQUFtQjJELFNBQVd2aEIsRUFDdkJBLEVBRVRoUCxFQUFTLElBQVdwUixNQUFNcVIsY0FDNUIsQ0FBRSxNQUFPd3dCLEdBQ1B6d0IsRUFBUyxJQUFXcFIsTUFBTXFSLGNBQzVCLENBQ0FELEVBQU8vUSxNQUFRK1EsRUFBTzlRLE9BQVMsR0FDL0IwOUIsRUFBbUIyRCxTQUFXdndCLENBQ2hDLENBQ0EsT0FBTzRzQixFQUFtQjJELFFBQzVCLENBS0EsbUJBQVdOLEdBSVQsT0FIS3JELEVBQW1CUyxZQUN0QlQsRUFBbUJTLFVBQVlULEVBQW1CUSxRQUFRanRCLFdBQVcsS0FBTXVzQixJQUV0RUUsRUFBbUJTLFNBQzVCLEdBTUZULEVBQW1Cc0QsZUFBaUIsT0FFcEN0RCxFQUFtQnVELGdCQUFrQixJQUVyQ3ZELEVBQW1COEQsb0JBQXNCLElBRXpDOUQsRUFBbUIrRCxrQkFBb0IsRUFZdkMvRCxFQUFtQnZYLGtCQUFvQixNQUNyQyxHQUErQixtQkFBcEJ1YixNQUFNQyxVQUEwQixDQUN6QyxNQUFNQyxFQUFZLElBQUlGLEtBQUtDLFVBQzNCLE9BQVFFLElBQ04sTUFBTUMsRUFBV0YsRUFBVUcsUUFBUUYsR0FDN0IvUyxFQUFTLEdBQ2YsSUFBSXJpQixFQUFJLEVBQ1IsSUFBSyxNQUFNczFCLEtBQVdELEVBQ3BCaFQsRUFBT3JpQixLQUFPczFCLEVBQVFBLFFBRXhCLE9BQU9qVCxDQUFNLENBRWpCLENBQ0EsT0FBUStTLEdBQU0sSUFBSUEsRUFDbkIsRUFkc0MsR0FxQnZDbkUsRUFBbUJhLDJCQUE0QixFQUUvQ2IsRUFBbUJvRCxPQUFTLENBQUMsRUFFN0JwRCxFQUFtQjhDLFVBQVksQ0FDN0IsR0FFQSxJQUlGOUMsRUFBbUJnRCxnQkFBa0IsQ0FDbkMsRUFFQSxHQUVBLEtBRUEsS0FFQSxLQUVBLEtBRUEsS0FFQSxLQUVBLEtBRUEsS0FFQSxLQUVBLEtBRUEsS0FFQSxPQUdGLElBQUkzYSxFQUFvQjJYLEMsa0NDN2hCeEIsTUFBTXNFLEVBQXNCLENBQzFCLFFBQ0EsYUFDQSxZQUNBLFVBQ0EsVUFDQSxhQUVGLFNBQVN4YyxFQUF3QjlhLEdBQy9CLE1BQU11M0IsRUFBMkMsaUJBQW5CdjNCLEVBQU11WSxTQUF3QixHQUFHdlksRUFBTXVZLGFBQWV2WSxFQUFNdVksU0FDMUYsSUFBSXdSLEVBQWUvcEIsRUFBTXFZLFdBQ3BCaU0sTUFBTUMsUUFBUXZrQixFQUFNcVksY0FDdkIwUixFQUFlL3BCLEVBQU1xWSxXQUFXZ1MsTUFBTSxNQUV4QyxJQUFLLElBQUl0b0IsRUFBSWdvQixFQUFhcnVCLE9BQVMsRUFBR3FHLEdBQUssRUFBR0EsSUFBSyxDQUNqRCxJQUFJc1csRUFBYTBSLEVBQWFob0IsR0FBR3VvQixPQUM1QixxQkFBcUJ0SSxLQUFLM0osSUFBZ0JpZixFQUFvQjNiLFNBQVN0RCxLQUMxRUEsRUFBYSxJQUFJQSxNQUVuQjBSLEVBQWFob0IsR0FBS3NXLENBQ3BCLENBQ0EsTUFBTyxHQUFHclksRUFBTTJjLGFBQWEzYyxFQUFNd3dCLGVBQWV4d0IsRUFBTWdzQixjQUFjdUwsS0FBa0J4TixFQUFhN2EsS0FBSyxNQUM1RyxDLGlHQ2ZBLE1BQU1zb0IsRUFBWSxJQUNsQixTQUFTMVksRUFBbUJDLEVBQVd6WSxFQUFTbXhCLEVBQWF6MEIsRUFBVSxHQUNyRSxHQUFJK2IsRUFBVXRpQixVQUFZLElBQVE2VixRQUFVeU0sRUFBVW5FLEtBQ3BELE9BQU8sSUFBTTlqQixPQUFPb29CLFNBQVNILEVBQVU3UixPQUFPd3FCLFNBQVMzWSxFQUFVNVgsT0FBUyxHQUFHd3dCLFNBQ3hFLElBQUs1WSxFQUFVbkUsS0FBTSxDQUMxQixNQUFNZ2QsRUFBVXR4QixFQUFRdXhCLGNBQWM5WSxFQUFVdGlCLFFBQVFwQixPQUFPaUcsU0FBVSxVQUNuRU8sRUFBYWtkLEVBQVVqZCxPQUFPN0MsT0FBTyxJQUFPbkksUUFHbEQsT0FGQStLLEVBQVdyQyxNQUFNdWYsRUFBVXRpQixRQUFRRSxNQUFNdEgsTUFBTzBwQixFQUFVdGlCLFFBQVFFLE1BQU1ySCxRQUN4RXNpQyxFQUFRRSxhQUFhajJCLEdBQ2QrMUIsQ0FDVCxDQUFPLEdBQUk3WSxFQUFVbkUsZ0JBQWdCLElBQWEsQ0FDaEQsTUFBTW1kLEVBQWNoWixFQUFVbkUsS0FDeEJnZCxFQUFVdHhCLEVBQVF1eEIsY0FBY0UsRUFBWXQ3QixRQUFRcEIsT0FBT2lHLFNBQVUsVUFDckVPLEVBQWFrMkIsRUFBWS9yQixVQUFVL00sT0FBTyxJQUFPbkksUUFNdkQsT0FMQStLLEVBQVdyQyxNQUNUdTRCLEVBQVl0N0IsUUFBUUUsTUFBTXRILE1BQzFCMGlDLEVBQVl0N0IsUUFBUUUsTUFBTXJILFFBRTVCc2lDLEVBQVFFLGFBQWFqMkIsR0FDZCsxQixDQUNULENBQU8sR0FBSTdZLEVBQVVuRSxnQkFBZ0IsSUFBYyxDQUNqRCxNQUFNb2QsRUFBZWpaLEVBQVVuRSxLQUN6QnFkLEVBQWlDLFdBQXRCRCxFQUFhNy9CLEtBQ3hCKy9CLEVBQXdDLFVBQTlCRixFQUFheEksYUFDN0IsSUFNSTJJLEVBTkE5aUMsRUFBUSxFQUNSQyxFQUFTLEVBQ1Q0aUMsR0FBV1QsSUFDYnBpQyxFQUFRb2lDLEVBQVlwaUMsTUFBUTJOLEVBQzVCMU4sRUFBU21pQyxFQUFZbmlDLE9BQVMwTixHQUdoQyxJQUFJbzFCLEdBQW1CLEVBQ3ZCLEdBQUlILEVBQVUsQ0FDWixNQUFNLE1BQUVyaEMsRUFBSyxJQUFFc04sR0FBUTh6QixFQUN2QkcsRUFBVzd4QixFQUFRK3hCLHFCQUNqQnpoQyxFQUFNaUQsRUFBSXhFLEVBQ1Z1QixFQUFNa0QsRUFBSXhFLEVBQ1Y0TyxFQUFJckssRUFBSXhFLEVBQ1I2TyxFQUFJcEssRUFBSXhFLEdBRVY4aUMsRUFBbUJ2NkIsS0FBS2lwQixJQUFJNWlCLEVBQUlySyxFQUFJakQsRUFBTWlELEdBQUtnRSxLQUFLaXBCLElBQXdCLElBQW5CNWlCLEVBQUlwSyxFQUFJbEQsRUFBTWtELEdBQ3pFLEtBQU8sQ0FDTCxNQUFNLE9BQUV3K0IsRUFBTSxZQUFFQyxFQUFXLFlBQUVDLEVBQVcsWUFBRUMsR0FBZ0JULEVBQzFERyxFQUFXN3hCLEVBQVFveUIscUJBQ2pCSixFQUFPeitCLEVBQUl4RSxFQUNYaWpDLEVBQU94K0IsRUFBSXhFLEVBQ1hpakMsRUFBY2xqQyxFQUNkbWpDLEVBQVkzK0IsRUFBSXhFLEVBQ2hCbWpDLEVBQVkxK0IsRUFBSXhFLEVBQ2hCbWpDLEVBQWNwakMsRUFFbEIsQ0FDQSxHQUFJK2lDLEdBQW9CRixHQUFXVCxFQUFhLENBQzlDLE1BQU1rQixFQUFRbEIsRUFBWXJmLFdBQWE5aUIsRUFDdkMsSUFBSyxJQUFJeU0sRUFBSSxFQUFHQSxFQUFJMDFCLEVBQVlqWCxNQUFNOWtCLE9BQVFxRyxJQUFLLENBQ2pELE1BQU1uTCxHQUFTbUwsRUFBSTAxQixFQUFZcmYsV0FBYXBWLEVBQVUsR0FBSzFOLEVBQzNEMGlDLEVBQWFZLFdBQVdyeEIsU0FBUzVRLElBQy9CLE1BQU1raUMsRUFBYWppQyxFQUFRRCxFQUFLcUMsT0FBUzIvQixFQUN6Q1IsRUFBU3hJLGFBRVA5eEIsS0FBS0MsTUFBTSs2QixFQUFhckIsR0FBYUEsRUFDckMsSUFBTTFnQyxPQUFPb29CLFNBQVN2b0IsRUFBS3VXLE9BQU80ckIsUUFDbkMsR0FFTCxDQUNGLE1BQ0VkLEVBQWFZLFdBQVdyeEIsU0FBUzVRLElBQy9Cd2hDLEVBQVN4SSxhQUFhaDVCLEVBQUtxQyxPQUFRLElBQU1sQyxPQUFPb29CLFNBQVN2b0IsRUFBS3VXLE9BQU80ckIsUUFBUSxJQUdqRixPQUFPWCxDQUNULENBRUEsT0FEQSxPQUFLLDJCQUE0QnBaLEdBQzFCLEtBQ1QsQyxtREMvRUEsTUFBTWdhLFVBQXNCM2hCLEVBQUEsRUFDMUIsV0FBQW5nQixDQUFZckIsR0FDVm1jLFFBQ0F4ZCxLQUFLMkMsVUFBWXRCLEVBQ2pCQSxFQUFTZ1MsUUFBUXlmLGlCQUFpQjV3QixJQUFJbEMsS0FDeEMsQ0FDQSxnQkFBQTh5QixHQUNFLE1BQU12SCxFQUFPdnJCLEtBQUt5TixXQUNkOGQsRUFBS3dILGlCQUNQeEgsRUFBS3lILGNBRVQsQ0FDQSxPQUFBeHhCLEdBQ0V4QixLQUFLMkMsVUFBVThoQyxXQUFXejdCLGNBQWNoSixLQUFLa0ksU0FDN0NsSSxLQUFLMkMsVUFBWSxJQUNuQixFQ2JGLE1BQU0raEMsRUFDSixXQUFBaGlDLENBQVlyQixHQUNWckIsS0FBSzJDLFVBQVl0QixDQUNuQixDQUNBLGtCQUFBa1MsQ0FBbUJnWSxHQUNqQixPQUFPQSxFQUFLNkYsY0FDZCxDQUNBLGFBQUFyZCxDQUFjd1gsRUFBTXhvQixHQUNsQixNQUFNNGhDLEVBQWdCM2tDLEtBQUtzekIsWUFBWS9ILEdBQ25DQSxFQUFLNkYsaUJBQ1BweEIsS0FBS3V6QixlQUFlaEksR0FDcEJBLEVBQUs2RixnQkFBaUIsR0FFeEJweEIsS0FBSzJDLFVBQVVLLFlBQVlDLE1BQU1xUyxXQUFXcXZCLEVBQWU1aEMsRUFDN0QsQ0FDQSxnQkFBQW9SLENBQWlCb1gsR0FDZixNQUFNb1osRUFBZ0Iza0MsS0FBS3N6QixZQUFZL0gsR0FDdkNvWixFQUFjdHdCLFNBQVNDLGNBQWNxd0IsRUFDdkMsQ0FDQSxjQUFBcFIsQ0FBZWhJLEdBQ2IsTUFBTW9aLEVBQWdCM2tDLEtBQUtzekIsWUFBWS9ILEdBQ25Db1osRUFBY3o4QixTQUNoQmxJLEtBQUsyQyxVQUFVOGhDLFdBQVd6N0IsY0FBYzI3QixFQUFjejhCLFNBRXhEcWpCLEVBQUtsaUIsWUFBY2tpQixFQUFLd0gsZ0JBQWtCL3lCLEtBQUsyQyxVQUFVcUUsV0FBYXVrQixFQUFLdmtCLFdBQzNFMjlCLEVBQWN6OEIsUUFBVWxJLEtBQUsyQyxVQUFVOGhDLFdBQVdwUCxXQUFXOUosSUFDN0QsRUFBQXFJLEVBQUEsR0FBaUIrUSxFQUFlcFosRUFDbEMsQ0FDQSxXQUFBK0gsQ0FBWS9ILEdBQ1YsT0FBT0EsRUFBSzdYLFNBQVMxVCxLQUFLMkMsVUFBVTRTLE1BQVF2VixLQUFLaXlCLFlBQVkxRyxFQUMvRCxDQUNBLFdBQUEwRyxDQUFZMUcsR0FDVixNQUFNb1osRUFBZ0IsSUFBSUgsRUFBY3hrQyxLQUFLMkMsV0FNN0MsT0FMQWdpQyxFQUFjbDNCLFdBQWE4ZCxFQUMzQm9aLEVBQWNsdEIsVUFBWThULEVBQUt6VyxlQUMvQjZ2QixFQUFjMS9CLE9BQVMsQ0FBRTRDLEtBQU0sRUFBR2tzQixLQUFNLEVBQUdqc0IsS0FBTSxFQUFHa3NCLEtBQU0sR0FDMUQyUSxFQUFjbHZCLFlBQWN6VixLQUFLMkMsVUFBVXFTLGFBQWV1VyxFQUFLdlcsYUFDL0R1VyxFQUFLN1gsU0FBUzFULEtBQUsyQyxVQUFVNFMsS0FBT292QixFQUM3QkEsQ0FDVCxDQUNBLE9BQUFuakMsR0FDRXhCLEtBQUsyQyxVQUFZLElBQ25CLEVBR0YraEMsRUFBZWpqQyxVQUFZLENBQ3pCbUMsS0FBTSxDQUNKLEtBQWNDLFdBQ2QsS0FBY0MsWUFDZCxLQUFjQyxhQUVoQkMsS0FBTSxRLHVHQ25EUixJQUFJNGdDLEVBQWtCLEtBQ2xCQyxFQUFtQixLQWF2QixTQUFTQyxFQUFTeDZCLEVBQU14SixFQUFPeUUsR0FDN0IsSUFBSyxJQUFJRCxFQUFJLEVBQUc4SixFQUFRLEVBQUk3SixFQUFJekUsRUFBT3dFLEVBQUl4RSxJQUFTd0UsRUFBRzhKLEdBQVMsRUFDOUQsR0FBd0IsSUFBcEI5RSxFQUFLOEUsRUFBUSxHQUNmLE9BQU8sRUFFWCxPQUFPLENBQ1QsQ0FDQSxTQUFTMjFCLEVBQVl6NkIsRUFBTXhKLEVBQU93RSxFQUFHMC9CLEVBQUtDLEdBQ3hDLE1BQU16Z0MsRUFBUyxFQUFJMUQsRUFDbkIsSUFBSyxJQUFJeUUsRUFBSXkvQixFQUFLNTFCLEVBQVE0MUIsRUFBTXhnQyxFQUFTLEVBQUljLEVBQUdDLEdBQUswL0IsSUFBVTEvQixFQUFHNkosR0FBUzVLLEVBQ3pFLEdBQXdCLElBQXBCOEYsRUFBSzhFLEVBQVEsR0FDZixPQUFPLEVBRVgsT0FBTyxDQUNULENBQ0EsU0FBUzgxQixLQUF3QjFWLEdBQy9CLElBQUkzdkIsRUFBVTJ2QixFQUFLLEdBQ2QzdkIsRUFBUWdTLFNBQ1hoUyxFQUFVLENBQUVnUyxPQUFRMmQsRUFBSyxHQUFJeG9CLFdBQVl3b0IsRUFBSyxLQUVoRCxNQUFNLE9BQUUzZCxHQUFXaFMsRUFDYm1ILEVBQWFzQyxLQUFLc0YsSUFBSS9PLEVBQVFtSCxZQUFjLEVBQUcsR0FDL0NsRyxFQUFRakIsRUFBUWlCLE9BQVMrUSxFQUFPL1EsTUFDaENDLEVBQVNsQixFQUFRa0IsUUFBVThRLEVBQU85USxPQUN4QyxJQUFJNkksRUFBUy9KLEVBQVErSixPQUVyQixHQXRDRixTQUE4QjlJLEVBQU9DLEdBQzlCNmpDLElBQ0hBLEVBQWtCLElBQVdua0MsTUFBTXFSLGFBQWEsSUFBSyxLQUNyRCt5QixFQUFtQkQsRUFBZ0I1eUIsV0FBVyxLQUFNLENBQUV3c0Isb0JBQW9CLElBQzFFcUcsRUFBaUJNLHlCQUEyQixPQUM1Q04sRUFBaUJPLFlBQWMsSUFFN0JSLEVBQWdCOWpDLE1BQVFBLEdBQVM4akMsRUFBZ0I3akMsT0FBU0EsS0FDNUQ2akMsRUFBZ0I5akMsT0FBUSxRQUFTQSxHQUNqQzhqQyxFQUFnQjdqQyxRQUFTLFFBQVNBLEdBRXRDLENBMEJFc2tDLENBQXFCdmtDLEVBQU9DLElBQ3ZCOGpDLEVBQ0gsTUFBTSxJQUFJUyxVQUFVLG1DQUV0QlQsRUFBaUJwTCxVQUNmNW5CLEVBQ0EsRUFDQSxFQUNBL1EsRUFDQUMsRUFDQSxFQUNBLEVBQ0FELEVBQVFrRyxFQUNSakcsRUFBU2lHLEdBRVgsTUFDTXNELEVBRFl1NkIsRUFBaUJVLGFBQWEsRUFBRyxFQUFHemtDLEVBQU9DLEdBQ3RDdUosS0FDdkIsSUFBSWs3QixFQUFPLEVBQ1BSLEVBQU0sRUFDTlMsRUFBUTNrQyxFQUFRLEVBQ2hCbWtDLEVBQVNsa0MsRUFBUyxFQUN0QixLQUFPaWtDLEVBQU1qa0MsR0FBVStqQyxFQUFTeDZCLEVBQU14SixFQUFPa2tDLE1BQ3pDQSxFQUNKLEdBQUlBLElBQVFqa0MsRUFDVixPQUFPbW9CLEVBQUEsRUFBVXpnQixNQUNuQixLQUFPcThCLEVBQVN4NkIsRUFBTXhKLEVBQU9ta0MsTUFDekJBLEVBQ0osS0FBT0YsRUFBWXo2QixFQUFNeEosRUFBTzBrQyxFQUFNUixFQUFLQyxNQUN2Q08sRUFDSixLQUFPVCxFQUFZejZCLEVBQU14SixFQUFPMmtDLEVBQU9ULEVBQUtDLE1BQ3hDUSxFQVFKLFFBUEVBLElBQ0FSLEVBQ0ZKLEVBQWlCTSx5QkFBMkIsY0FDNUNOLEVBQWlCYSxXQUFXRixFQUFNUixFQUFLUyxFQUFRRCxFQUFNUCxFQUFTRCxHQUM5REgsRUFBaUJNLHlCQUEyQixPQUM1Q3Y3QixJQUFXQSxFQUFTLElBQUlzZixFQUFBLEdBQ3hCdGYsRUFBTzNKLElBQUl1bEMsRUFBT3grQixFQUFZZytCLEVBQU1oK0IsR0FBYXkrQixFQUFRRCxHQUFReCtCLEdBQWFpK0IsRUFBU0QsR0FBT2grQixHQUN2RjRDLENBQ1QsQyxrQ0MxRUEsTUFBTSs3QixFQUFXLElBQUl6YyxFQUFBLEVBZ01mMGMsRUFBc0IsSUEvTDVCLE1BZ0JFLG1CQUFBQyxDQUFvQmhtQyxHQUNsQixNQUFNLEtBQUUwckIsRUFBSSxNQUFFOWYsRUFBSyxXQUFFekUsRUFBYSxHQUFNbkgsRUFDbEM0TyxFQUFVaEQsRUFBTXN5QixtQkFDaEJoRyxFQUFXalIsRUFBQSxFQUFrQm9CLFlBQVlxRCxHQUFRLElBQUs5ZixHQUN0RDNLLEVBQVF3SSxLQUFLRSxLQUFLRixLQUFLRSxLQUFLRixLQUFLK0csSUFBSSxFQUFHMG5CLEVBQVNqM0IsT0FBbUIsRUFBVjJOLEdBQWV6SCxHQUN6RWpHLEVBQVN1SSxLQUFLRSxLQUFLRixLQUFLRSxLQUFLRixLQUFLK0csSUFBSSxFQUFHMG5CLEVBQVNoM0IsUUFBb0IsRUFBVjBOLEdBQWV6SCxHQUMzRXFMLEVBQW1CZCxFQUFBLEVBQVdVLDJCQUEyQm5SLEVBQU9DLEdBR3RFLE9BRkFmLEtBQUs4bEMsb0JBQW9CdmEsRUFBTTlmLEVBQU9nRCxFQUFTekgsRUFBWXFMLEdBRXBELENBQ0xBLG1CQUNBakssTUFIWXFELEVBQU1zcUIsS0FBT21QLEVBQXFCLENBQUVyekIsT0FBUVEsRUFBaUJSLE9BQVEvUSxRQUFPQyxTQUFRaUcsV0FBWSxFQUFHNEMsT0FBUSs3QixJQUFjQSxFQUFTMWxDLElBQUksRUFBRyxFQUFHYSxFQUFPQyxHQUtuSyxDQVFBLHNCQUFBdVIsQ0FBdUJELEdBQ3JCZCxFQUFBLEVBQVdlLHVCQUF1QkQsRUFDcEMsQ0FTQSxtQkFBQXl6QixDQUFvQnZhLEVBQU05ZixFQUFPZ0QsRUFBU3pILEVBQVlxTCxHQUNwRCxNQUFNLE9BQUVSLEVBQU0sUUFBRUUsR0FBWU0sRUFDdEJxUyxHQUFPLEVBQUE2QixFQUFBLEdBQXdCOWEsR0FDL0Jzc0IsRUFBV2pSLEVBQUEsRUFBa0JvQixZQUFZcUQsR0FBUSxJQUFLOWYsR0FDdER3Z0IsRUFBUThMLEVBQVM5TCxNQUNqQnBJLEVBQWFrVSxFQUFTbFUsV0FDdEJrYixFQUFhaEgsRUFBU2dILFdBQ3RCQyxFQUFlakgsRUFBU2lILGFBQ3hCeFQsRUFBaUJ1TSxFQUFTdk0sZUFDMUJ6cUIsRUFBUzhRLEVBQU85USxPQUl0QixHQUhBZ1IsRUFBUVEsaUJBQ1JSLEVBQVE5RyxNQUFNakUsRUFBWUEsR0FDMUIrSyxFQUFRaVksYUFBZXZlLEVBQU11ZSxhQUN6QnZlLEVBQU1nYixTQUFTM2xCLE1BQU8sQ0FDeEIsTUFBTXdwQixFQUFjN2UsRUFBTWdiLFFBQzFCMVUsRUFBUW9ZLFVBQVlHLEVBQVl4cEIsTUFDaENpUixFQUFRc1ksV0FBYUMsRUFBWUQsV0FDakN0WSxFQUFRcVksU0FBV0UsRUFBWTNQLEtBQy9CNUksRUFBUWcwQixRQUFVemIsRUFBWW1ULEdBQ2hDLENBRUEsSUFBSXVJLEVBQ0FDLEVBRkpsMEIsRUFBUTJTLEtBQU9BLEVBR2YsTUFBTXdoQixFQUFjejZCLEVBQU0rYyxXQUFhLEVBQUksRUFDM0MsSUFBSyxJQUFJaGIsRUFBSSxFQUFHQSxFQUFJMDRCLElBQWUxNEIsRUFBRyxDQUNwQyxNQUFNMjRCLEVBQWUxNkIsRUFBTStjLFlBQW9CLElBQU5oYixFQUNuQzQ0QixFQUFlRCxFQUFlNzhCLEtBQUtFLEtBQUtGLEtBQUsrRyxJQUFJLEVBQUd0UCxHQUFvQixFQUFWME4sR0FBZSxFQUM3RTQzQixFQUFpQkQsRUFBZXAvQixFQUN0QyxHQUFJbS9CLEVBQWMsQ0FDaEJwMEIsRUFBUXlZLFVBQVksUUFDcEJ6WSxFQUFRdVksWUFBYyxRQUN0QixNQUFNRyxFQUFnQmhmLEVBQU0rYyxXQUN0QmdTLEVBQWtCL1AsRUFBYzlSLE1BQ2hDMmhCLEVBQWtCN1AsRUFBYzdYLE1BQ3RDYixFQUFRaVosWUFBYzdNLEVBQUEsRUFBTTViLE9BQU9vb0IsU0FBUzZQLEdBQWlCMkksU0FBUzdJLEdBQWlCZ00sZUFDdkYsTUFBTXpiLEVBQWlCSixFQUFjSyxLQUFPOWpCLEVBQ3RDK2pCLEVBQXFCTixFQUFjaEMsU0FBV3poQixFQUNwRCtLLEVBQVFrWixXQUFhSixFQUNyQjlZLEVBQVFtWixjQUFnQjVoQixLQUFLNmhCLElBQUlWLEVBQWNXLE9BQVNMLEVBQ3hEaFosRUFBUXNaLGNBQWdCL2hCLEtBQUtnaUIsSUFBSWIsRUFBY1csT0FBU0wsRUFBcUJzYixDQUMvRSxLQUFPLENBRUwsR0FEQXQwQixFQUFReVksVUFBWS9lLEVBQU0yYSxPQUFRLEVBQUFtRSxFQUFBLEdBQW1COWUsRUFBTTJhLE1BQU9yVSxFQUFTZ21CLEVBQW9CLEVBQVZ0cEIsR0FBZSxLQUNoR2hELEVBQU1nYixTQUFTM2xCLE1BQU8sQ0FDeEIsTUFBTXlsQyxFQUFzQyxHQUF0Qjk2QixFQUFNZ2IsUUFBUTNsQixNQUF3QixFQUFWMk4sRUFDbERzRCxFQUFRdVksYUFBYyxFQUFBQyxFQUFBLEdBQW1COWUsRUFBTWdiLFFBQVMxVSxFQUFTZ21CLEVBQVV3TyxFQUM3RSxDQUNBeDBCLEVBQVFpWixZQUFjLE9BQ3hCLENBQ0EsSUFBSStHLEdBQXNCbE8sRUFBYTJILEVBQWV4SCxVQUFZLEVBQzlESCxFQUFhMkgsRUFBZXhILFNBQVcsSUFDekMrTixFQUFxQixHQUV2QixNQUFNcU4sRUFBYzN6QixFQUFNZ2IsU0FBUzNsQixPQUFTLEVBQzVDLElBQUssSUFBSXN2QixFQUFLLEVBQUdBLEVBQUtuRSxFQUFNOWtCLE9BQVFpcEIsSUFDbEM0VixFQUFnQjVHLEVBQWMsRUFDOUI2RyxFQUFnQjdHLEVBQWMsRUFBSWhQLEVBQUt2TSxFQUFhMkgsRUFBZXZILE9BQVM4TixFQUN4RCxVQUFoQnRtQixFQUFNa2lCLE1BQ1JxWSxHQUFpQmhILEVBQWVELEVBQVczTyxHQUNsQixXQUFoQjNrQixFQUFNa2lCLFFBQ2ZxWSxJQUFrQmhILEVBQWVELEVBQVczTyxJQUFPLEdBRWpEM2tCLEVBQU1nYixTQUFTM2xCLE9BQ2pCZCxLQUFLd21DLG1CQUNIdmEsRUFBTW1FLEdBQ04za0IsRUFDQTRHLEVBQ0EyekIsRUFBZ0J2M0IsRUFDaEJ3M0IsRUFBZ0J4M0IsRUFBVTIzQixHQUMxQixRQUdnQixJQUFoQjM2QixFQUFNMmEsT0FDUnBtQixLQUFLd21DLG1CQUNIdmEsRUFBTW1FLEdBQ04za0IsRUFDQTRHLEVBQ0EyekIsRUFBZ0J2M0IsRUFDaEJ3M0IsRUFBZ0J4M0IsRUFBVTIzQixFQUlsQyxDQUNGLENBa0JBLGtCQUFBSSxDQUFtQmpiLEVBQU05ZixFQUFPNEcsRUFBa0IvTSxFQUFHQyxFQUFHa2hDLEdBQVcsR0FDakUsTUFBTSxRQUFFMTBCLEdBQVlNLEVBQ2RzYSxFQUFnQmxoQixFQUFNa2hCLGNBQzVCLElBQUkwUyxHQUErQixFQVduQyxHQVZJdlksRUFBQSxFQUFrQjRYLHFDQUNoQjVYLEVBQUEsRUFBa0J3WSwyQkFDcEJ2dEIsRUFBUTRhLGNBQWdCLEdBQUdBLE1BQzNCNWEsRUFBUXd0QixrQkFBb0IsR0FBRzVTLE1BQy9CMFMsR0FBK0IsSUFFL0J0dEIsRUFBUTRhLGNBQWdCLE1BQ3hCNWEsRUFBUXd0QixrQkFBb0IsUUFHVixJQUFsQjVTLEdBQXVCMFMsRUFNekIsWUFMSW9ILEVBQ0YxMEIsRUFBUTJaLFdBQVdILEVBQU1qbUIsRUFBR0MsR0FFNUJ3TSxFQUFRNFosU0FBU0osRUFBTWptQixFQUFHQyxJQUk5QixJQUFJbWhDLEVBQWtCcGhDLEVBQ3RCLE1BQU1xaEMsRUFBYzdmLEVBQUEsRUFBa0JJLGtCQUFrQnFFLEdBQ3hELElBQUlxYixFQUFnQjcwQixFQUFRbVcsWUFBWXFELEdBQU16cUIsTUFDMUMrbEMsRUFBZSxFQUNuQixJQUFLLElBQUlyNUIsRUFBSSxFQUFHQSxFQUFJbTVCLEVBQVl4L0IsU0FBVXFHLEVBQUcsQ0FDM0MsTUFBTXM1QixFQUFjSCxFQUFZbjVCLEdBQzVCaTVCLEVBQ0YxMEIsRUFBUTJaLFdBQVdvYixFQUFhSixFQUFpQm5oQyxHQUVqRHdNLEVBQVE0WixTQUFTbWIsRUFBYUosRUFBaUJuaEMsR0FFakQsSUFBSXdoQyxFQUFVLEdBQ2QsSUFBSyxJQUFJOXNCLEVBQUl6TSxFQUFJLEVBQUd5TSxFQUFJMHNCLEVBQVl4L0IsU0FBVThTLEVBQzVDOHNCLEdBQVdKLEVBQVkxc0IsR0FFekI0c0IsRUFBZTkwQixFQUFRbVcsWUFBWTZlLEdBQVNqbUMsTUFDNUM0bEMsR0FBbUJFLEVBQWdCQyxFQUFlbGEsRUFDbERpYSxFQUFnQkMsQ0FDbEIsQ0FDRixHQzlMRixNQUFNRyxFQUNKLFdBQUF0a0MsQ0FBWUMsR0FDVjNDLEtBQUsyQyxVQUFZQSxDQUNuQixDQUNBLFVBQUEweUIsQ0FBV3gxQixFQUFTd0osRUFBYXFkLEVBQVF1Z0IsR0FDaEIsaUJBQVpwbkMsS0FDVCxFQUFBOGtCLEVBQUEsSUFBWSxRQUFTLHFGQUNyQjlrQixFQUFVLENBQ1IwckIsS0FBTTFyQixFQUNONEwsTUFBT2liLEVBQ1AxZixXQUFZcUMsSUFHVnhKLEVBQVE0TCxpQkFBaUJtZ0IsRUFBQSxJQUM3Qi9yQixFQUFRNEwsTUFBUSxJQUFJbWdCLEVBQUEsRUFBVS9yQixFQUFRNEwsUUFFbEM1TCxFQUFRK21CLHdCQUF3QjNJLEVBQUEsSUFDcENwZSxFQUFRK21CLGFBQWUsSUFBSTNJLEVBQUEsRUFBYXBlLEVBQVErbUIsZUFFdEIsaUJBQWpCL21CLEVBQVEwckIsT0FDakIxckIsRUFBUTByQixLQUFPMXJCLEVBQVEwckIsS0FBS3BhLFlBRTlCLE1BQU0sS0FBRW9hLEVBQUksTUFBRTlmLEVBQUssYUFBRW1iLEdBQWlCL21CLEVBQ2hDbUgsRUFBYW5ILEVBQVFtSCxZQUFjaEgsS0FBSzJDLFVBQVVxRSxZQUNsRCxNQUFFb0IsRUFBSyxpQkFBRWlLLEdBQXFCdXpCLEVBQW9CQyxvQkFBb0IsQ0FDMUV0YSxPQUNBOWYsUUFDQXpFLGVBRUlrQixHQUFVLEVBQUF5eEIsRUFBQSxHQUF3QnRuQixFQUFpQlIsT0FBUXpKLEVBQU10SCxNQUFPc0gsRUFBTXJILE9BQVFpRyxHQVM1RixHQVJJNGYsSUFDRjFlLEVBQVFwQixPQUFPMkUsTUFBUW1iLEdBQ3JCbmIsRUFBTXNxQixPQUNSM3RCLEVBQU04RyxJQUFJekQsRUFBTWdELFNBQ2hCdkcsRUFBUUUsTUFBTWlhLFNBQVNqYSxHQUN2QkYsRUFBUUUsTUFBTTZDLE1BQU0sRUFBSWpFLEdBQ3hCa0IsRUFBUWcvQixhQUVOejdCLEVBQU16RyxRQUFTLENBQ2pCLE1BQU1taUMsRUFBa0JubkMsS0FBS29uQyxjQUFjbC9CLEVBQVN1RCxFQUFNekcsU0FHMUQsT0FGQWhGLEtBQUtnSixjQUFjZCxHQUNuQjA5QixFQUFvQnR6Qix1QkFBdUJELEdBQ3BDODBCLENBQ1QsQ0FHQSxPQUZBbm5DLEtBQUsyQyxVQUFVdUYsUUFBUTB4QixXQUFXMXhCLEVBQVFzQyxTQUMxQ283QixFQUFvQnR6Qix1QkFBdUJELEdBQ3BDbkssQ0FDVCxDQU1BLGFBQUFjLENBQWNkLEdBQ1osTUFBTXBCLEVBQVNvQixFQUFRcEIsT0FDdkJBLEVBQU9pRyxTQUFXLEtBQ2xCakcsRUFBT2d6QixlQUFpQixVQUN4Qmh6QixFQUFPK0IsVUFBWSx1QkFDbkJQLEVBQUEsRUFBWVUsY0FBY2QsR0FBUyxFQUNyQyxDQUtBLGtCQUFBbS9CLElBQ0UsRUFBQTFpQixFQUFBLElBQ0UsU0FDQSxvR0FFSixDQVdBLGFBQUF5aUIsQ0FBY2wvQixFQUFTbEQsR0FDckIsTUFBTXNpQyxFQUFzQnRuQyxLQUFLMkMsVUFBVStELGFBQWFBLGFBQ2xENmdDLEVBQWdCdm5DLEtBQUsyQyxVQUFVZ0IsT0FBT3NFLHdCQUF3QixDQUNsRUMsVUFDQWxELFlBR0YsT0FEQWhGLEtBQUsyQyxVQUFVK0QsYUFBYTBGLEtBQUtrN0IsR0FBcUIsR0FDL0NDLENBQ1QsQ0FDQSxPQUFBL2xDLEdBQ0V4QixLQUFLMkMsVUFBWSxJQUNuQixFQUdGcWtDLEVBQWlCdmxDLFVBQVksQ0FDM0JtQyxLQUFNLENBQ0osS0FBY3lMLFlBQ2QsS0FBY0MsYUFDZCxLQUFjeXFCLGNBRWhCLzFCLEtBQU0sY0N4R1IsS0FBVzlCLElBQUk4a0MsR0FDZixLQUFXOWtDLElBQUl3aUMsRSxnRENGZixNQUFNOEMsRUFBYSxJLFFBQUksR0FDdkIsU0FBUzdOLEVBQXdCOUUsRUFBTy96QixFQUFPQyxFQUFRaUcsR0FDckQsTUFBTS9CLEVBQVN1aUMsRUFDZnZpQyxFQUFPNEMsS0FBTyxFQUNkNUMsRUFBTzZDLEtBQU8sRUFDZDdDLEVBQU84dUIsS0FBT2MsRUFBTS96QixNQUFRa0csRUFBYSxFQUN6Qy9CLEVBQU8rdUIsS0FBT2EsRUFBTTl6QixPQUFTaUcsRUFBYSxFQUMxQyxNQUFNa0IsRUFBVSxJQUFZSyxrQkFDMUJ0RCxFQUFPbkUsTUFDUG1FLEVBQU9sRSxPQUNQaUcsR0FDQSxHQVNGLE9BUEFrQixFQUFRcEIsT0FBT2d6QixlQUFpQixRQUNoQzV4QixFQUFRcEIsT0FBT2lHLFNBQVc4bkIsRUFDMUIzc0IsRUFBUXBCLE9BQU8rQixVQUFZLDhCQUMzQlgsRUFBUUUsTUFBTXRILE1BQVFBLEVBQVFrRyxFQUM5QmtCLEVBQVFFLE1BQU1ySCxPQUFTQSxFQUFTaUcsRUFDaENrQixFQUFRcEIsT0FBT2tlLEtBQUssU0FBVTljLEVBQVFwQixRQUN0Q29CLEVBQVFnL0IsWUFDRGgvQixDQUNULEMsZ0RDdEJBLFNBQVMwckIsRUFBaUJuVSxFQUFpQjhMLEdBQ3pDLE1BQU0sUUFBRXJqQixFQUFPLE9BQUVqRCxHQUFXd2EsRUFDdEJoUixFQUFVOGMsRUFBSzdFLE9BQU9xWCxvQkFDNUIsT0FBaUI5NEIsRUFBUXNtQixFQUFLb0csUUFBU3pwQixHQUN2QyxNQUFNdS9CLEVBQWdCbGMsRUFBS29HLFFBQVFDLEdBQUtuakIsRUFBVSxFQUM1Q2k1QixFQUFpQm5jLEVBQUtvRyxRQUFRRSxHQUFLcGpCLEVBQVUsRUFDbkR4SixFQUFPNEMsTUFBUTRHLEVBQVVnNUIsRUFDekJ4aUMsRUFBTzZDLE1BQVEyRyxFQUFVaTVCLEVBQ3pCemlDLEVBQU84dUIsTUFBUXRsQixFQUFVZzVCLEVBQ3pCeGlDLEVBQU8rdUIsTUFBUXZsQixFQUFVaTVCLENBQzNCLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2FwcC9SZXNpemVQbHVnaW4ubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvYXBwL1RpY2tlclBsdWdpbi5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hcHAvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL0ZpbHRlclBpcGUubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9GaWx0ZXJTeXN0ZW0ubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL2JvdW5kcy9nZXRSZW5kZXJhYmxlQm91bmRzLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvbG9jYWxVbmlmb3JtQml0Lm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvQ2FudmFzUG9vbC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9ncmFwaGljcy9ncHUvY29sb3JUb1VuaWZvcm0ubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvZ3JhcGhpY3Mvc2hhcmVkL0dyYXBoaWNzUGlwZS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9ncmFwaGljcy9pbml0Lm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL21lc2gvc2hhcmVkL01lc2hQaXBlLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL21lc2gvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9tZXNoL3NoYXJlZC9CYXRjaGFibGVNZXNoLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9nbC9HbFBhcnRpY2xlQ29udGFpbmVyQWRhcHRvci5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvc2hhcmVkL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcy5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvc2hhcmVkL3V0aWxzL2dlbmVyYXRlUGFydGljbGVVcGRhdGVGdW5jdGlvbi5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvc2hhcmVkL1BhcnRpY2xlQnVmZmVyLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvc2hhZGVyL3BhcnRpY2xlcy53Z3NsLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvc2hhZGVyL1BhcnRpY2xlU2hhZGVyLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvc2hhZGVyL3BhcnRpY2xlcy52ZXJ0Lm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvc2hhZGVyL3BhcnRpY2xlcy5mcmFnLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvUGFydGljbGVDb250YWluZXJQaXBlLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvR2xQYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL2dwdS9HcHVQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL3NoYXJlZC9HcHVQYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL2luaXQubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLW5pbmUtc2xpY2UvTmluZVNsaWNlU3ByaXRlUGlwZS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtbmluZS1zbGljZS9pbml0Lm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvc2hhZGVyL3RpbGluZ0JpdC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtdGlsaW5nL3NoYWRlci9UaWxpbmdTcHJpdGVTaGFkZXIubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy91dGlscy9RdWFkR2VvbWV0cnkubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy9UaWxpbmdTcHJpdGVQaXBlLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvdXRpbHMvc2V0VXZzLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvdXRpbHMvYXBwbHlNYXRyaXgubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy91dGlscy9zZXRQb3NpdGlvbnMubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy9pbml0Lm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS9CYXRjaGFibGVTcHJpdGUubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC9zZGZTaGFkZXIvc2hhZGVyLWJpdHMvbG9jYWxVbmlmb3JtTVNERkJpdC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3NkZlNoYWRlci9zaGFkZXItYml0cy9tU0RGQml0Lm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQvc2RmU2hhZGVyL1NkZlNoYWRlci5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC9BYnN0cmFjdEJpdG1hcEZvbnQubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1iaXRtYXAvRHluYW1pY0JpdG1hcEZvbnQubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1iaXRtYXAvdXRpbHMvZ2V0Qml0bWFwVGV4dExheW91dC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC9CaXRtYXBGb250TWFuYWdlci5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC91dGlscy9yZXNvbHZlQ2hhcmFjdGVycy5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC9CaXRtYXBUZXh0UGlwZS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC9pbml0Lm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC9CYXRjaGFibGVIVE1MVGV4dC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvSFRNTFRleHRQaXBlLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC9IVE1MVGV4dFJlbmRlckRhdGEubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL3V0aWxzL2dldEZvbnRDc3MubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL3V0aWxzL21lYXN1cmVIdG1sVGV4dC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvSFRNTFRleHRTeXN0ZW0ubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL3V0aWxzL2V4dHJhY3RGb250RmFtaWxpZXMubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL3V0aWxzL2xvYWRGb250Q1NTLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC91dGlscy9sb2FkRm9udEFzQmFzZTY0Lm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC91dGlscy9nZXRTVkdVcmwubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL3V0aWxzL2xvYWRTVkdJbWFnZS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi91dGlscy9icm93c2VyL2lzU2FmYXJpLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC91dGlscy9nZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL2luaXQubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC91dGlscy9nZW5lcmF0ZVRleHRTdHlsZUtleS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L1RleHRTdHlsZS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L2NhbnZhcy9DYW52YXNUZXh0TWV0cmljcy5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L2NhbnZhcy91dGlscy9mb250U3RyaW5nRnJvbVRleHRTdHlsZS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L2NhbnZhcy91dGlscy9nZXRDYW52YXNGaWxsU3R5bGUubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC9jYW52YXMvQmF0Y2hhYmxlVGV4dC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L2NhbnZhcy9DYW52YXNUZXh0UGlwZS5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi91dGlscy9jYW52YXMvZ2V0Q2FudmFzQm91bmRpbmdCb3gubWpzIiwid2VicGFjazovL2NhcmRnYW1lbWFrZXIvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC9jYW52YXMvQ2FudmFzVGV4dEdlbmVyYXRvci5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L2NhbnZhcy9DYW52YXNUZXh0U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vY2FyZGdhbWVtYWtlci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3V0aWxzL2dldFBvMlRleHR1cmVGcm9tU291cmNlLm1qcyIsIndlYnBhY2s6Ly9jYXJkZ2FtZW1ha2VyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQvdXRpbHMvdXBkYXRlVGV4dEJvdW5kcy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFJlc2l6ZVBsdWdpbiB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICovXG4gIHN0YXRpYyBpbml0KG9wdGlvbnMpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICB0aGlzLFxuICAgICAgXCJyZXNpemVUb1wiLFxuICAgICAge1xuICAgICAgICBzZXQoZG9tKSB7XG4gICAgICAgICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvID0gZG9tO1xuICAgICAgICAgIGlmIChkb20pIHtcbiAgICAgICAgICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnF1ZXVlUmVzaXplKTtcbiAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc2l6ZVRvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLnF1ZXVlUmVzaXplID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9yZXNpemVUbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9jYW5jZWxSZXNpemUoKTtcbiAgICAgIHRoaXMuX3Jlc2l6ZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMucmVzaXplKCkpO1xuICAgIH07XG4gICAgdGhpcy5fY2FuY2VsUmVzaXplID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX3Jlc2l6ZUlkKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3Jlc2l6ZUlkKTtcbiAgICAgICAgdGhpcy5fcmVzaXplSWQgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5yZXNpemUgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX3Jlc2l6ZVRvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NhbmNlbFJlc2l6ZSgpO1xuICAgICAgbGV0IHdpZHRoO1xuICAgICAgbGV0IGhlaWdodDtcbiAgICAgIGlmICh0aGlzLl9yZXNpemVUbyA9PT0gZ2xvYmFsVGhpcy53aW5kb3cpIHtcbiAgICAgICAgd2lkdGggPSBnbG9iYWxUaGlzLmlubmVyV2lkdGg7XG4gICAgICAgIGhlaWdodCA9IGdsb2JhbFRoaXMuaW5uZXJIZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7IGNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQgfSA9IHRoaXMuX3Jlc2l6ZVRvO1xuICAgICAgICB3aWR0aCA9IGNsaWVudFdpZHRoO1xuICAgICAgICBoZWlnaHQgPSBjbGllbnRIZWlnaHQ7XG4gICAgICB9XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfTtcbiAgICB0aGlzLl9yZXNpemVJZCA9IG51bGw7XG4gICAgdGhpcy5fcmVzaXplVG8gPSBudWxsO1xuICAgIHRoaXMucmVzaXplVG8gPSBvcHRpb25zLnJlc2l6ZVRvIHx8IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIGRlc3Ryb3koKSB7XG4gICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucXVldWVSZXNpemUpO1xuICAgIHRoaXMuX2NhbmNlbFJlc2l6ZSgpO1xuICAgIHRoaXMuX2NhbmNlbFJlc2l6ZSA9IG51bGw7XG4gICAgdGhpcy5xdWV1ZVJlc2l6ZSA9IG51bGw7XG4gICAgdGhpcy5yZXNpemVUbyA9IG51bGw7XG4gICAgdGhpcy5yZXNpemUgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuUmVzaXplUGx1Z2luLmV4dGVuc2lvbiA9IEV4dGVuc2lvblR5cGUuQXBwbGljYXRpb247XG5cbmV4cG9ydCB7IFJlc2l6ZVBsdWdpbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzaXplUGx1Z2luLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFVQREFURV9QUklPUklUWSB9IGZyb20gJy4uL3RpY2tlci9jb25zdC5tanMnO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnLi4vdGlja2VyL1RpY2tlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFRpY2tlclBsdWdpbiB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICovXG4gIHN0YXRpYyBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBhdXRvU3RhcnQ6IHRydWUsXG4gICAgICBzaGFyZWRUaWNrZXI6IGZhbHNlXG4gICAgfSwgb3B0aW9ucyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgdGhpcyxcbiAgICAgIFwidGlja2VyXCIsXG4gICAgICB7XG4gICAgICAgIHNldCh0aWNrZXIpIHtcbiAgICAgICAgICBpZiAodGhpcy5fdGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fdGlja2VyID0gdGlja2VyO1xuICAgICAgICAgIGlmICh0aWNrZXIpIHtcbiAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIFVQREFURV9QUklPUklUWS5MT1cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl90aWNrZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuc3RvcCA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3RpY2tlci5zdG9wKCk7XG4gICAgfTtcbiAgICB0aGlzLnN0YXJ0ID0gKCkgPT4ge1xuICAgICAgdGhpcy5fdGlja2VyLnN0YXJ0KCk7XG4gICAgfTtcbiAgICB0aGlzLl90aWNrZXIgPSBudWxsO1xuICAgIHRoaXMudGlja2VyID0gb3B0aW9ucy5zaGFyZWRUaWNrZXIgPyBUaWNrZXIuc2hhcmVkIDogbmV3IFRpY2tlcigpO1xuICAgIGlmIChvcHRpb25zLmF1dG9TdGFydCkge1xuICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgY29uc3Qgb2xkVGlja2VyID0gdGhpcy5fdGlja2VyO1xuICAgICAgdGhpcy50aWNrZXIgPSBudWxsO1xuICAgICAgb2xkVGlja2VyLmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5UaWNrZXJQbHVnaW4uZXh0ZW5zaW9uID0gRXh0ZW5zaW9uVHlwZS5BcHBsaWNhdGlvbjtcblxuZXhwb3J0IHsgVGlja2VyUGx1Z2luIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrZXJQbHVnaW4ubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgUmVzaXplUGx1Z2luIH0gZnJvbSAnLi9SZXNpemVQbHVnaW4ubWpzJztcbmltcG9ydCB7IFRpY2tlclBsdWdpbiB9IGZyb20gJy4vVGlja2VyUGx1Z2luLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoUmVzaXplUGx1Z2luKTtcbmV4dGVuc2lvbnMuYWRkKFRpY2tlclBsdWdpbik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBGaWx0ZXJQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIHB1c2goZmlsdGVyRWZmZWN0LCBjb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgcmVuZGVyUGlwZXMgPSB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcztcbiAgICByZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJmaWx0ZXJcIixcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2UsXG4gICAgICBhY3Rpb246IFwicHVzaEZpbHRlclwiLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgZmlsdGVyRWZmZWN0XG4gICAgfSk7XG4gIH1cbiAgcG9wKF9maWx0ZXJFZmZlY3QsIF9jb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwiZmlsdGVyXCIsXG4gICAgICBhY3Rpb246IFwicG9wRmlsdGVyXCIsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cbiAgZXhlY3V0ZShpbnN0cnVjdGlvbikge1xuICAgIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicHVzaEZpbHRlclwiKSB7XG4gICAgICB0aGlzLl9yZW5kZXJlci5maWx0ZXIucHVzaChpbnN0cnVjdGlvbik7XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicG9wRmlsdGVyXCIpIHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbkZpbHRlclBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImZpbHRlclwiXG59O1xuXG5leHBvcnQgeyBGaWx0ZXJQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWx0ZXJQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IEJpbmRHcm91cCB9IGZyb20gJy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci9CaW5kR3JvdXAubWpzJztcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvZ2VvbWV0cnkvR2VvbWV0cnkubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IFRleHR1cmVQb29sIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlUG9vbC5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy90eXBlcy5tanMnO1xuaW1wb3J0IHsgQm91bmRzIH0gZnJvbSAnLi4vc2NlbmUvY29udGFpbmVyL2JvdW5kcy9Cb3VuZHMubWpzJztcbmltcG9ydCB7IGdldEdsb2JhbFJlbmRlcmFibGVCb3VuZHMgfSBmcm9tICcuLi9zY2VuZS9jb250YWluZXIvYm91bmRzL2dldFJlbmRlcmFibGVCb3VuZHMubWpzJztcbmltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi91dGlscy9sb2dnaW5nL3dhcm4ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBxdWFkR2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoe1xuICBhdHRyaWJ1dGVzOiB7XG4gICAgYVBvc2l0aW9uOiB7XG4gICAgICBidWZmZXI6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDEsIDEsIDAsIDFdKSxcbiAgICAgIGZvcm1hdDogXCJmbG9hdDMyeDJcIixcbiAgICAgIHN0cmlkZTogMiAqIDQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9XG4gIH0sXG4gIGluZGV4QnVmZmVyOiBuZXcgVWludDMyQXJyYXkoWzAsIDEsIDIsIDAsIDIsIDNdKVxufSk7XG5jbGFzcyBGaWx0ZXJEYXRhIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGZpbHRlciBzaG91bGQgYmUgc2tpcHBlZC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnNraXAgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB0byB3aGljaCB0aGUgZmlsdGVyIGlzIGFwcGxpZWQuXG4gICAgICogQHR5cGUge1RleHR1cmV9XG4gICAgICovXG4gICAgdGhpcy5pbnB1dFRleHR1cmUgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBiYWNrIHRleHR1cmUgdXNlZCBmb3IgYmxlbmRpbmcsIGlmIHJlcXVpcmVkLlxuICAgICAqIEB0eXBlIHtUZXh0dXJlIHwgbnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLmJhY2tUZXh0dXJlID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgbGlzdCBvZiBmaWx0ZXJzIHRvIGJlIGFwcGxpZWQuXG4gICAgICogQHR5cGUge0ZpbHRlcltdfVxuICAgICAqL1xuICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgLyoqXG4gICAgICogVGhlIGJvdW5kcyBvZiB0aGUgZmlsdGVyIGFyZWEuXG4gICAgICogQHR5cGUge0JvdW5kc31cbiAgICAgKi9cbiAgICB0aGlzLmJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAvKipcbiAgICAgKiBUaGUgY29udGFpbmVyIHRvIHdoaWNoIHRoZSBmaWx0ZXIgaXMgYXBwbGllZC5cbiAgICAgKiBAdHlwZSB7Q29udGFpbmVyfVxuICAgICAqL1xuICAgIHRoaXMuY29udGFpbmVyID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBibGVuZGluZyBpcyByZXF1aXJlZCBmb3IgdGhlIGZpbHRlci5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmJsZW5kUmVxdWlyZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVuZGVyIHN1cmZhY2Ugd2hlcmUgdGhlIG91dHB1dCBvZiB0aGUgZmlsdGVyIGlzIHJlbmRlcmVkLlxuICAgICAqIEB0eXBlIHtSZW5kZXJTdXJmYWNlfVxuICAgICAqL1xuICAgIHRoaXMub3V0cHV0UmVuZGVyU3VyZmFjZSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogVGhlIGdsb2JhbCBmcmFtZSBvZiB0aGUgZmlsdGVyIGFyZWEuXG4gICAgICogQHR5cGUge3sgeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyIH19XG4gICAgICovXG4gICAgdGhpcy5nbG9iYWxGcmFtZSA9IHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICB9XG59XG5jbGFzcyBGaWx0ZXJTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2ZpbHRlclN0YWNrSW5kZXggPSAwO1xuICAgIHRoaXMuX2ZpbHRlclN0YWNrID0gW107XG4gICAgdGhpcy5fZmlsdGVyR2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgIHVJbnB1dFNpemU6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoNCksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVJbnB1dFBpeGVsOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KDQpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1SW5wdXRDbGFtcDogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheSg0KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdU91dHB1dEZyYW1lOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KDQpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1R2xvYmFsRnJhbWU6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoNCksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVPdXRwdXRUZXh0dXJlOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KDQpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH1cbiAgICB9KTtcbiAgICB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAgPSBuZXcgQmluZEdyb3VwKHt9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBiYWNrIHRleHR1cmUgb2YgdGhlIGN1cnJlbnRseSBhY3RpdmUgZmlsdGVyLiBSZXF1aXJlcyB0aGUgZmlsdGVyIHRvIGhhdmUgYGJsZW5kUmVxdWlyZWRgIHNldCB0byB0cnVlLlxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBhY3RpdmVCYWNrVGV4dHVyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlRmlsdGVyRGF0YT8uYmFja1RleHR1cmU7XG4gIH1cbiAgLyoqXG4gICAqIFB1c2hlcyBhIGZpbHRlciBpbnN0cnVjdGlvbiBvbnRvIHRoZSBmaWx0ZXIgc3RhY2suXG4gICAqIEBwYXJhbSBpbnN0cnVjdGlvbiAtIFRoZSBpbnN0cnVjdGlvbiBjb250YWluaW5nIHRoZSBmaWx0ZXIgZWZmZWN0IGFuZCBjb250YWluZXIuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHVzaChpbnN0cnVjdGlvbikge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBjb25zdCBmaWx0ZXJzID0gaW5zdHJ1Y3Rpb24uZmlsdGVyRWZmZWN0LmZpbHRlcnM7XG4gICAgY29uc3QgZmlsdGVyRGF0YSA9IHRoaXMuX3B1c2hGaWx0ZXJEYXRhKCk7XG4gICAgZmlsdGVyRGF0YS5za2lwID0gZmFsc2U7XG4gICAgZmlsdGVyRGF0YS5maWx0ZXJzID0gZmlsdGVycztcbiAgICBmaWx0ZXJEYXRhLmNvbnRhaW5lciA9IGluc3RydWN0aW9uLmNvbnRhaW5lcjtcbiAgICBmaWx0ZXJEYXRhLm91dHB1dFJlbmRlclN1cmZhY2UgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyU3VyZmFjZTtcbiAgICBjb25zdCBjb2xvclRleHR1cmVTb3VyY2UgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0LmNvbG9yVGV4dHVyZS5zb3VyY2U7XG4gICAgY29uc3Qgcm9vdFJlc29sdXRpb24gPSBjb2xvclRleHR1cmVTb3VyY2UucmVzb2x1dGlvbjtcbiAgICBjb25zdCByb290QW50aWFsaWFzID0gY29sb3JUZXh0dXJlU291cmNlLmFudGlhbGlhcztcbiAgICBpZiAoZmlsdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGZpbHRlckRhdGEuc2tpcCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGJvdW5kcyA9IGZpbHRlckRhdGEuYm91bmRzO1xuICAgIHRoaXMuX2NhbGN1bGF0ZUZpbHRlckFyZWEoaW5zdHJ1Y3Rpb24sIGJvdW5kcyk7XG4gICAgdGhpcy5fY2FsY3VsYXRlRmlsdGVyQm91bmRzKGZpbHRlckRhdGEsIHJlbmRlcmVyLnJlbmRlclRhcmdldC5yb290Vmlld1BvcnQsIHJvb3RBbnRpYWxpYXMsIHJvb3RSZXNvbHV0aW9uLCAxKTtcbiAgICBpZiAoZmlsdGVyRGF0YS5za2lwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByZXZpb3VzRmlsdGVyRGF0YSA9IHRoaXMuX2dldFByZXZpb3VzRmlsdGVyRGF0YSgpO1xuICAgIGNvbnN0IGdsb2JhbFJlc29sdXRpb24gPSB0aGlzLl9maW5kRmlsdGVyUmVzb2x1dGlvbihyb290UmVzb2x1dGlvbik7XG4gICAgbGV0IG9mZnNldFggPSAwO1xuICAgIGxldCBvZmZzZXRZID0gMDtcbiAgICBpZiAocHJldmlvdXNGaWx0ZXJEYXRhKSB7XG4gICAgICBvZmZzZXRYID0gcHJldmlvdXNGaWx0ZXJEYXRhLmJvdW5kcy5taW5YO1xuICAgICAgb2Zmc2V0WSA9IHByZXZpb3VzRmlsdGVyRGF0YS5ib3VuZHMubWluWTtcbiAgICB9XG4gICAgdGhpcy5fY2FsY3VsYXRlR2xvYmFsRnJhbWUoXG4gICAgICBmaWx0ZXJEYXRhLFxuICAgICAgb2Zmc2V0WCxcbiAgICAgIG9mZnNldFksXG4gICAgICBnbG9iYWxSZXNvbHV0aW9uLFxuICAgICAgY29sb3JUZXh0dXJlU291cmNlLndpZHRoLFxuICAgICAgY29sb3JUZXh0dXJlU291cmNlLmhlaWdodFxuICAgICk7XG4gICAgdGhpcy5fc2V0dXBGaWx0ZXJUZXh0dXJlcyhmaWx0ZXJEYXRhLCBib3VuZHMsIHJlbmRlcmVyLCBwcmV2aW91c0ZpbHRlckRhdGEpO1xuICB9XG4gIC8qKlxuICAgKiBBcHBsaWVzIGZpbHRlcnMgdG8gYSB0ZXh0dXJlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBhIHRleHR1cmUgYW5kIGEgbGlzdCBvZiBmaWx0ZXJzLCBhcHBsaWVzIHRoZSBmaWx0ZXJzIHRvIHRoZSB0ZXh0dXJlLFxuICAgKiBhbmQgcmV0dXJucyB0aGUgcmVzdWx0aW5nIHRleHR1cmUuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgYXBwbHlpbmcgZmlsdGVycy5cbiAgICogQHBhcmFtIHtUZXh0dXJlfSBwYXJhbXMudGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIGFwcGx5IGZpbHRlcnMgdG8uXG4gICAqIEBwYXJhbSB7RmlsdGVyW119IHBhcmFtcy5maWx0ZXJzIC0gVGhlIGZpbHRlcnMgdG8gYXBwbHkuXG4gICAqIEByZXR1cm5zIHtUZXh0dXJlfSBUaGUgcmVzdWx0aW5nIHRleHR1cmUgYWZ0ZXIgYWxsIGZpbHRlcnMgaGF2ZSBiZWVuIGFwcGxpZWQuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIC8vIENyZWF0ZSBhIHRleHR1cmUgYW5kIGEgbGlzdCBvZiBmaWx0ZXJzXG4gICAqIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZSguLi4pO1xuICAgKiBjb25zdCBmaWx0ZXJzID0gW25ldyBCbHVyRmlsdGVyKCksIG5ldyBDb2xvck1hdHJpeEZpbHRlcigpXTtcbiAgICpcbiAgICogLy8gQXBwbHkgdGhlIGZpbHRlcnMgdG8gdGhlIHRleHR1cmVcbiAgICogY29uc3QgcmVzdWx0VGV4dHVyZSA9IGZpbHRlclN5c3RlbS5hcHBseVRvVGV4dHVyZSh7IHRleHR1cmUsIGZpbHRlcnMgfSk7XG4gICAqXG4gICAqIC8vIFVzZSB0aGUgcmVzdWx0aW5nIHRleHR1cmVcbiAgICogc3ByaXRlLnRleHR1cmUgPSByZXN1bHRUZXh0dXJlO1xuICAgKiBgYGBcbiAgICpcbiAgICogS2V5IFBvaW50czpcbiAgICogMS4gcGFkZGluZyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBoZXJlIC0gc28gY2xpcHBpbmcgbWF5IG9jY3VyIHdpdGggZmlsdGVycyB0aGF0IHVzZSBwYWRkaW5nLlxuICAgKiAyLiBJZiBhbGwgZmlsdGVycyBhcmUgZGlzYWJsZWQgb3Igc2tpcHBlZCwgdGhlIG9yaWdpbmFsIHRleHR1cmUgaXMgcmV0dXJuZWQuXG4gICAqL1xuICBnZW5lcmF0ZUZpbHRlcmVkVGV4dHVyZSh7IHRleHR1cmUsIGZpbHRlcnMgfSkge1xuICAgIGNvbnN0IGZpbHRlckRhdGEgPSB0aGlzLl9wdXNoRmlsdGVyRGF0YSgpO1xuICAgIHRoaXMuX2FjdGl2ZUZpbHRlckRhdGEgPSBmaWx0ZXJEYXRhO1xuICAgIGZpbHRlckRhdGEuc2tpcCA9IGZhbHNlO1xuICAgIGZpbHRlckRhdGEuZmlsdGVycyA9IGZpbHRlcnM7XG4gICAgY29uc3QgY29sb3JUZXh0dXJlU291cmNlID0gdGV4dHVyZS5zb3VyY2U7XG4gICAgY29uc3Qgcm9vdFJlc29sdXRpb24gPSBjb2xvclRleHR1cmVTb3VyY2UucmVzb2x1dGlvbjtcbiAgICBjb25zdCByb290QW50aWFsaWFzID0gY29sb3JUZXh0dXJlU291cmNlLmFudGlhbGlhcztcbiAgICBpZiAoZmlsdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGZpbHRlckRhdGEuc2tpcCA9IHRydWU7XG4gICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG4gICAgY29uc3QgYm91bmRzID0gZmlsdGVyRGF0YS5ib3VuZHM7XG4gICAgYm91bmRzLmFkZFJlY3QodGV4dHVyZS5mcmFtZSk7XG4gICAgdGhpcy5fY2FsY3VsYXRlRmlsdGVyQm91bmRzKGZpbHRlckRhdGEsIGJvdW5kcy5yZWN0YW5nbGUsIHJvb3RBbnRpYWxpYXMsIHJvb3RSZXNvbHV0aW9uLCAwKTtcbiAgICBpZiAoZmlsdGVyRGF0YS5za2lwKSB7XG4gICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG4gICAgY29uc3QgZ2xvYmFsUmVzb2x1dGlvbiA9IHJvb3RSZXNvbHV0aW9uO1xuICAgIGNvbnN0IG9mZnNldFggPSAwO1xuICAgIGNvbnN0IG9mZnNldFkgPSAwO1xuICAgIHRoaXMuX2NhbGN1bGF0ZUdsb2JhbEZyYW1lKFxuICAgICAgZmlsdGVyRGF0YSxcbiAgICAgIG9mZnNldFgsXG4gICAgICBvZmZzZXRZLFxuICAgICAgZ2xvYmFsUmVzb2x1dGlvbixcbiAgICAgIGNvbG9yVGV4dHVyZVNvdXJjZS53aWR0aCxcbiAgICAgIGNvbG9yVGV4dHVyZVNvdXJjZS5oZWlnaHRcbiAgICApO1xuICAgIGZpbHRlckRhdGEub3V0cHV0UmVuZGVyU3VyZmFjZSA9IFRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKFxuICAgICAgYm91bmRzLndpZHRoLFxuICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgIGZpbHRlckRhdGEucmVzb2x1dGlvbixcbiAgICAgIGZpbHRlckRhdGEuYW50aWFsaWFzXG4gICAgKTtcbiAgICBmaWx0ZXJEYXRhLmJhY2tUZXh0dXJlID0gVGV4dHVyZS5FTVBUWTtcbiAgICBmaWx0ZXJEYXRhLmlucHV0VGV4dHVyZSA9IHRleHR1cmU7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5maW5pc2hSZW5kZXJQYXNzKCk7XG4gICAgdGhpcy5fYXBwbHlGaWx0ZXJzVG9UZXh0dXJlKGZpbHRlckRhdGEsIHRydWUpO1xuICAgIGNvbnN0IG91dHB1dFRleHR1cmUgPSBmaWx0ZXJEYXRhLm91dHB1dFJlbmRlclN1cmZhY2U7XG4gICAgb3V0cHV0VGV4dHVyZS5zb3VyY2UuYWxwaGFNb2RlID0gXCJwcmVtdWx0aXBsaWVkLWFscGhhXCI7XG4gICAgcmV0dXJuIG91dHB1dFRleHR1cmU7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwb3AoKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IGZpbHRlckRhdGEgPSB0aGlzLl9wb3BGaWx0ZXJEYXRhKCk7XG4gICAgaWYgKGZpbHRlckRhdGEuc2tpcCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wb3AoKTtcbiAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuZmluaXNoUmVuZGVyUGFzcygpO1xuICAgIHRoaXMuX2FjdGl2ZUZpbHRlckRhdGEgPSBmaWx0ZXJEYXRhO1xuICAgIHRoaXMuX2FwcGx5RmlsdGVyc1RvVGV4dHVyZShmaWx0ZXJEYXRhLCBmYWxzZSk7XG4gICAgaWYgKGZpbHRlckRhdGEuYmxlbmRSZXF1aXJlZCkge1xuICAgICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShmaWx0ZXJEYXRhLmJhY2tUZXh0dXJlKTtcbiAgICB9XG4gICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShmaWx0ZXJEYXRhLmlucHV0VGV4dHVyZSk7XG4gIH1cbiAgLyoqXG4gICAqIENvcGllcyB0aGUgbGFzdCByZW5kZXIgc3VyZmFjZSB0byBhIHRleHR1cmUuXG4gICAqIEBwYXJhbSBsYXN0UmVuZGVyU3VyZmFjZSAtIFRoZSBsYXN0IHJlbmRlciBzdXJmYWNlIHRvIGNvcHkgZnJvbS5cbiAgICogQHBhcmFtIGJvdW5kcyAtIFRoZSBib3VuZHMgb2YgdGhlIGFyZWEgdG8gY29weS5cbiAgICogQHBhcmFtIHByZXZpb3VzQm91bmRzIC0gVGhlIHByZXZpb3VzIGJvdW5kcyB0byB1c2UgZm9yIG9mZnNldHRpbmcgdGhlIGNvcHkuXG4gICAqL1xuICBnZXRCYWNrVGV4dHVyZShsYXN0UmVuZGVyU3VyZmFjZSwgYm91bmRzLCBwcmV2aW91c0JvdW5kcykge1xuICAgIGNvbnN0IGJhY2tncm91bmRSZXNvbHV0aW9uID0gbGFzdFJlbmRlclN1cmZhY2UuY29sb3JUZXh0dXJlLnNvdXJjZS5fcmVzb2x1dGlvbjtcbiAgICBjb25zdCBiYWNrVGV4dHVyZSA9IFRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKFxuICAgICAgYm91bmRzLndpZHRoLFxuICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgIGJhY2tncm91bmRSZXNvbHV0aW9uLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIGxldCB4ID0gYm91bmRzLm1pblg7XG4gICAgbGV0IHkgPSBib3VuZHMubWluWTtcbiAgICBpZiAocHJldmlvdXNCb3VuZHMpIHtcbiAgICAgIHggLT0gcHJldmlvdXNCb3VuZHMubWluWDtcbiAgICAgIHkgLT0gcHJldmlvdXNCb3VuZHMubWluWTtcbiAgICB9XG4gICAgeCA9IE1hdGguZmxvb3IoeCAqIGJhY2tncm91bmRSZXNvbHV0aW9uKTtcbiAgICB5ID0gTWF0aC5mbG9vcih5ICogYmFja2dyb3VuZFJlc29sdXRpb24pO1xuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKGJvdW5kcy53aWR0aCAqIGJhY2tncm91bmRSZXNvbHV0aW9uKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmNlaWwoYm91bmRzLmhlaWdodCAqIGJhY2tncm91bmRSZXNvbHV0aW9uKTtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclRhcmdldC5jb3B5VG9UZXh0dXJlKFxuICAgICAgbGFzdFJlbmRlclN1cmZhY2UsXG4gICAgICBiYWNrVGV4dHVyZSxcbiAgICAgIHsgeCwgeSB9LFxuICAgICAgeyB3aWR0aCwgaGVpZ2h0IH0sXG4gICAgICB7IHg6IDAsIHk6IDAgfVxuICAgICk7XG4gICAgcmV0dXJuIGJhY2tUZXh0dXJlO1xuICB9XG4gIC8qKlxuICAgKiBBcHBsaWVzIGEgZmlsdGVyIHRvIGEgdGV4dHVyZS5cbiAgICogQHBhcmFtIGZpbHRlciAtIFRoZSBmaWx0ZXIgdG8gYXBwbHkuXG4gICAqIEBwYXJhbSBpbnB1dCAtIFRoZSBpbnB1dCB0ZXh0dXJlLlxuICAgKiBAcGFyYW0gb3V0cHV0IC0gVGhlIG91dHB1dCByZW5kZXIgc3VyZmFjZS5cbiAgICogQHBhcmFtIGNsZWFyIC0gV2hldGhlciB0byBjbGVhciB0aGUgb3V0cHV0IHN1cmZhY2UgYmVmb3JlIGFwcGx5aW5nIHRoZSBmaWx0ZXIuXG4gICAqL1xuICBhcHBseUZpbHRlcihmaWx0ZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IGZpbHRlckRhdGEgPSB0aGlzLl9hY3RpdmVGaWx0ZXJEYXRhO1xuICAgIGNvbnN0IG91dHB1dFJlbmRlclN1cmZhY2UgPSBmaWx0ZXJEYXRhLm91dHB1dFJlbmRlclN1cmZhY2U7XG4gICAgY29uc3QgaXNGaW5hbFRhcmdldCA9IG91dHB1dFJlbmRlclN1cmZhY2UgPT09IG91dHB1dDtcbiAgICBjb25zdCByb290UmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlbmRlclRhcmdldC5yb290UmVuZGVyVGFyZ2V0LmNvbG9yVGV4dHVyZS5zb3VyY2UuX3Jlc29sdXRpb247XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHRoaXMuX2ZpbmRGaWx0ZXJSZXNvbHV0aW9uKHJvb3RSZXNvbHV0aW9uKTtcbiAgICBsZXQgb2Zmc2V0WCA9IDA7XG4gICAgbGV0IG9mZnNldFkgPSAwO1xuICAgIGlmIChpc0ZpbmFsVGFyZ2V0KSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLl9maW5kUHJldmlvdXNGaWx0ZXJPZmZzZXQoKTtcbiAgICAgIG9mZnNldFggPSBvZmZzZXQueDtcbiAgICAgIG9mZnNldFkgPSBvZmZzZXQueTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlRmlsdGVyVW5pZm9ybXMoaW5wdXQsIG91dHB1dCwgZmlsdGVyRGF0YSwgb2Zmc2V0WCwgb2Zmc2V0WSwgcmVzb2x1dGlvbiwgaXNGaW5hbFRhcmdldCwgY2xlYXIpO1xuICAgIHRoaXMuX3NldHVwQmluZEdyb3Vwc0FuZFJlbmRlcihmaWx0ZXIsIGlucHV0LCByZW5kZXJlcik7XG4gIH1cbiAgLyoqXG4gICAqIE11bHRpcGx5IF9pbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzXyB0byB0aGlzIG1hdHJpeCB0byBnZXQgX3Nwcml0ZSB0ZXh0dXJlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfLlxuICAgKlxuICAgKiBVc2UgYG91dHB1dE1hdHJpeCAqIHZUZXh0dXJlQ29vcmRgIGluIHRoZSBzaGFkZXIuXG4gICAqIEBwYXJhbSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICogQHBhcmFtIHtTcHJpdGV9IHNwcml0ZSAtIFRoZSBzcHJpdGUgdG8gbWFwIHRvLlxuICAgKiBAcmV0dXJucyBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICovXG4gIGNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXgsIHNwcml0ZSkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9hY3RpdmVGaWx0ZXJEYXRhO1xuICAgIGNvbnN0IG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5zZXQoXG4gICAgICBkYXRhLmlucHV0VGV4dHVyZS5fc291cmNlLndpZHRoLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICBkYXRhLmlucHV0VGV4dHVyZS5fc291cmNlLmhlaWdodCxcbiAgICAgIGRhdGEuYm91bmRzLm1pblgsXG4gICAgICBkYXRhLmJvdW5kcy5taW5ZXG4gICAgKTtcbiAgICBjb25zdCB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5VG8oTWF0cml4LnNoYXJlZCk7XG4gICAgY29uc3QgcmVuZGVyR3JvdXAgPSBzcHJpdGUucmVuZGVyR3JvdXAgfHwgc3ByaXRlLnBhcmVudFJlbmRlckdyb3VwO1xuICAgIGlmIChyZW5kZXJHcm91cCAmJiByZW5kZXJHcm91cC5jYWNoZVRvTG9jYWxUcmFuc2Zvcm0pIHtcbiAgICAgIHdvcmxkVHJhbnNmb3JtLnByZXBlbmQocmVuZGVyR3JvdXAuY2FjaGVUb0xvY2FsVHJhbnNmb3JtKTtcbiAgICB9XG4gICAgd29ybGRUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgbWFwcGVkTWF0cml4LnByZXBlbmQod29ybGRUcmFuc2Zvcm0pO1xuICAgIG1hcHBlZE1hdHJpeC5zY2FsZShcbiAgICAgIDEgLyBzcHJpdGUudGV4dHVyZS5vcmlnLndpZHRoLFxuICAgICAgMSAvIHNwcml0ZS50ZXh0dXJlLm9yaWcuaGVpZ2h0XG4gICAgKTtcbiAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNwcml0ZS5hbmNob3IueCwgc3ByaXRlLmFuY2hvci55KTtcbiAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdXAgdGhlIGJpbmQgZ3JvdXBzIGFuZCByZW5kZXJzIHRoZSBmaWx0ZXIuXG4gICAqIEBwYXJhbSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHRvIGFwcGx5XG4gICAqIEBwYXJhbSBpbnB1dCAtIFRoZSBpbnB1dCB0ZXh0dXJlXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlciBpbnN0YW5jZVxuICAgKi9cbiAgX3NldHVwQmluZEdyb3Vwc0FuZFJlbmRlcihmaWx0ZXIsIGlucHV0LCByZW5kZXJlcikge1xuICAgIGlmIChyZW5kZXJlci5yZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2gpIHtcbiAgICAgIGNvbnN0IGJhdGNoVW5pZm9ybXMgPSByZW5kZXJlci5yZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2guZ2V0VWJvUmVzb3VyY2UodGhpcy5fZmlsdGVyR2xvYmFsVW5pZm9ybXMpO1xuICAgICAgdGhpcy5fZ2xvYmFsRmlsdGVyQmluZEdyb3VwLnNldFJlc291cmNlKGJhdGNoVW5pZm9ybXMsIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAuc2V0UmVzb3VyY2UodGhpcy5fZmlsdGVyR2xvYmFsVW5pZm9ybXMsIDApO1xuICAgIH1cbiAgICB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAuc2V0UmVzb3VyY2UoaW5wdXQuc291cmNlLCAxKTtcbiAgICB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAuc2V0UmVzb3VyY2UoaW5wdXQuc291cmNlLnN0eWxlLCAyKTtcbiAgICBmaWx0ZXIuZ3JvdXBzWzBdID0gdGhpcy5fZ2xvYmFsRmlsdGVyQmluZEdyb3VwO1xuICAgIHJlbmRlcmVyLmVuY29kZXIuZHJhdyh7XG4gICAgICBnZW9tZXRyeTogcXVhZEdlb21ldHJ5LFxuICAgICAgc2hhZGVyOiBmaWx0ZXIsXG4gICAgICBzdGF0ZTogZmlsdGVyLl9zdGF0ZSxcbiAgICAgIHRvcG9sb2d5OiBcInRyaWFuZ2xlLWxpc3RcIlxuICAgIH0pO1xuICAgIGlmIChyZW5kZXJlci50eXBlID09PSBSZW5kZXJlclR5cGUuV0VCR0wpIHtcbiAgICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5maW5pc2hSZW5kZXJQYXNzKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTZXRzIHVwIHRoZSBmaWx0ZXIgdGV4dHVyZXMgaW5jbHVkaW5nIGlucHV0IHRleHR1cmUgYW5kIGJhY2sgdGV4dHVyZSBpZiBuZWVkZWQuXG4gICAqIEBwYXJhbSBmaWx0ZXJEYXRhIC0gVGhlIGZpbHRlciBkYXRhIHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0gYm91bmRzIC0gVGhlIGJvdW5kcyBmb3IgdGhlIHRleHR1cmVcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIGluc3RhbmNlXG4gICAqIEBwYXJhbSBwcmV2aW91c0ZpbHRlckRhdGEgLSBUaGUgcHJldmlvdXMgZmlsdGVyIGRhdGEgZm9yIGJhY2sgdGV4dHVyZSBjYWxjdWxhdGlvblxuICAgKi9cbiAgX3NldHVwRmlsdGVyVGV4dHVyZXMoZmlsdGVyRGF0YSwgYm91bmRzLCByZW5kZXJlciwgcHJldmlvdXNGaWx0ZXJEYXRhKSB7XG4gICAgZmlsdGVyRGF0YS5iYWNrVGV4dHVyZSA9IFRleHR1cmUuRU1QVFk7XG4gICAgaWYgKGZpbHRlckRhdGEuYmxlbmRSZXF1aXJlZCkge1xuICAgICAgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LmZpbmlzaFJlbmRlclBhc3MoKTtcbiAgICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IHJlbmRlcmVyLnJlbmRlclRhcmdldC5nZXRSZW5kZXJUYXJnZXQoZmlsdGVyRGF0YS5vdXRwdXRSZW5kZXJTdXJmYWNlKTtcbiAgICAgIGZpbHRlckRhdGEuYmFja1RleHR1cmUgPSB0aGlzLmdldEJhY2tUZXh0dXJlKHJlbmRlclRhcmdldCwgYm91bmRzLCBwcmV2aW91c0ZpbHRlckRhdGE/LmJvdW5kcyk7XG4gICAgfVxuICAgIGZpbHRlckRhdGEuaW5wdXRUZXh0dXJlID0gVGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUoXG4gICAgICBib3VuZHMud2lkdGgsXG4gICAgICBib3VuZHMuaGVpZ2h0LFxuICAgICAgZmlsdGVyRGF0YS5yZXNvbHV0aW9uLFxuICAgICAgZmlsdGVyRGF0YS5hbnRpYWxpYXNcbiAgICApO1xuICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5iaW5kKGZpbHRlckRhdGEuaW5wdXRUZXh0dXJlLCB0cnVlKTtcbiAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wdXNoKHtcbiAgICAgIG9mZnNldDogYm91bmRzXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgYW5kIHNldHMgdGhlIGdsb2JhbCBmcmFtZSBmb3IgdGhlIGZpbHRlci5cbiAgICogQHBhcmFtIGZpbHRlckRhdGEgLSBUaGUgZmlsdGVyIGRhdGEgdG8gdXBkYXRlXG4gICAqIEBwYXJhbSBvZmZzZXRYIC0gVGhlIFggb2Zmc2V0XG4gICAqIEBwYXJhbSBvZmZzZXRZIC0gVGhlIFkgb2Zmc2V0XG4gICAqIEBwYXJhbSBnbG9iYWxSZXNvbHV0aW9uIC0gVGhlIGdsb2JhbCByZXNvbHV0aW9uXG4gICAqIEBwYXJhbSBzb3VyY2VXaWR0aCAtIFRoZSBzb3VyY2UgdGV4dHVyZSB3aWR0aFxuICAgKiBAcGFyYW0gc291cmNlSGVpZ2h0IC0gVGhlIHNvdXJjZSB0ZXh0dXJlIGhlaWdodFxuICAgKi9cbiAgX2NhbGN1bGF0ZUdsb2JhbEZyYW1lKGZpbHRlckRhdGEsIG9mZnNldFgsIG9mZnNldFksIGdsb2JhbFJlc29sdXRpb24sIHNvdXJjZVdpZHRoLCBzb3VyY2VIZWlnaHQpIHtcbiAgICBjb25zdCBnbG9iYWxGcmFtZSA9IGZpbHRlckRhdGEuZ2xvYmFsRnJhbWU7XG4gICAgZ2xvYmFsRnJhbWUueCA9IG9mZnNldFggKiBnbG9iYWxSZXNvbHV0aW9uO1xuICAgIGdsb2JhbEZyYW1lLnkgPSBvZmZzZXRZICogZ2xvYmFsUmVzb2x1dGlvbjtcbiAgICBnbG9iYWxGcmFtZS53aWR0aCA9IHNvdXJjZVdpZHRoICogZ2xvYmFsUmVzb2x1dGlvbjtcbiAgICBnbG9iYWxGcmFtZS5oZWlnaHQgPSBzb3VyY2VIZWlnaHQgKiBnbG9iYWxSZXNvbHV0aW9uO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBmaWx0ZXIgdW5pZm9ybXMgd2l0aCB0aGUgY3VycmVudCBmaWx0ZXIgc3RhdGUuXG4gICAqIEBwYXJhbSBpbnB1dCAtIFRoZSBpbnB1dCB0ZXh0dXJlXG4gICAqIEBwYXJhbSBvdXRwdXQgLSBUaGUgb3V0cHV0IHJlbmRlciBzdXJmYWNlXG4gICAqIEBwYXJhbSBmaWx0ZXJEYXRhIC0gVGhlIGN1cnJlbnQgZmlsdGVyIGRhdGFcbiAgICogQHBhcmFtIG9mZnNldFggLSBUaGUgWCBvZmZzZXQgZm9yIHBvc2l0aW9uaW5nXG4gICAqIEBwYXJhbSBvZmZzZXRZIC0gVGhlIFkgb2Zmc2V0IGZvciBwb3NpdGlvbmluZ1xuICAgKiBAcGFyYW0gcmVzb2x1dGlvbiAtIFRoZSBjdXJyZW50IHJlc29sdXRpb25cbiAgICogQHBhcmFtIGlzRmluYWxUYXJnZXQgLSBXaGV0aGVyIHRoaXMgaXMgdGhlIGZpbmFsIHJlbmRlciB0YXJnZXRcbiAgICogQHBhcmFtIGNsZWFyIC0gV2hldGhlciB0byBjbGVhciB0aGUgb3V0cHV0IHN1cmZhY2VcbiAgICovXG4gIF91cGRhdGVGaWx0ZXJVbmlmb3JtcyhpbnB1dCwgb3V0cHV0LCBmaWx0ZXJEYXRhLCBvZmZzZXRYLCBvZmZzZXRZLCByZXNvbHV0aW9uLCBpc0ZpbmFsVGFyZ2V0LCBjbGVhcikge1xuICAgIGNvbnN0IHVuaWZvcm1zID0gdGhpcy5fZmlsdGVyR2xvYmFsVW5pZm9ybXMudW5pZm9ybXM7XG4gICAgY29uc3Qgb3V0cHV0RnJhbWUgPSB1bmlmb3Jtcy51T3V0cHV0RnJhbWU7XG4gICAgY29uc3QgaW5wdXRTaXplID0gdW5pZm9ybXMudUlucHV0U2l6ZTtcbiAgICBjb25zdCBpbnB1dFBpeGVsID0gdW5pZm9ybXMudUlucHV0UGl4ZWw7XG4gICAgY29uc3QgaW5wdXRDbGFtcCA9IHVuaWZvcm1zLnVJbnB1dENsYW1wO1xuICAgIGNvbnN0IGdsb2JhbEZyYW1lID0gdW5pZm9ybXMudUdsb2JhbEZyYW1lO1xuICAgIGNvbnN0IG91dHB1dFRleHR1cmUgPSB1bmlmb3Jtcy51T3V0cHV0VGV4dHVyZTtcbiAgICBpZiAoaXNGaW5hbFRhcmdldCkge1xuICAgICAgb3V0cHV0RnJhbWVbMF0gPSBmaWx0ZXJEYXRhLmJvdW5kcy5taW5YIC0gb2Zmc2V0WDtcbiAgICAgIG91dHB1dEZyYW1lWzFdID0gZmlsdGVyRGF0YS5ib3VuZHMubWluWSAtIG9mZnNldFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dEZyYW1lWzBdID0gMDtcbiAgICAgIG91dHB1dEZyYW1lWzFdID0gMDtcbiAgICB9XG4gICAgb3V0cHV0RnJhbWVbMl0gPSBpbnB1dC5mcmFtZS53aWR0aDtcbiAgICBvdXRwdXRGcmFtZVszXSA9IGlucHV0LmZyYW1lLmhlaWdodDtcbiAgICBpbnB1dFNpemVbMF0gPSBpbnB1dC5zb3VyY2Uud2lkdGg7XG4gICAgaW5wdXRTaXplWzFdID0gaW5wdXQuc291cmNlLmhlaWdodDtcbiAgICBpbnB1dFNpemVbMl0gPSAxIC8gaW5wdXRTaXplWzBdO1xuICAgIGlucHV0U2l6ZVszXSA9IDEgLyBpbnB1dFNpemVbMV07XG4gICAgaW5wdXRQaXhlbFswXSA9IGlucHV0LnNvdXJjZS5waXhlbFdpZHRoO1xuICAgIGlucHV0UGl4ZWxbMV0gPSBpbnB1dC5zb3VyY2UucGl4ZWxIZWlnaHQ7XG4gICAgaW5wdXRQaXhlbFsyXSA9IDEgLyBpbnB1dFBpeGVsWzBdO1xuICAgIGlucHV0UGl4ZWxbM10gPSAxIC8gaW5wdXRQaXhlbFsxXTtcbiAgICBpbnB1dENsYW1wWzBdID0gMC41ICogaW5wdXRQaXhlbFsyXTtcbiAgICBpbnB1dENsYW1wWzFdID0gMC41ICogaW5wdXRQaXhlbFszXTtcbiAgICBpbnB1dENsYW1wWzJdID0gaW5wdXQuZnJhbWUud2lkdGggKiBpbnB1dFNpemVbMl0gLSAwLjUgKiBpbnB1dFBpeGVsWzJdO1xuICAgIGlucHV0Q2xhbXBbM10gPSBpbnB1dC5mcmFtZS5oZWlnaHQgKiBpbnB1dFNpemVbM10gLSAwLjUgKiBpbnB1dFBpeGVsWzNdO1xuICAgIGNvbnN0IHJvb3RUZXh0dXJlID0gdGhpcy5yZW5kZXJlci5yZW5kZXJUYXJnZXQucm9vdFJlbmRlclRhcmdldC5jb2xvclRleHR1cmU7XG4gICAgZ2xvYmFsRnJhbWVbMF0gPSBvZmZzZXRYICogcmVzb2x1dGlvbjtcbiAgICBnbG9iYWxGcmFtZVsxXSA9IG9mZnNldFkgKiByZXNvbHV0aW9uO1xuICAgIGdsb2JhbEZyYW1lWzJdID0gcm9vdFRleHR1cmUuc291cmNlLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICBnbG9iYWxGcmFtZVszXSA9IHJvb3RUZXh0dXJlLnNvdXJjZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuICAgIGlmIChvdXRwdXQgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgb3V0cHV0LnNvdXJjZS5yZXNvdXJjZSA9IG51bGw7XG4gICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5yZW5kZXJUYXJnZXQuZ2V0UmVuZGVyVGFyZ2V0KG91dHB1dCk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXJUYXJnZXQuYmluZChvdXRwdXQsICEhY2xlYXIpO1xuICAgIGlmIChvdXRwdXQgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICBvdXRwdXRUZXh0dXJlWzBdID0gb3V0cHV0LmZyYW1lLndpZHRoO1xuICAgICAgb3V0cHV0VGV4dHVyZVsxXSA9IG91dHB1dC5mcmFtZS5oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dFRleHR1cmVbMF0gPSByZW5kZXJUYXJnZXQud2lkdGg7XG4gICAgICBvdXRwdXRUZXh0dXJlWzFdID0gcmVuZGVyVGFyZ2V0LmhlaWdodDtcbiAgICB9XG4gICAgb3V0cHV0VGV4dHVyZVsyXSA9IHJlbmRlclRhcmdldC5pc1Jvb3QgPyAtMSA6IDE7XG4gICAgdGhpcy5fZmlsdGVyR2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBjb3JyZWN0IHJlc29sdXRpb24gYnkgbG9va2luZyBiYWNrIHRocm91Z2ggdGhlIGZpbHRlciBzdGFjay5cbiAgICogQHBhcmFtIHJvb3RSZXNvbHV0aW9uIC0gVGhlIGZhbGxiYWNrIHJvb3QgcmVzb2x1dGlvbiB0byB1c2VcbiAgICogQHJldHVybnMgVGhlIHJlc29sdXRpb24gZnJvbSB0aGUgcHJldmlvdXMgZmlsdGVyIG9yIHJvb3QgcmVzb2x1dGlvblxuICAgKi9cbiAgX2ZpbmRGaWx0ZXJSZXNvbHV0aW9uKHJvb3RSZXNvbHV0aW9uKSB7XG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IHRoaXMuX2ZpbHRlclN0YWNrSW5kZXggLSAxO1xuICAgIHdoaWxlIChjdXJyZW50SW5kZXggPiAwICYmIHRoaXMuX2ZpbHRlclN0YWNrW2N1cnJlbnRJbmRleF0uc2tpcCkge1xuICAgICAgLS1jdXJyZW50SW5kZXg7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50SW5kZXggPiAwICYmIHRoaXMuX2ZpbHRlclN0YWNrW2N1cnJlbnRJbmRleF0uaW5wdXRUZXh0dXJlID8gdGhpcy5fZmlsdGVyU3RhY2tbY3VycmVudEluZGV4XS5pbnB1dFRleHR1cmUuc291cmNlLl9yZXNvbHV0aW9uIDogcm9vdFJlc29sdXRpb247XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBvZmZzZXQgZnJvbSB0aGUgcHJldmlvdXMgbm9uLXNraXBwZWQgZmlsdGVyIGluIHRoZSBzdGFjay5cbiAgICogQHJldHVybnMgVGhlIG9mZnNldCBjb29yZGluYXRlcyBmcm9tIHRoZSBwcmV2aW91cyBmaWx0ZXJcbiAgICovXG4gIF9maW5kUHJldmlvdXNGaWx0ZXJPZmZzZXQoKSB7XG4gICAgbGV0IG9mZnNldFggPSAwO1xuICAgIGxldCBvZmZzZXRZID0gMDtcbiAgICBsZXQgbGFzdEluZGV4ID0gdGhpcy5fZmlsdGVyU3RhY2tJbmRleDtcbiAgICB3aGlsZSAobGFzdEluZGV4ID4gMCkge1xuICAgICAgbGFzdEluZGV4LS07XG4gICAgICBjb25zdCBwcmV2RmlsdGVyRGF0YSA9IHRoaXMuX2ZpbHRlclN0YWNrW2xhc3RJbmRleF07XG4gICAgICBpZiAoIXByZXZGaWx0ZXJEYXRhLnNraXApIHtcbiAgICAgICAgb2Zmc2V0WCA9IHByZXZGaWx0ZXJEYXRhLmJvdW5kcy5taW5YO1xuICAgICAgICBvZmZzZXRZID0gcHJldkZpbHRlckRhdGEuYm91bmRzLm1pblk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyB4OiBvZmZzZXRYLCB5OiBvZmZzZXRZIH07XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIGZpbHRlciBhcmVhIGJvdW5kcyBiYXNlZCBvbiB0aGUgaW5zdHJ1Y3Rpb24gdHlwZS5cbiAgICogQHBhcmFtIGluc3RydWN0aW9uIC0gVGhlIGZpbHRlciBpbnN0cnVjdGlvblxuICAgKiBAcGFyYW0gYm91bmRzIC0gVGhlIGJvdW5kcyBvYmplY3QgdG8gcG9wdWxhdGVcbiAgICovXG4gIF9jYWxjdWxhdGVGaWx0ZXJBcmVhKGluc3RydWN0aW9uLCBib3VuZHMpIHtcbiAgICBpZiAoaW5zdHJ1Y3Rpb24ucmVuZGVyYWJsZXMpIHtcbiAgICAgIGdldEdsb2JhbFJlbmRlcmFibGVCb3VuZHMoaW5zdHJ1Y3Rpb24ucmVuZGVyYWJsZXMsIGJvdW5kcyk7XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbi5maWx0ZXJFZmZlY3QuZmlsdGVyQXJlYSkge1xuICAgICAgYm91bmRzLmNsZWFyKCk7XG4gICAgICBib3VuZHMuYWRkUmVjdChpbnN0cnVjdGlvbi5maWx0ZXJFZmZlY3QuZmlsdGVyQXJlYSk7XG4gICAgICBib3VuZHMuYXBwbHlNYXRyaXgoaW5zdHJ1Y3Rpb24uY29udGFpbmVyLndvcmxkVHJhbnNmb3JtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdHJ1Y3Rpb24uY29udGFpbmVyLmdldEZhc3RHbG9iYWxCb3VuZHModHJ1ZSwgYm91bmRzKTtcbiAgICB9XG4gICAgaWYgKGluc3RydWN0aW9uLmNvbnRhaW5lcikge1xuICAgICAgY29uc3QgcmVuZGVyR3JvdXAgPSBpbnN0cnVjdGlvbi5jb250YWluZXIucmVuZGVyR3JvdXAgfHwgaW5zdHJ1Y3Rpb24uY29udGFpbmVyLnBhcmVudFJlbmRlckdyb3VwO1xuICAgICAgY29uc3QgZmlsdGVyRnJhbWVUcmFuc2Zvcm0gPSByZW5kZXJHcm91cC5jYWNoZVRvTG9jYWxUcmFuc2Zvcm07XG4gICAgICBpZiAoZmlsdGVyRnJhbWVUcmFuc2Zvcm0pIHtcbiAgICAgICAgYm91bmRzLmFwcGx5TWF0cml4KGZpbHRlckZyYW1lVHJhbnNmb3JtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX2FwcGx5RmlsdGVyc1RvVGV4dHVyZShmaWx0ZXJEYXRhLCBjbGVhcikge1xuICAgIGNvbnN0IGlucHV0VGV4dHVyZSA9IGZpbHRlckRhdGEuaW5wdXRUZXh0dXJlO1xuICAgIGNvbnN0IGJvdW5kcyA9IGZpbHRlckRhdGEuYm91bmRzO1xuICAgIGNvbnN0IGZpbHRlcnMgPSBmaWx0ZXJEYXRhLmZpbHRlcnM7XG4gICAgdGhpcy5fZ2xvYmFsRmlsdGVyQmluZEdyb3VwLnNldFJlc291cmNlKGlucHV0VGV4dHVyZS5zb3VyY2Uuc3R5bGUsIDIpO1xuICAgIHRoaXMuX2dsb2JhbEZpbHRlckJpbmRHcm91cC5zZXRSZXNvdXJjZShmaWx0ZXJEYXRhLmJhY2tUZXh0dXJlLnNvdXJjZSwgMyk7XG4gICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICBmaWx0ZXJzWzBdLmFwcGx5KHRoaXMsIGlucHV0VGV4dHVyZSwgZmlsdGVyRGF0YS5vdXRwdXRSZW5kZXJTdXJmYWNlLCBjbGVhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBmbGlwID0gZmlsdGVyRGF0YS5pbnB1dFRleHR1cmU7XG4gICAgICBjb25zdCB0ZW1wVGV4dHVyZSA9IFRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKFxuICAgICAgICBib3VuZHMud2lkdGgsXG4gICAgICAgIGJvdW5kcy5oZWlnaHQsXG4gICAgICAgIGZsaXAuc291cmNlLl9yZXNvbHV0aW9uLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIGxldCBmbG9wID0gdGVtcFRleHR1cmU7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGggLSAxOyArK2kpIHtcbiAgICAgICAgY29uc3QgZmlsdGVyID0gZmlsdGVyc1tpXTtcbiAgICAgICAgZmlsdGVyLmFwcGx5KHRoaXMsIGZsaXAsIGZsb3AsIHRydWUpO1xuICAgICAgICBjb25zdCB0ID0gZmxpcDtcbiAgICAgICAgZmxpcCA9IGZsb3A7XG4gICAgICAgIGZsb3AgPSB0O1xuICAgICAgfVxuICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBmaWx0ZXJEYXRhLm91dHB1dFJlbmRlclN1cmZhY2UsIGNsZWFyKTtcbiAgICAgIFRleHR1cmVQb29sLnJldHVyblRleHR1cmUodGVtcFRleHR1cmUpO1xuICAgIH1cbiAgfVxuICBfY2FsY3VsYXRlRmlsdGVyQm91bmRzKGZpbHRlckRhdGEsIHZpZXdQb3J0LCByb290QW50aWFsaWFzLCByb290UmVzb2x1dGlvbiwgcGFkZGluZ011bHRpcGxpZXIpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgY29uc3QgYm91bmRzID0gZmlsdGVyRGF0YS5ib3VuZHM7XG4gICAgY29uc3QgZmlsdGVycyA9IGZpbHRlckRhdGEuZmlsdGVycztcbiAgICBsZXQgcmVzb2x1dGlvbiA9IEluZmluaXR5O1xuICAgIGxldCBwYWRkaW5nID0gMDtcbiAgICBsZXQgYW50aWFsaWFzID0gdHJ1ZTtcbiAgICBsZXQgYmxlbmRSZXF1aXJlZCA9IGZhbHNlO1xuICAgIGxldCBlbmFibGVkID0gZmFsc2U7XG4gICAgbGV0IGNsaXBUb1ZpZXdwb3J0ID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGZpbHRlciA9IGZpbHRlcnNbaV07XG4gICAgICByZXNvbHV0aW9uID0gTWF0aC5taW4ocmVzb2x1dGlvbiwgZmlsdGVyLnJlc29sdXRpb24gPT09IFwiaW5oZXJpdFwiID8gcm9vdFJlc29sdXRpb24gOiBmaWx0ZXIucmVzb2x1dGlvbik7XG4gICAgICBwYWRkaW5nICs9IGZpbHRlci5wYWRkaW5nO1xuICAgICAgaWYgKGZpbHRlci5hbnRpYWxpYXMgPT09IFwib2ZmXCIpIHtcbiAgICAgICAgYW50aWFsaWFzID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlci5hbnRpYWxpYXMgPT09IFwiaW5oZXJpdFwiKSB7XG4gICAgICAgIGFudGlhbGlhcyAmJiAoYW50aWFsaWFzID0gcm9vdEFudGlhbGlhcyk7XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlci5jbGlwVG9WaWV3cG9ydCkge1xuICAgICAgICBjbGlwVG9WaWV3cG9ydCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgaXNDb21wYXRpYmxlID0gISEoZmlsdGVyLmNvbXBhdGlibGVSZW5kZXJlcnMgJiByZW5kZXJlci50eXBlKTtcbiAgICAgIGlmICghaXNDb21wYXRpYmxlKSB7XG4gICAgICAgIGVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoZmlsdGVyLmJsZW5kUmVxdWlyZWQgJiYgIShyZW5kZXJlci5iYWNrQnVmZmVyPy51c2VCYWNrQnVmZmVyID8/IHRydWUpKSB7XG4gICAgICAgIHdhcm4oXCJCbGVuZCBmaWx0ZXIgcmVxdWlyZXMgYmFja0J1ZmZlciBvbiBXZWJHTCByZW5kZXJlciB0byBiZSBlbmFibGVkLiBTZXQgYHVzZUJhY2tCdWZmZXI6IHRydWVgIGluIHRoZSByZW5kZXJlciBvcHRpb25zLlwiKTtcbiAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGVuYWJsZWQgPSBmaWx0ZXIuZW5hYmxlZCB8fCBlbmFibGVkO1xuICAgICAgYmxlbmRSZXF1aXJlZCB8fCAoYmxlbmRSZXF1aXJlZCA9IGZpbHRlci5ibGVuZFJlcXVpcmVkKTtcbiAgICB9XG4gICAgaWYgKCFlbmFibGVkKSB7XG4gICAgICBmaWx0ZXJEYXRhLnNraXAgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2xpcFRvVmlld3BvcnQpIHtcbiAgICAgIGJvdW5kcy5maXRCb3VuZHMoMCwgdmlld1BvcnQud2lkdGggLyByb290UmVzb2x1dGlvbiwgMCwgdmlld1BvcnQuaGVpZ2h0IC8gcm9vdFJlc29sdXRpb24pO1xuICAgIH1cbiAgICBib3VuZHMuc2NhbGUocmVzb2x1dGlvbikuY2VpbCgpLnNjYWxlKDEgLyByZXNvbHV0aW9uKS5wYWQoKHBhZGRpbmcgfCAwKSAqIHBhZGRpbmdNdWx0aXBsaWVyKTtcbiAgICBpZiAoIWJvdW5kcy5pc1Bvc2l0aXZlKSB7XG4gICAgICBmaWx0ZXJEYXRhLnNraXAgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaWx0ZXJEYXRhLmFudGlhbGlhcyA9IGFudGlhbGlhcztcbiAgICBmaWx0ZXJEYXRhLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgIGZpbHRlckRhdGEuYmxlbmRSZXF1aXJlZCA9IGJsZW5kUmVxdWlyZWQ7XG4gIH1cbiAgX3BvcEZpbHRlckRhdGEoKSB7XG4gICAgdGhpcy5fZmlsdGVyU3RhY2tJbmRleC0tO1xuICAgIHJldHVybiB0aGlzLl9maWx0ZXJTdGFja1t0aGlzLl9maWx0ZXJTdGFja0luZGV4XTtcbiAgfVxuICBfZ2V0UHJldmlvdXNGaWx0ZXJEYXRhKCkge1xuICAgIGxldCBwcmV2aW91c0ZpbHRlckRhdGE7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5fZmlsdGVyU3RhY2tJbmRleCAtIDE7XG4gICAgd2hpbGUgKGluZGV4ID4gMSkge1xuICAgICAgaW5kZXgtLTtcbiAgICAgIHByZXZpb3VzRmlsdGVyRGF0YSA9IHRoaXMuX2ZpbHRlclN0YWNrW2luZGV4XTtcbiAgICAgIGlmICghcHJldmlvdXNGaWx0ZXJEYXRhLnNraXApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcmV2aW91c0ZpbHRlckRhdGE7XG4gIH1cbiAgX3B1c2hGaWx0ZXJEYXRhKCkge1xuICAgIGxldCBmaWx0ZXJEYXRhID0gdGhpcy5fZmlsdGVyU3RhY2tbdGhpcy5fZmlsdGVyU3RhY2tJbmRleF07XG4gICAgaWYgKCFmaWx0ZXJEYXRhKSB7XG4gICAgICBmaWx0ZXJEYXRhID0gdGhpcy5fZmlsdGVyU3RhY2tbdGhpcy5fZmlsdGVyU3RhY2tJbmRleF0gPSBuZXcgRmlsdGVyRGF0YSgpO1xuICAgIH1cbiAgICB0aGlzLl9maWx0ZXJTdGFja0luZGV4Kys7XG4gICAgcmV0dXJuIGZpbHRlckRhdGE7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5GaWx0ZXJTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbVxuICBdLFxuICBuYW1lOiBcImZpbHRlclwiXG59O1xuXG5leHBvcnQgeyBGaWx0ZXJTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbHRlclN5c3RlbS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGdldEdsb2JhbFJlbmRlcmFibGVCb3VuZHMocmVuZGVyYWJsZXMsIGJvdW5kcykge1xuICBib3VuZHMuY2xlYXIoKTtcbiAgY29uc3QgdGVtcE1hdHJpeCA9IGJvdW5kcy5tYXRyaXg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCByZW5kZXJhYmxlID0gcmVuZGVyYWJsZXNbaV07XG4gICAgaWYgKHJlbmRlcmFibGUuZ2xvYmFsRGlzcGxheVN0YXR1cyA8IDcpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBib3VuZHMubWF0cml4ID0gcmVuZGVyYWJsZS53b3JsZFRyYW5zZm9ybTtcbiAgICBib3VuZHMuYWRkQm91bmRzKHJlbmRlcmFibGUuYm91bmRzKTtcbiAgfVxuICBib3VuZHMubWF0cml4ID0gdGVtcE1hdHJpeDtcbiAgcmV0dXJuIGJvdW5kcztcbn1cblxuZXhwb3J0IHsgZ2V0R2xvYmFsUmVuZGVyYWJsZUJvdW5kcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0UmVuZGVyYWJsZUJvdW5kcy5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBGaWx0ZXJQaXBlIH0gZnJvbSAnLi9GaWx0ZXJQaXBlLm1qcyc7XG5pbXBvcnQgeyBGaWx0ZXJTeXN0ZW0gfSBmcm9tICcuL0ZpbHRlclN5c3RlbS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmV4dGVuc2lvbnMuYWRkKEZpbHRlclN5c3RlbSk7XG5leHRlbnNpb25zLmFkZChGaWx0ZXJQaXBlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBsb2NhbFVuaWZvcm1CaXQgPSB7XG4gIG5hbWU6IFwibG9jYWwtdW5pZm9ybS1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG5cbiAgICAgICAgICAgIHN0cnVjdCBMb2NhbFVuaWZvcm1zIHtcbiAgICAgICAgICAgICAgICB1VHJhbnNmb3JtTWF0cml4Om1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVDb2xvcjp2ZWM0PGYzMj4sXG4gICAgICAgICAgICAgICAgdVJvdW5kOmYzMixcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQGdyb3VwKDEpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiBsb2NhbFVuaWZvcm1zIDogTG9jYWxVbmlmb3JtcztcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdkNvbG9yICo9IGxvY2FsVW5pZm9ybXMudUNvbG9yO1xuICAgICAgICAgICAgbW9kZWxNYXRyaXggKj0gbG9jYWxVbmlmb3Jtcy51VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICBgXG4gICAgKSxcbiAgICBlbmQ6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGlmKGxvY2FsVW5pZm9ybXMudVJvdW5kID09IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdlBvc2l0aW9uID0gdmVjNChyb3VuZFBpeGVscyh2UG9zaXRpb24ueHksIGdsb2JhbFVuaWZvcm1zLnVSZXNvbHV0aW9uKSwgdlBvc2l0aW9uLnp3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdEdyb3VwMiA9IHtcbiAgLi4ubG9jYWxVbmlmb3JtQml0LFxuICB2ZXJ0ZXg6IHtcbiAgICAuLi5sb2NhbFVuaWZvcm1CaXQudmVydGV4LFxuICAgIC8vIHJlcGxhY2UgdGhlIGdyb3VwIVxuICAgIGhlYWRlcjogbG9jYWxVbmlmb3JtQml0LnZlcnRleC5oZWFkZXIucmVwbGFjZShcImdyb3VwKDEpXCIsIFwiZ3JvdXAoMilcIilcbiAgfVxufTtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdEdsID0ge1xuICBuYW1lOiBcImxvY2FsLXVuaWZvcm0tYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuXG4gICAgICAgICAgICB1bmlmb3JtIG1hdDMgdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjNCB1Q29sb3I7XG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0IHVSb3VuZDtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdkNvbG9yICo9IHVDb2xvcjtcbiAgICAgICAgICAgIG1vZGVsTWF0cml4ID0gdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgZW5kOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICBpZih1Um91bmQgPT0gMS4pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24ueHkgPSByb3VuZFBpeGVscyhnbF9Qb3NpdGlvbi54eSwgdVJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyBsb2NhbFVuaWZvcm1CaXQsIGxvY2FsVW5pZm9ybUJpdEdsLCBsb2NhbFVuaWZvcm1CaXRHcm91cDIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2FsVW5pZm9ybUJpdC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGJsZW5kTW9kZUlkcyA9IHtcbiAgbm9ybWFsOiAwLFxuICBhZGQ6IDEsXG4gIG11bHRpcGx5OiAyLFxuICBzY3JlZW46IDMsXG4gIG92ZXJsYXk6IDQsXG4gIGVyYXNlOiA1LFxuICBcIm5vcm1hbC1ucG1cIjogNixcbiAgXCJhZGQtbnBtXCI6IDcsXG4gIFwic2NyZWVuLW5wbVwiOiA4LFxuICBtaW46IDksXG4gIG1heDogMTBcbn07XG5jb25zdCBCTEVORCA9IDA7XG5jb25zdCBPRkZTRVQgPSAxO1xuY29uc3QgQ1VMTElORyA9IDI7XG5jb25zdCBERVBUSF9URVNUID0gMztcbmNvbnN0IFdJTkRJTkcgPSA0O1xuY29uc3QgREVQVEhfTUFTSyA9IDU7XG5jb25zdCBfU3RhdGUgPSBjbGFzcyBfU3RhdGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmRhdGEgPSAwO1xuICAgIHRoaXMuYmxlbmRNb2RlID0gXCJub3JtYWxcIjtcbiAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgIHRoaXMuZGVwdGhNYXNrID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIGJsZW5kaW5nIG9mIHRoZSBjb21wdXRlZCBmcmFnbWVudCBjb2xvciB2YWx1ZXMuXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGdldCBibGVuZCgpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBCTEVORCk7XG4gIH1cbiAgc2V0IGJsZW5kKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgQkxFTkQpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgQkxFTkQ7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgYWRkaW5nIGFuIG9mZnNldCB0byBkZXB0aCB2YWx1ZXMgb2YgcG9seWdvbidzIGZyYWdtZW50c1xuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZ2V0IG9mZnNldHMoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgT0ZGU0VUKTtcbiAgfVxuICBzZXQgb2Zmc2V0cyh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IE9GRlNFVCkgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBPRkZTRVQ7XG4gICAgfVxuICB9XG4gIC8qKiBUaGUgY3VsbGluZyBzZXR0aW5ncyBmb3IgdGhpcyBzdGF0ZSBub25lIC0gTm8gY3VsbGluZyBiYWNrIC0gQmFjayBmYWNlIGN1bGxpbmcgZnJvbnQgLSBGcm9udCBmYWNlIGN1bGxpbmcgKi9cbiAgc2V0IGN1bGxNb2RlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBcIm5vbmVcIikge1xuICAgICAgdGhpcy5jdWxsaW5nID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY3VsbGluZyA9IHRydWU7XG4gICAgdGhpcy5jbG9ja3dpc2VGcm9udEZhY2UgPSB2YWx1ZSA9PT0gXCJmcm9udFwiO1xuICB9XG4gIGdldCBjdWxsTW9kZSgpIHtcbiAgICBpZiAoIXRoaXMuY3VsbGluZykge1xuICAgICAgcmV0dXJuIFwibm9uZVwiO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jbG9ja3dpc2VGcm9udEZhY2UgPyBcImZyb250XCIgOiBcImJhY2tcIjtcbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIGN1bGxpbmcgb2YgcG9seWdvbnMuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgY3VsbGluZygpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBDVUxMSU5HKTtcbiAgfVxuICBzZXQgY3VsbGluZyh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IENVTExJTkcpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgQ1VMTElORztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBkZXB0aCBjb21wYXJpc29ucyBhbmQgdXBkYXRlcyB0byB0aGUgZGVwdGggYnVmZmVyLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZ2V0IGRlcHRoVGVzdCgpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9URVNUKTtcbiAgfVxuICBzZXQgZGVwdGhUZXN0KHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfVEVTVCkgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBERVBUSF9URVNUO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRW5hYmxlcyBvciBkaXNhYmxlcyB3cml0aW5nIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGdldCBkZXB0aE1hc2soKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfTUFTSyk7XG4gIH1cbiAgc2V0IGRlcHRoTWFzayh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX01BU0spICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgREVQVEhfTUFTSztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCBmcm9udCBvciBiYWNrLWZhY2luZyBwb2x5Z29ucyBjYW4gYmUgY3VsbGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZ2V0IGNsb2Nrd2lzZUZyb250RmFjZSgpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBXSU5ESU5HKTtcbiAgfVxuICBzZXQgY2xvY2t3aXNlRnJvbnRGYWNlKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgV0lORElORykgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBXSU5ESU5HO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB3aGVuIHRoaXMgc3RhdGUgaXMgc2V0LiBBcHBseSBhIHZhbHVlIG9mIGBub3JtYWxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgKiBTZXR0aW5nIHRoaXMgbW9kZSB0byBhbnl0aGluZyBvdGhlciB0aGFuIE5PX0JMRU5EIHdpbGwgYXV0b21hdGljYWxseSBzd2l0Y2ggYmxlbmRpbmcgb24uXG4gICAqIEBkZWZhdWx0ICdub3JtYWwnXG4gICAqL1xuICBnZXQgYmxlbmRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9ibGVuZE1vZGU7XG4gIH1cbiAgc2V0IGJsZW5kTW9kZSh2YWx1ZSkge1xuICAgIHRoaXMuYmxlbmQgPSB2YWx1ZSAhPT0gXCJub25lXCI7XG4gICAgdGhpcy5fYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgdGhpcy5fYmxlbmRNb2RlSWQgPSBibGVuZE1vZGVJZHNbdmFsdWVdIHx8IDA7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBwb2x5Z29uIG9mZnNldC4gU2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIGFueXRoaW5nIG90aGVyIHRoYW4gMCB3aWxsIGF1dG9tYXRpY2FsbHkgZW5hYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGwuXG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIGdldCBwb2x5Z29uT2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xuICB9XG4gIHNldCBwb2x5Z29uT2Zmc2V0KHZhbHVlKSB7XG4gICAgdGhpcy5vZmZzZXRzID0gISF2YWx1ZTtcbiAgICB0aGlzLl9wb2x5Z29uT2Zmc2V0ID0gdmFsdWU7XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGBbcGl4aS5qcy9jb3JlOlN0YXRlIGJsZW5kTW9kZT0ke3RoaXMuYmxlbmRNb2RlfSBjbG9ja3dpc2VGcm9udEZhY2U9JHt0aGlzLmNsb2Nrd2lzZUZyb250RmFjZX0gY3VsbGluZz0ke3RoaXMuY3VsbGluZ30gZGVwdGhNYXNrPSR7dGhpcy5kZXB0aE1hc2t9IHBvbHlnb25PZmZzZXQ9JHt0aGlzLnBvbHlnb25PZmZzZXR9XWA7XG4gIH1cbiAgLyoqXG4gICAqIEEgcXVpY2tseSBnZXR0aW5nIGFuIGluc3RhbmNlIG9mIGEgU3RhdGUgdGhhdCBpcyBjb25maWd1cmVkIGZvciAyZCByZW5kZXJpbmcuXG4gICAqIEByZXR1cm5zIGEgbmV3IFN0YXRlIHdpdGggdmFsdWVzIHNldCBmb3IgMmQgcmVuZGVyaW5nXG4gICAqL1xuICBzdGF0aWMgZm9yMmQoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBuZXcgX1N0YXRlKCk7XG4gICAgc3RhdGUuZGVwdGhUZXN0ID0gZmFsc2U7XG4gICAgc3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufTtcbl9TdGF0ZS5kZWZhdWx0MmQgPSBfU3RhdGUuZm9yMmQoKTtcbmxldCBTdGF0ZSA9IF9TdGF0ZTtcblxuZXhwb3J0IHsgU3RhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0YXRlLm1qcy5tYXBcbiIsImltcG9ydCB7IERPTUFkYXB0ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9lbnZpcm9ubWVudC9hZGFwdGVyLm1qcyc7XG5pbXBvcnQgeyBuZXh0UG93MiB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL21pc2MvcG93Mi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIENhbnZhc1Bvb2xDbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNhbnZhc09wdGlvbnMpIHtcbiAgICB0aGlzLl9jYW52YXNQb29sID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5jYW52YXNPcHRpb25zID0gY2FudmFzT3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyB0ZXh0dXJlIHdpdGggcGFyYW1zIHRoYXQgd2VyZSBzcGVjaWZpZWQgaW4gcG9vbCBjb25zdHJ1Y3Rvci5cbiAgICogQHBhcmFtIHBpeGVsV2lkdGggLSBXaWR0aCBvZiB0ZXh0dXJlIGluIHBpeGVscy5cbiAgICogQHBhcmFtIHBpeGVsSGVpZ2h0IC0gSGVpZ2h0IG9mIHRleHR1cmUgaW4gcGl4ZWxzLlxuICAgKi9cbiAgX2NyZWF0ZUNhbnZhc0FuZENvbnRleHQocGl4ZWxXaWR0aCwgcGl4ZWxIZWlnaHQpIHtcbiAgICBjb25zdCBjYW52YXMgPSBET01BZGFwdGVyLmdldCgpLmNyZWF0ZUNhbnZhcygpO1xuICAgIGNhbnZhcy53aWR0aCA9IHBpeGVsV2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IHBpeGVsSGVpZ2h0O1xuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIHJldHVybiB7IGNhbnZhcywgY29udGV4dCB9O1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgKiBAcGFyYW0gbWluV2lkdGggLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAqIEBwYXJhbSBtaW5IZWlnaHQgLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgKiBAcGFyYW0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICogQHJldHVybnMgVGhlIG5ldyByZW5kZXIgdGV4dHVyZS5cbiAgICovXG4gIGdldE9wdGltYWxDYW52YXNBbmRDb250ZXh0KG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24gPSAxKSB7XG4gICAgbWluV2lkdGggPSBNYXRoLmNlaWwobWluV2lkdGggKiByZXNvbHV0aW9uIC0gMWUtNik7XG4gICAgbWluSGVpZ2h0ID0gTWF0aC5jZWlsKG1pbkhlaWdodCAqIHJlc29sdXRpb24gLSAxZS02KTtcbiAgICBtaW5XaWR0aCA9IG5leHRQb3cyKG1pbldpZHRoKTtcbiAgICBtaW5IZWlnaHQgPSBuZXh0UG93MihtaW5IZWlnaHQpO1xuICAgIGNvbnN0IGtleSA9IChtaW5XaWR0aCA8PCAxNykgKyAobWluSGVpZ2h0IDw8IDEpO1xuICAgIGlmICghdGhpcy5fY2FudmFzUG9vbFtrZXldKSB7XG4gICAgICB0aGlzLl9jYW52YXNQb29sW2tleV0gPSBbXTtcbiAgICB9XG4gICAgbGV0IGNhbnZhc0FuZENvbnRleHQgPSB0aGlzLl9jYW52YXNQb29sW2tleV0ucG9wKCk7XG4gICAgaWYgKCFjYW52YXNBbmRDb250ZXh0KSB7XG4gICAgICBjYW52YXNBbmRDb250ZXh0ID0gdGhpcy5fY3JlYXRlQ2FudmFzQW5kQ29udGV4dChtaW5XaWR0aCwgbWluSGVpZ2h0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbnZhc0FuZENvbnRleHQ7XG4gIH1cbiAgLyoqXG4gICAqIFBsYWNlIGEgcmVuZGVyIHRleHR1cmUgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgKiBAcGFyYW0gY2FudmFzQW5kQ29udGV4dFxuICAgKi9cbiAgcmV0dXJuQ2FudmFzQW5kQ29udGV4dChjYW52YXNBbmRDb250ZXh0KSB7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzQW5kQ29udGV4dC5jYW52YXM7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBjYW52YXM7XG4gICAgY29uc3Qga2V5ID0gKHdpZHRoIDw8IDE3KSArIChoZWlnaHQgPDwgMSk7XG4gICAgY2FudmFzQW5kQ29udGV4dC5jb250ZXh0LnJlc2V0VHJhbnNmb3JtKCk7XG4gICAgY2FudmFzQW5kQ29udGV4dC5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB0aGlzLl9jYW52YXNQb29sW2tleV0ucHVzaChjYW52YXNBbmRDb250ZXh0KTtcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9jYW52YXNQb29sID0ge307XG4gIH1cbn1cbmNvbnN0IENhbnZhc1Bvb2wgPSBuZXcgQ2FudmFzUG9vbENsYXNzKCk7XG5cbmV4cG9ydCB7IENhbnZhc1Bvb2wsIENhbnZhc1Bvb2xDbGFzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzUG9vbC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNvbG9yVG9Vbmlmb3JtKHJnYiwgYWxwaGEsIG91dCwgb2Zmc2V0KSB7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiID4+IDE2ICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IChyZ2IgPj4gOCAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IGFscGhhO1xufVxuZnVuY3Rpb24gY29sb3IzMkJpdFRvVW5pZm9ybShhYmdyLCBvdXQsIG9mZnNldCkge1xuICBjb25zdCBhbHBoYSA9IChhYmdyID4+IDI0ICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyICYgMjU1KSAvIDI1NSAqIGFscGhhO1xuICBvdXRbb2Zmc2V0KytdID0gKGFiZ3IgPj4gOCAmIDI1NSkgLyAyNTUgKiBhbHBoYTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyID4+IDE2ICYgMjU1KSAvIDI1NSAqIGFscGhhO1xuICBvdXRbb2Zmc2V0KytdID0gYWxwaGE7XG59XG5cbmV4cG9ydCB7IGNvbG9yMzJCaXRUb1VuaWZvcm0sIGNvbG9yVG9Vbmlmb3JtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvclRvVW5pZm9ybS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IGNvbG9yMzJCaXRUb1VuaWZvcm0gfSBmcm9tICcuLi9ncHUvY29sb3JUb1VuaWZvcm0ubWpzJztcbmltcG9ydCB7IEJhdGNoYWJsZUdyYXBoaWNzIH0gZnJvbSAnLi9CYXRjaGFibGVHcmFwaGljcy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEdyYXBoaWNzR3B1RGF0YSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYmF0Y2hlcyA9IFtdO1xuICAgIHRoaXMuYmF0Y2hlZCA9IGZhbHNlO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5iYXRjaGVzLmZvckVhY2goKGJhdGNoKSA9PiB7XG4gICAgICBCaWdQb29sLnJldHVybihiYXRjaCk7XG4gICAgfSk7XG4gICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gIH1cbn1cbmNsYXNzIEdyYXBoaWNzUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBhZGFwdG9yKSB7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2FkYXB0b3IgPSBhZGFwdG9yO1xuICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmFkZCh0aGlzKTtcbiAgfVxuICBjb250ZXh0Q2hhbmdlKCkge1xuICAgIHRoaXMuX2FkYXB0b3IuY29udGV4dENoYW5nZSh0aGlzLnJlbmRlcmVyKTtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoZ3JhcGhpY3MpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ3JhcGhpY3MuY29udGV4dDtcbiAgICBjb25zdCB3YXNCYXRjaGVkID0gISFncmFwaGljcy5fZ3B1RGF0YTtcbiAgICBjb25zdCBncHVDb250ZXh0ID0gdGhpcy5yZW5kZXJlci5ncmFwaGljc0NvbnRleHQudXBkYXRlR3B1Q29udGV4dChjb250ZXh0KTtcbiAgICBpZiAoZ3B1Q29udGV4dC5pc0JhdGNoYWJsZSB8fCB3YXNCYXRjaGVkICE9PSBncHVDb250ZXh0LmlzQmF0Y2hhYmxlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGFkZFJlbmRlcmFibGUoZ3JhcGhpY3MsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZ3B1Q29udGV4dCA9IHRoaXMucmVuZGVyZXIuZ3JhcGhpY3NDb250ZXh0LnVwZGF0ZUdwdUNvbnRleHQoZ3JhcGhpY3MuY29udGV4dCk7XG4gICAgaWYgKGdyYXBoaWNzLmRpZFZpZXdVcGRhdGUpIHtcbiAgICAgIHRoaXMuX3JlYnVpbGQoZ3JhcGhpY3MpO1xuICAgIH1cbiAgICBpZiAoZ3B1Q29udGV4dC5pc0JhdGNoYWJsZSkge1xuICAgICAgdGhpcy5fYWRkVG9CYXRjaGVyKGdyYXBoaWNzLCBpbnN0cnVjdGlvblNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKGdyYXBoaWNzKTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZShncmFwaGljcykge1xuICAgIGNvbnN0IGdwdURhdGEgPSB0aGlzLl9nZXRHcHVEYXRhRm9yUmVuZGVyYWJsZShncmFwaGljcyk7XG4gICAgY29uc3QgYmF0Y2hlcyA9IGdwdURhdGEuYmF0Y2hlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgIGJhdGNoLl9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoYmF0Y2gpO1xuICAgIH1cbiAgfVxuICBleGVjdXRlKGdyYXBoaWNzKSB7XG4gICAgaWYgKCFncmFwaGljcy5pc1JlbmRlcmFibGUpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IGNvbnRleHQgPSBncmFwaGljcy5jb250ZXh0O1xuICAgIGNvbnN0IGNvbnRleHRTeXN0ZW0gPSByZW5kZXJlci5ncmFwaGljc0NvbnRleHQ7XG4gICAgaWYgKCFjb250ZXh0U3lzdGVtLmdldEdwdUNvbnRleHQoY29udGV4dCkuYmF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2hhZGVyID0gY29udGV4dC5jdXN0b21TaGFkZXIgfHwgdGhpcy5fYWRhcHRvci5zaGFkZXI7XG4gICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSBncmFwaGljcy5ncm91cEJsZW5kTW9kZTtcbiAgICBjb25zdCBsb2NhbFVuaWZvcm1zID0gc2hhZGVyLnJlc291cmNlcy5sb2NhbFVuaWZvcm1zLnVuaWZvcm1zO1xuICAgIGxvY2FsVW5pZm9ybXMudVRyYW5zZm9ybU1hdHJpeCA9IGdyYXBoaWNzLmdyb3VwVHJhbnNmb3JtO1xuICAgIGxvY2FsVW5pZm9ybXMudVJvdW5kID0gcmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgZ3JhcGhpY3MuX3JvdW5kUGl4ZWxzO1xuICAgIGNvbG9yMzJCaXRUb1VuaWZvcm0oXG4gICAgICBncmFwaGljcy5ncm91cENvbG9yQWxwaGEsXG4gICAgICBsb2NhbFVuaWZvcm1zLnVDb2xvcixcbiAgICAgIDBcbiAgICApO1xuICAgIHRoaXMuX2FkYXB0b3IuZXhlY3V0ZSh0aGlzLCBncmFwaGljcyk7XG4gIH1cbiAgX3JlYnVpbGQoZ3JhcGhpY3MpIHtcbiAgICBjb25zdCBncHVEYXRhID0gdGhpcy5fZ2V0R3B1RGF0YUZvclJlbmRlcmFibGUoZ3JhcGhpY3MpO1xuICAgIGNvbnN0IGdwdUNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmdyYXBoaWNzQ29udGV4dC51cGRhdGVHcHVDb250ZXh0KGdyYXBoaWNzLmNvbnRleHQpO1xuICAgIGdwdURhdGEuZGVzdHJveSgpO1xuICAgIGlmIChncHVDb250ZXh0LmlzQmF0Y2hhYmxlKSB7XG4gICAgICB0aGlzLl91cGRhdGVCYXRjaGVzRm9yUmVuZGVyYWJsZShncmFwaGljcywgZ3B1RGF0YSk7XG4gICAgfVxuICB9XG4gIF9hZGRUb0JhdGNoZXIoZ3JhcGhpY3MsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgYmF0Y2hQaXBlID0gdGhpcy5yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaDtcbiAgICBjb25zdCBiYXRjaGVzID0gdGhpcy5fZ2V0R3B1RGF0YUZvclJlbmRlcmFibGUoZ3JhcGhpY3MpLmJhdGNoZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiYXRjaCA9IGJhdGNoZXNbaV07XG4gICAgICBiYXRjaFBpcGUuYWRkVG9CYXRjaChiYXRjaCwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH1cbiAgfVxuICBfZ2V0R3B1RGF0YUZvclJlbmRlcmFibGUoZ3JhcGhpY3MpIHtcbiAgICByZXR1cm4gZ3JhcGhpY3MuX2dwdURhdGFbdGhpcy5yZW5kZXJlci51aWRdIHx8IHRoaXMuX2luaXRHcHVEYXRhRm9yUmVuZGVyYWJsZShncmFwaGljcyk7XG4gIH1cbiAgX2luaXRHcHVEYXRhRm9yUmVuZGVyYWJsZShncmFwaGljcykge1xuICAgIGNvbnN0IGdwdURhdGEgPSBuZXcgR3JhcGhpY3NHcHVEYXRhKCk7XG4gICAgZ3JhcGhpY3MuX2dwdURhdGFbdGhpcy5yZW5kZXJlci51aWRdID0gZ3B1RGF0YTtcbiAgICByZXR1cm4gZ3B1RGF0YTtcbiAgfVxuICBfdXBkYXRlQmF0Y2hlc0ZvclJlbmRlcmFibGUoZ3JhcGhpY3MsIGdwdURhdGEpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ3JhcGhpY3MuY29udGV4dDtcbiAgICBjb25zdCBncHVDb250ZXh0ID0gdGhpcy5yZW5kZXJlci5ncmFwaGljc0NvbnRleHQuZ2V0R3B1Q29udGV4dChjb250ZXh0KTtcbiAgICBjb25zdCByb3VuZFBpeGVscyA9IHRoaXMucmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgZ3JhcGhpY3MuX3JvdW5kUGl4ZWxzO1xuICAgIGdwdURhdGEuYmF0Y2hlcyA9IGdwdUNvbnRleHQuYmF0Y2hlcy5tYXAoKGJhdGNoKSA9PiB7XG4gICAgICBjb25zdCBiYXRjaENsb25lID0gQmlnUG9vbC5nZXQoQmF0Y2hhYmxlR3JhcGhpY3MpO1xuICAgICAgYmF0Y2guY29weVRvKGJhdGNoQ2xvbmUpO1xuICAgICAgYmF0Y2hDbG9uZS5yZW5kZXJhYmxlID0gZ3JhcGhpY3M7XG4gICAgICBiYXRjaENsb25lLnJvdW5kUGl4ZWxzID0gcm91bmRQaXhlbHM7XG4gICAgICByZXR1cm4gYmF0Y2hDbG9uZTtcbiAgICB9KTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX2FkYXB0b3IuZGVzdHJveSgpO1xuICAgIHRoaXMuX2FkYXB0b3IgPSBudWxsO1xuICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuR3JhcGhpY3NQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJncmFwaGljc1wiXG59O1xuXG5leHBvcnQgeyBHcmFwaGljc0dwdURhdGEsIEdyYXBoaWNzUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3NQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEdyYXBoaWNzQ29udGV4dFN5c3RlbSB9IGZyb20gJy4vc2hhcmVkL0dyYXBoaWNzQ29udGV4dFN5c3RlbS5tanMnO1xuaW1wb3J0IHsgR3JhcGhpY3NQaXBlIH0gZnJvbSAnLi9zaGFyZWQvR3JhcGhpY3NQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoR3JhcGhpY3NQaXBlKTtcbmV4dGVuc2lvbnMuYWRkKEdyYXBoaWNzQ29udGV4dFN5c3RlbSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IEJpbmRHcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci9CaW5kR3JvdXAubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IGdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9nZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kLm1qcyc7XG5pbXBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtIH0gZnJvbSAnLi4vLi4vZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVNZXNoIH0gZnJvbSAnLi9CYXRjaGFibGVNZXNoLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgTWVzaEdwdURhdGEge1xuICBkZXN0cm95KCkge1xuICB9XG59XG5jbGFzcyBNZXNoUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBhZGFwdG9yKSB7XG4gICAgdGhpcy5sb2NhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1VHJhbnNmb3JtTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdUNvbG9yOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVSb3VuZDogeyB2YWx1ZTogMCwgdHlwZTogXCJmMzJcIiB9XG4gICAgfSk7XG4gICAgdGhpcy5sb2NhbFVuaWZvcm1zQmluZEdyb3VwID0gbmV3IEJpbmRHcm91cCh7XG4gICAgICAwOiB0aGlzLmxvY2FsVW5pZm9ybXNcbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fYWRhcHRvciA9IGFkYXB0b3I7XG4gICAgdGhpcy5fYWRhcHRvci5pbml0KCk7XG4gIH1cbiAgdmFsaWRhdGVSZW5kZXJhYmxlKG1lc2gpIHtcbiAgICBjb25zdCBtZXNoRGF0YSA9IHRoaXMuX2dldE1lc2hEYXRhKG1lc2gpO1xuICAgIGNvbnN0IHdhc0JhdGNoZWQgPSBtZXNoRGF0YS5iYXRjaGVkO1xuICAgIGNvbnN0IGlzQmF0Y2hlZCA9IG1lc2guYmF0Y2hlZDtcbiAgICBtZXNoRGF0YS5iYXRjaGVkID0gaXNCYXRjaGVkO1xuICAgIGlmICh3YXNCYXRjaGVkICE9PSBpc0JhdGNoZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaXNCYXRjaGVkKSB7XG4gICAgICBjb25zdCBnZW9tZXRyeSA9IG1lc2guX2dlb21ldHJ5O1xuICAgICAgaWYgKGdlb21ldHJ5LmluZGljZXMubGVuZ3RoICE9PSBtZXNoRGF0YS5pbmRleFNpemUgfHwgZ2VvbWV0cnkucG9zaXRpb25zLmxlbmd0aCAhPT0gbWVzaERhdGEudmVydGV4U2l6ZSkge1xuICAgICAgICBtZXNoRGF0YS5pbmRleFNpemUgPSBnZW9tZXRyeS5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgbWVzaERhdGEudmVydGV4U2l6ZSA9IGdlb21ldHJ5LnBvc2l0aW9ucy5sZW5ndGg7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgYmF0Y2hhYmxlTWVzaCA9IHRoaXMuX2dldEJhdGNoYWJsZU1lc2gobWVzaCk7XG4gICAgICBpZiAoYmF0Y2hhYmxlTWVzaC50ZXh0dXJlLnVpZCAhPT0gbWVzaC5fdGV4dHVyZS51aWQpIHtcbiAgICAgICAgYmF0Y2hhYmxlTWVzaC5fdGV4dHVyZU1hdHJpeFVwZGF0ZUlkID0gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gIWJhdGNoYWJsZU1lc2guX2JhdGNoZXIuY2hlY2tBbmRVcGRhdGVUZXh0dXJlKFxuICAgICAgICBiYXRjaGFibGVNZXNoLFxuICAgICAgICBtZXNoLl90ZXh0dXJlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShtZXNoLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGJhdGNoZXIgPSB0aGlzLnJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoO1xuICAgIGNvbnN0IG1lc2hEYXRhID0gdGhpcy5fZ2V0TWVzaERhdGEobWVzaCk7XG4gICAgaWYgKG1lc2guZGlkVmlld1VwZGF0ZSkge1xuICAgICAgbWVzaERhdGEuaW5kZXhTaXplID0gbWVzaC5fZ2VvbWV0cnkuaW5kaWNlcz8ubGVuZ3RoO1xuICAgICAgbWVzaERhdGEudmVydGV4U2l6ZSA9IG1lc2guX2dlb21ldHJ5LnBvc2l0aW9ucz8ubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAobWVzaERhdGEuYmF0Y2hlZCkge1xuICAgICAgY29uc3QgZ3B1QmF0Y2hhYmxlTWVzaCA9IHRoaXMuX2dldEJhdGNoYWJsZU1lc2gobWVzaCk7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLnNldFRleHR1cmUobWVzaC5fdGV4dHVyZSk7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLmdlb21ldHJ5ID0gbWVzaC5fZ2VvbWV0cnk7XG4gICAgICBiYXRjaGVyLmFkZFRvQmF0Y2goZ3B1QmF0Y2hhYmxlTWVzaCwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYXRjaGVyLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICAgIGluc3RydWN0aW9uU2V0LmFkZChtZXNoKTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZShtZXNoKSB7XG4gICAgaWYgKG1lc2guYmF0Y2hlZCkge1xuICAgICAgY29uc3QgZ3B1QmF0Y2hhYmxlTWVzaCA9IHRoaXMuX2dldEJhdGNoYWJsZU1lc2gobWVzaCk7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLnNldFRleHR1cmUobWVzaC5fdGV4dHVyZSk7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLmdlb21ldHJ5ID0gbWVzaC5fZ2VvbWV0cnk7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLl9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoZ3B1QmF0Y2hhYmxlTWVzaCk7XG4gICAgfVxuICB9XG4gIGV4ZWN1dGUobWVzaCkge1xuICAgIGlmICghbWVzaC5pc1JlbmRlcmFibGUpXG4gICAgICByZXR1cm47XG4gICAgbWVzaC5zdGF0ZS5ibGVuZE1vZGUgPSBnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kKG1lc2guZ3JvdXBCbGVuZE1vZGUsIG1lc2gudGV4dHVyZS5fc291cmNlKTtcbiAgICBjb25zdCBsb2NhbFVuaWZvcm1zID0gdGhpcy5sb2NhbFVuaWZvcm1zO1xuICAgIGxvY2FsVW5pZm9ybXMudW5pZm9ybXMudVRyYW5zZm9ybU1hdHJpeCA9IG1lc2guZ3JvdXBUcmFuc2Zvcm07XG4gICAgbG9jYWxVbmlmb3Jtcy51bmlmb3Jtcy51Um91bmQgPSB0aGlzLnJlbmRlcmVyLl9yb3VuZFBpeGVscyB8IG1lc2guX3JvdW5kUGl4ZWxzO1xuICAgIGxvY2FsVW5pZm9ybXMudXBkYXRlKCk7XG4gICAgY29sb3IzMkJpdFRvVW5pZm9ybShcbiAgICAgIG1lc2guZ3JvdXBDb2xvckFscGhhLFxuICAgICAgbG9jYWxVbmlmb3Jtcy51bmlmb3Jtcy51Q29sb3IsXG4gICAgICAwXG4gICAgKTtcbiAgICB0aGlzLl9hZGFwdG9yLmV4ZWN1dGUodGhpcywgbWVzaCk7XG4gIH1cbiAgX2dldE1lc2hEYXRhKG1lc2gpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIChfYSA9IG1lc2guX2dwdURhdGEpW19iID0gdGhpcy5yZW5kZXJlci51aWRdIHx8IChfYVtfYl0gPSBuZXcgTWVzaEdwdURhdGEoKSk7XG4gICAgcmV0dXJuIG1lc2guX2dwdURhdGFbdGhpcy5yZW5kZXJlci51aWRdLm1lc2hEYXRhIHx8IHRoaXMuX2luaXRNZXNoRGF0YShtZXNoKTtcbiAgfVxuICBfaW5pdE1lc2hEYXRhKG1lc2gpIHtcbiAgICBtZXNoLl9ncHVEYXRhW3RoaXMucmVuZGVyZXIudWlkXS5tZXNoRGF0YSA9IHtcbiAgICAgIGJhdGNoZWQ6IG1lc2guYmF0Y2hlZCxcbiAgICAgIGluZGV4U2l6ZTogMCxcbiAgICAgIHZlcnRleFNpemU6IDBcbiAgICB9O1xuICAgIHJldHVybiBtZXNoLl9ncHVEYXRhW3RoaXMucmVuZGVyZXIudWlkXS5tZXNoRGF0YTtcbiAgfVxuICBfZ2V0QmF0Y2hhYmxlTWVzaChtZXNoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICAoX2EgPSBtZXNoLl9ncHVEYXRhKVtfYiA9IHRoaXMucmVuZGVyZXIudWlkXSB8fCAoX2FbX2JdID0gbmV3IE1lc2hHcHVEYXRhKCkpO1xuICAgIHJldHVybiBtZXNoLl9ncHVEYXRhW3RoaXMucmVuZGVyZXIudWlkXS5iYXRjaGFibGVNZXNoIHx8IHRoaXMuX2luaXRCYXRjaGFibGVNZXNoKG1lc2gpO1xuICB9XG4gIF9pbml0QmF0Y2hhYmxlTWVzaChtZXNoKSB7XG4gICAgY29uc3QgZ3B1TWVzaCA9IG5ldyBCYXRjaGFibGVNZXNoKCk7XG4gICAgZ3B1TWVzaC5yZW5kZXJhYmxlID0gbWVzaDtcbiAgICBncHVNZXNoLnNldFRleHR1cmUobWVzaC5fdGV4dHVyZSk7XG4gICAgZ3B1TWVzaC50cmFuc2Zvcm0gPSBtZXNoLmdyb3VwVHJhbnNmb3JtO1xuICAgIGdwdU1lc2gucm91bmRQaXhlbHMgPSB0aGlzLnJlbmRlcmVyLl9yb3VuZFBpeGVscyB8IG1lc2guX3JvdW5kUGl4ZWxzO1xuICAgIG1lc2guX2dwdURhdGFbdGhpcy5yZW5kZXJlci51aWRdLmJhdGNoYWJsZU1lc2ggPSBncHVNZXNoO1xuICAgIHJldHVybiBncHVNZXNoO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5sb2NhbFVuaWZvcm1zID0gbnVsbDtcbiAgICB0aGlzLmxvY2FsVW5pZm9ybXNCaW5kR3JvdXAgPSBudWxsO1xuICAgIHRoaXMuX2FkYXB0b3IuZGVzdHJveSgpO1xuICAgIHRoaXMuX2FkYXB0b3IgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuTWVzaFBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcIm1lc2hcIlxufTtcblxuZXhwb3J0IHsgTWVzaEdwdURhdGEsIE1lc2hQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXNoUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBNZXNoUGlwZSB9IGZyb20gJy4vc2hhcmVkL01lc2hQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoTWVzaFBpcGUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNsYXNzIEJhdGNoYWJsZU1lc2gge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJhdGNoZXJOYW1lID0gXCJkZWZhdWx0XCI7XG4gICAgdGhpcy5wYWNrQXNRdWFkID0gZmFsc2U7XG4gICAgdGhpcy5pbmRleE9mZnNldCA9IDA7XG4gICAgdGhpcy5hdHRyaWJ1dGVPZmZzZXQgPSAwO1xuICAgIHRoaXMucm91bmRQaXhlbHMgPSAwO1xuICAgIHRoaXMuX2JhdGNoZXIgPSBudWxsO1xuICAgIHRoaXMuX2JhdGNoID0gbnVsbDtcbiAgICB0aGlzLl90ZXh0dXJlTWF0cml4VXBkYXRlSWQgPSAtMTtcbiAgICB0aGlzLl91dlVwZGF0ZUlkID0gLTE7XG4gIH1cbiAgZ2V0IGJsZW5kTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJhYmxlLmdyb3VwQmxlbmRNb2RlO1xuICB9XG4gIGdldCB0b3BvbG9neSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdG9wb2xvZ3kgfHwgdGhpcy5nZW9tZXRyeS50b3BvbG9neTtcbiAgfVxuICBzZXQgdG9wb2xvZ3kodmFsdWUpIHtcbiAgICB0aGlzLl90b3BvbG9neSA9IHZhbHVlO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMucmVuZGVyYWJsZSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaCA9IG51bGw7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgdGhpcy5fdXZVcGRhdGVJZCA9IC0xO1xuICAgIHRoaXMuX3RleHR1cmVNYXRyaXhVcGRhdGVJZCA9IC0xO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0ZXh0dXJlIGZvciB0aGUgYmF0Y2hhYmxlIG1lc2guXG4gICAqIEFzIGl0IGRvZXMgc28sIGl0IHJlc2V0cyB0aGUgdGV4dHVyZSBtYXRyaXggdXBkYXRlIElELlxuICAgKiB0aGlzIGlzIHRvIGVuc3VyZSB0aGF0IHRoZSB0ZXh0dXJlIG1hdHJpeCBpcyByZWNhbGN1bGF0ZWQgd2hlbiB0aGUgdXZzIGFyZSByZWZlcmVuY2VkXG4gICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB0ZXh0dXJlIHRvIHNldC5cbiAgICovXG4gIHNldFRleHR1cmUodmFsdWUpIHtcbiAgICBpZiAodGhpcy50ZXh0dXJlID09PSB2YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLnRleHR1cmUgPSB2YWx1ZTtcbiAgICB0aGlzLl90ZXh0dXJlTWF0cml4VXBkYXRlSWQgPSAtMTtcbiAgfVxuICBnZXQgdXZzKCkge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICBjb25zdCB1dkJ1ZmZlciA9IGdlb21ldHJ5LmdldEJ1ZmZlcihcImFVVlwiKTtcbiAgICBjb25zdCB1dnMgPSB1dkJ1ZmZlci5kYXRhO1xuICAgIGxldCB0cmFuc2Zvcm1lZFV2cyA9IHV2cztcbiAgICBjb25zdCB0ZXh0dXJlTWF0cml4ID0gdGhpcy50ZXh0dXJlLnRleHR1cmVNYXRyaXg7XG4gICAgaWYgKCF0ZXh0dXJlTWF0cml4LmlzU2ltcGxlKSB7XG4gICAgICB0cmFuc2Zvcm1lZFV2cyA9IHRoaXMuX3RyYW5zZm9ybWVkVXZzO1xuICAgICAgaWYgKHRoaXMuX3RleHR1cmVNYXRyaXhVcGRhdGVJZCAhPT0gdGV4dHVyZU1hdHJpeC5fdXBkYXRlSUQgfHwgdGhpcy5fdXZVcGRhdGVJZCAhPT0gdXZCdWZmZXIuX3VwZGF0ZUlEKSB7XG4gICAgICAgIGlmICghdHJhbnNmb3JtZWRVdnMgfHwgdHJhbnNmb3JtZWRVdnMubGVuZ3RoIDwgdXZzLmxlbmd0aCkge1xuICAgICAgICAgIHRyYW5zZm9ybWVkVXZzID0gdGhpcy5fdHJhbnNmb3JtZWRVdnMgPSBuZXcgRmxvYXQzMkFycmF5KHV2cy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHR1cmVNYXRyaXhVcGRhdGVJZCA9IHRleHR1cmVNYXRyaXguX3VwZGF0ZUlEO1xuICAgICAgICB0aGlzLl91dlVwZGF0ZUlkID0gdXZCdWZmZXIuX3VwZGF0ZUlEO1xuICAgICAgICB0ZXh0dXJlTWF0cml4Lm11bHRpcGx5VXZzKHV2cywgdHJhbnNmb3JtZWRVdnMpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtZWRVdnM7XG4gIH1cbiAgZ2V0IHBvc2l0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5wb3NpdGlvbnM7XG4gIH1cbiAgZ2V0IGluZGljZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuaW5kaWNlcztcbiAgfVxuICBnZXQgY29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyYWJsZS5ncm91cENvbG9yQWxwaGE7XG4gIH1cbiAgZ2V0IGdyb3VwVHJhbnNmb3JtKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmFibGUuZ3JvdXBUcmFuc2Zvcm07XG4gIH1cbiAgZ2V0IGF0dHJpYnV0ZVNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkucG9zaXRpb25zLmxlbmd0aCAvIDI7XG4gIH1cbiAgZ2V0IGluZGV4U2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5pbmRpY2VzLmxlbmd0aDtcbiAgfVxufVxuXG5leHBvcnQgeyBCYXRjaGFibGVNZXNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaGFibGVNZXNoLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY2xhc3MgR2xQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3Ige1xuICBleGVjdXRlKHBhcnRpY2xlQ29udGFpbmVyUGlwZSwgY29udGFpbmVyKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBwYXJ0aWNsZUNvbnRhaW5lclBpcGUuc3RhdGU7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBwYXJ0aWNsZUNvbnRhaW5lclBpcGUucmVuZGVyZXI7XG4gICAgY29uc3Qgc2hhZGVyID0gY29udGFpbmVyLnNoYWRlciB8fCBwYXJ0aWNsZUNvbnRhaW5lclBpcGUuZGVmYXVsdFNoYWRlcjtcbiAgICBzaGFkZXIucmVzb3VyY2VzLnVUZXh0dXJlID0gY29udGFpbmVyLnRleHR1cmUuX3NvdXJjZTtcbiAgICBzaGFkZXIucmVzb3VyY2VzLnVuaWZvcm1zID0gcGFydGljbGVDb250YWluZXJQaXBlLmxvY2FsVW5pZm9ybXM7XG4gICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcbiAgICBjb25zdCBidWZmZXIgPSBwYXJ0aWNsZUNvbnRhaW5lclBpcGUuZ2V0QnVmZmVycyhjb250YWluZXIpO1xuICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG4gICAgcmVuZGVyZXIuc3RhdGUuc2V0KHN0YXRlKTtcbiAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGJ1ZmZlci5nZW9tZXRyeSwgc2hhZGVyLmdsUHJvZ3JhbSk7XG4gICAgY29uc3QgYnl0ZVNpemUgPSBidWZmZXIuZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICBjb25zdCBnbFR5cGUgPSBieXRlU2l6ZSA9PT0gMiA/IGdsLlVOU0lHTkVEX1NIT1JUIDogZ2wuVU5TSUdORURfSU5UO1xuICAgIGdsLmRyYXdFbGVtZW50cyhnbC5UUklBTkdMRVMsIGNvbnRhaW5lci5wYXJ0aWNsZUNoaWxkcmVuLmxlbmd0aCAqIDYsIGdsVHlwZSwgMCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgR2xQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdsUGFydGljbGVDb250YWluZXJBZGFwdG9yLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHNpemUsIG91dEJ1ZmZlciA9IG51bGwpIHtcbiAgY29uc3QgdG90YWxJbmRpY2VzID0gc2l6ZSAqIDY7XG4gIGlmICh0b3RhbEluZGljZXMgPiA2NTUzNSkge1xuICAgIG91dEJ1ZmZlciB8fCAob3V0QnVmZmVyID0gbmV3IFVpbnQzMkFycmF5KHRvdGFsSW5kaWNlcykpO1xuICB9IGVsc2Uge1xuICAgIG91dEJ1ZmZlciB8fCAob3V0QnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KHRvdGFsSW5kaWNlcykpO1xuICB9XG4gIGlmIChvdXRCdWZmZXIubGVuZ3RoICE9PSB0b3RhbEluZGljZXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE91dCBidWZmZXIgbGVuZ3RoIGlzIGluY29ycmVjdCwgZ290ICR7b3V0QnVmZmVyLmxlbmd0aH0gYW5kIGV4cGVjdGVkICR7dG90YWxJbmRpY2VzfWApO1xuICB9XG4gIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsSW5kaWNlczsgaSArPSA2LCBqICs9IDQpIHtcbiAgICBvdXRCdWZmZXJbaSArIDBdID0gaiArIDA7XG4gICAgb3V0QnVmZmVyW2kgKyAxXSA9IGogKyAxO1xuICAgIG91dEJ1ZmZlcltpICsgMl0gPSBqICsgMjtcbiAgICBvdXRCdWZmZXJbaSArIDNdID0gaiArIDA7XG4gICAgb3V0QnVmZmVyW2kgKyA0XSA9IGogKyAyO1xuICAgIG91dEJ1ZmZlcltpICsgNV0gPSBqICsgMztcbiAgfVxuICByZXR1cm4gb3V0QnVmZmVyO1xufVxuXG5leHBvcnQgeyBjcmVhdGVJbmRpY2VzRm9yUXVhZHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUluZGljZXNGb3JRdWFkcy5tanMubWFwXG4iLCJpbXBvcnQgeyBnZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdCB9IGZyb20gJy4uLy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2dlb21ldHJ5L3V0aWxzL2dldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUZ1bmN0aW9uKHByb3BlcnRpZXMpIHtcbiAgcmV0dXJuIHtcbiAgICBkeW5hbWljVXBkYXRlOiBnZW5lcmF0ZVVwZGF0ZUZ1bmN0aW9uKHByb3BlcnRpZXMsIHRydWUpLFxuICAgIHN0YXRpY1VwZGF0ZTogZ2VuZXJhdGVVcGRhdGVGdW5jdGlvbihwcm9wZXJ0aWVzLCBmYWxzZSlcbiAgfTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlVXBkYXRlRnVuY3Rpb24ocHJvcGVydGllcywgZHluYW1pYykge1xuICBjb25zdCBmdW5jRnJhZ21lbnRzID0gW107XG4gIGZ1bmNGcmFnbWVudHMucHVzaChgXG5cbiAgICAgICAgdmFyIGluZGV4ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwID0gcHNbaV07XG5cbiAgICAgICAgICAgIGApO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgZm9yIChjb25zdCBpIGluIHByb3BlcnRpZXMpIHtcbiAgICBjb25zdCBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG4gICAgaWYgKGR5bmFtaWMgIT09IHByb3BlcnR5LmR5bmFtaWMpXG4gICAgICBjb250aW51ZTtcbiAgICBmdW5jRnJhZ21lbnRzLnB1c2goYG9mZnNldCA9IGluZGV4ICsgJHtvZmZzZXR9YCk7XG4gICAgZnVuY0ZyYWdtZW50cy5wdXNoKHByb3BlcnR5LmNvZGUpO1xuICAgIGNvbnN0IGF0dHJpYnV0ZUluZm8gPSBnZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdChwcm9wZXJ0eS5mb3JtYXQpO1xuICAgIG9mZnNldCArPSBhdHRyaWJ1dGVJbmZvLnN0cmlkZSAvIDQ7XG4gIH1cbiAgZnVuY0ZyYWdtZW50cy5wdXNoKGBcbiAgICAgICAgICAgIGluZGV4ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICBgKTtcbiAgZnVuY0ZyYWdtZW50cy51bnNoaWZ0KGBcbiAgICAgICAgdmFyIHN0cmlkZSA9ICR7b2Zmc2V0fTtcbiAgICBgKTtcbiAgY29uc3QgZnVuY3Rpb25Tb3VyY2UgPSBmdW5jRnJhZ21lbnRzLmpvaW4oXCJcXG5cIik7XG4gIHJldHVybiBuZXcgRnVuY3Rpb24oXCJwc1wiLCBcImYzMnZcIiwgXCJ1MzJ2XCIsIGZ1bmN0aW9uU291cmNlKTtcbn1cblxuZXhwb3J0IHsgZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUZ1bmN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZVBhcnRpY2xlVXBkYXRlRnVuY3Rpb24ubWpzLm1hcFxuIiwiaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvYnVmZmVyL0J1ZmZlci5tanMnO1xuaW1wb3J0IHsgQnVmZmVyVXNhZ2UgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9idWZmZXIvY29uc3QubWpzJztcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvZ2VvbWV0cnkvR2VvbWV0cnkubWpzJztcbmltcG9ydCB7IGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0IH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvZ2VvbWV0cnkvdXRpbHMvZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQubWpzJztcbmltcG9ydCB7IFZpZXdhYmxlQnVmZmVyIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZGF0YS9WaWV3YWJsZUJ1ZmZlci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlSW5kaWNlc0ZvclF1YWRzIH0gZnJvbSAnLi91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHMubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlUGFydGljbGVVcGRhdGVGdW5jdGlvbiB9IGZyb20gJy4vdXRpbHMvZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUZ1bmN0aW9uLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgUGFydGljbGVCdWZmZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fc2l6ZSA9IDA7XG4gICAgdGhpcy5fZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUNhY2hlID0ge307XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuX3NpemUgPSBvcHRpb25zLnNpemUgPz8gMWUzO1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBvcHRpb25zLnByb3BlcnRpZXM7XG4gICAgbGV0IHN0YXRpY1ZlcnRleFNpemUgPSAwO1xuICAgIGxldCBkeW5hbWljVmVydGV4U2l6ZSA9IDA7XG4gICAgZm9yIChjb25zdCBpIGluIHByb3BlcnRpZXMpIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZUluZm8gPSBnZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdChwcm9wZXJ0eS5mb3JtYXQpO1xuICAgICAgaWYgKHByb3BlcnR5LmR5bmFtaWMpIHtcbiAgICAgICAgZHluYW1pY1ZlcnRleFNpemUgKz0gYXR0cmlidXRlSW5mby5zdHJpZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0aWNWZXJ0ZXhTaXplICs9IGF0dHJpYnV0ZUluZm8uc3RyaWRlO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9keW5hbWljU3RyaWRlID0gZHluYW1pY1ZlcnRleFNpemUgLyA0O1xuICAgIHRoaXMuX3N0YXRpY1N0cmlkZSA9IHN0YXRpY1ZlcnRleFNpemUgLyA0O1xuICAgIHRoaXMuc3RhdGljQXR0cmlidXRlQnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKHNpemUgKiA0ICogc3RhdGljVmVydGV4U2l6ZSk7XG4gICAgdGhpcy5keW5hbWljQXR0cmlidXRlQnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKHNpemUgKiA0ICogZHluYW1pY1ZlcnRleFNpemUpO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBjcmVhdGVJbmRpY2VzRm9yUXVhZHMoc2l6ZSk7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcbiAgICBsZXQgZHluYW1pY09mZnNldCA9IDA7XG4gICAgbGV0IHN0YXRpY09mZnNldCA9IDA7XG4gICAgdGhpcy5fc3RhdGljQnVmZmVyID0gbmV3IEJ1ZmZlcih7XG4gICAgICBkYXRhOiBuZXcgRmxvYXQzMkFycmF5KDEpLFxuICAgICAgbGFiZWw6IFwic3RhdGljLXBhcnRpY2xlLWJ1ZmZlclwiLFxuICAgICAgc2hyaW5rVG9GaXQ6IGZhbHNlLFxuICAgICAgdXNhZ2U6IEJ1ZmZlclVzYWdlLlZFUlRFWCB8IEJ1ZmZlclVzYWdlLkNPUFlfRFNUXG4gICAgfSk7XG4gICAgdGhpcy5fZHluYW1pY0J1ZmZlciA9IG5ldyBCdWZmZXIoe1xuICAgICAgZGF0YTogbmV3IEZsb2F0MzJBcnJheSgxKSxcbiAgICAgIGxhYmVsOiBcImR5bmFtaWMtcGFydGljbGUtYnVmZmVyXCIsXG4gICAgICBzaHJpbmtUb0ZpdDogZmFsc2UsXG4gICAgICB1c2FnZTogQnVmZmVyVXNhZ2UuVkVSVEVYIHwgQnVmZmVyVXNhZ2UuQ09QWV9EU1RcbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gcHJvcGVydGllcykge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgY29uc3QgYXR0cmlidXRlSW5mbyA9IGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0KHByb3BlcnR5LmZvcm1hdCk7XG4gICAgICBpZiAocHJvcGVydHkuZHluYW1pYykge1xuICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUocHJvcGVydHkuYXR0cmlidXRlTmFtZSwge1xuICAgICAgICAgIGJ1ZmZlcjogdGhpcy5fZHluYW1pY0J1ZmZlcixcbiAgICAgICAgICBzdHJpZGU6IHRoaXMuX2R5bmFtaWNTdHJpZGUgKiA0LFxuICAgICAgICAgIG9mZnNldDogZHluYW1pY09mZnNldCAqIDQsXG4gICAgICAgICAgZm9ybWF0OiBwcm9wZXJ0eS5mb3JtYXRcbiAgICAgICAgfSk7XG4gICAgICAgIGR5bmFtaWNPZmZzZXQgKz0gYXR0cmlidXRlSW5mby5zaXplO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsIHtcbiAgICAgICAgICBidWZmZXI6IHRoaXMuX3N0YXRpY0J1ZmZlcixcbiAgICAgICAgICBzdHJpZGU6IHRoaXMuX3N0YXRpY1N0cmlkZSAqIDQsXG4gICAgICAgICAgb2Zmc2V0OiBzdGF0aWNPZmZzZXQgKiA0LFxuICAgICAgICAgIGZvcm1hdDogcHJvcGVydHkuZm9ybWF0XG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0aWNPZmZzZXQgKz0gYXR0cmlidXRlSW5mby5zaXplO1xuICAgICAgfVxuICAgIH1cbiAgICBnZW9tZXRyeS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKTtcbiAgICBjb25zdCB1cGxvYWRGdW5jdGlvbiA9IHRoaXMuZ2V0UGFydGljbGVVcGRhdGUocHJvcGVydGllcyk7XG4gICAgdGhpcy5fZHluYW1pY1VwbG9hZCA9IHVwbG9hZEZ1bmN0aW9uLmR5bmFtaWNVcGRhdGU7XG4gICAgdGhpcy5fc3RhdGljVXBsb2FkID0gdXBsb2FkRnVuY3Rpb24uc3RhdGljVXBkYXRlO1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgfVxuICBnZXRQYXJ0aWNsZVVwZGF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3Qga2V5ID0gZ2V0UGFydGljbGVTeW5jS2V5KHByb3BlcnRpZXMpO1xuICAgIGlmICh0aGlzLl9nZW5lcmF0ZVBhcnRpY2xlVXBkYXRlQ2FjaGVba2V5XSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dlbmVyYXRlUGFydGljbGVVcGRhdGVDYWNoZVtrZXldO1xuICAgIH1cbiAgICB0aGlzLl9nZW5lcmF0ZVBhcnRpY2xlVXBkYXRlQ2FjaGVba2V5XSA9IHRoaXMuZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZShwcm9wZXJ0aWVzKTtcbiAgICByZXR1cm4gdGhpcy5fZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUNhY2hlW2tleV07XG4gIH1cbiAgZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIGdlbmVyYXRlUGFydGljbGVVcGRhdGVGdW5jdGlvbihwcm9wZXJ0aWVzKTtcbiAgfVxuICB1cGRhdGUocGFydGljbGVzLCB1cGxvYWRTdGF0aWMpIHtcbiAgICBpZiAocGFydGljbGVzLmxlbmd0aCA+IHRoaXMuX3NpemUpIHtcbiAgICAgIHVwbG9hZFN0YXRpYyA9IHRydWU7XG4gICAgICB0aGlzLl9zaXplID0gTWF0aC5tYXgocGFydGljbGVzLmxlbmd0aCwgdGhpcy5fc2l6ZSAqIDEuNSB8IDApO1xuICAgICAgdGhpcy5zdGF0aWNBdHRyaWJ1dGVCdWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIodGhpcy5fc2l6ZSAqIHRoaXMuX3N0YXRpY1N0cmlkZSAqIDQgKiA0KTtcbiAgICAgIHRoaXMuZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlciA9IG5ldyBWaWV3YWJsZUJ1ZmZlcih0aGlzLl9zaXplICogdGhpcy5fZHluYW1pY1N0cmlkZSAqIDQgKiA0KTtcbiAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBjcmVhdGVJbmRpY2VzRm9yUXVhZHModGhpcy5fc2l6ZSk7XG4gICAgICB0aGlzLmdlb21ldHJ5LmluZGV4QnVmZmVyLnNldERhdGFXaXRoU2l6ZShcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlcixcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5ieXRlTGVuZ3RoLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBkeW5hbWljQXR0cmlidXRlQnVmZmVyID0gdGhpcy5keW5hbWljQXR0cmlidXRlQnVmZmVyO1xuICAgIHRoaXMuX2R5bmFtaWNVcGxvYWQocGFydGljbGVzLCBkeW5hbWljQXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3LCBkeW5hbWljQXR0cmlidXRlQnVmZmVyLnVpbnQzMlZpZXcpO1xuICAgIHRoaXMuX2R5bmFtaWNCdWZmZXIuc2V0RGF0YVdpdGhTaXplKFxuICAgICAgdGhpcy5keW5hbWljQXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3LFxuICAgICAgcGFydGljbGVzLmxlbmd0aCAqIHRoaXMuX2R5bmFtaWNTdHJpZGUgKiA0LFxuICAgICAgdHJ1ZVxuICAgICk7XG4gICAgaWYgKHVwbG9hZFN0YXRpYykge1xuICAgICAgY29uc3Qgc3RhdGljQXR0cmlidXRlQnVmZmVyID0gdGhpcy5zdGF0aWNBdHRyaWJ1dGVCdWZmZXI7XG4gICAgICB0aGlzLl9zdGF0aWNVcGxvYWQocGFydGljbGVzLCBzdGF0aWNBdHRyaWJ1dGVCdWZmZXIuZmxvYXQzMlZpZXcsIHN0YXRpY0F0dHJpYnV0ZUJ1ZmZlci51aW50MzJWaWV3KTtcbiAgICAgIHRoaXMuX3N0YXRpY0J1ZmZlci5zZXREYXRhV2l0aFNpemUoXG4gICAgICAgIHN0YXRpY0F0dHJpYnV0ZUJ1ZmZlci5mbG9hdDMyVmlldyxcbiAgICAgICAgcGFydGljbGVzLmxlbmd0aCAqIHRoaXMuX3N0YXRpY1N0cmlkZSAqIDQsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fc3RhdGljQnVmZmVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLl9keW5hbWljQnVmZmVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLmdlb21ldHJ5LmRlc3Ryb3koKTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0UGFydGljbGVTeW5jS2V5KHByb3BlcnRpZXMpIHtcbiAgY29uc3Qga2V5R2VuID0gW107XG4gIGZvciAoY29uc3Qga2V5IGluIHByb3BlcnRpZXMpIHtcbiAgICBjb25zdCBwcm9wZXJ0eSA9IHByb3BlcnRpZXNba2V5XTtcbiAgICBrZXlHZW4ucHVzaChrZXksIHByb3BlcnR5LmNvZGUsIHByb3BlcnR5LmR5bmFtaWMgPyBcImRcIiA6IFwic1wiKTtcbiAgfVxuICByZXR1cm4ga2V5R2VuLmpvaW4oXCJfXCIpO1xufVxuXG5leHBvcnQgeyBQYXJ0aWNsZUJ1ZmZlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVCdWZmZXIubWpzLm1hcFxuIiwidmFyIHdnc2wgPSBcIlxcbnN0cnVjdCBQYXJ0aWNsZVVuaWZvcm1zIHtcXG4gIHVQcm9qZWN0aW9uTWF0cml4Om1hdDN4MzxmMzI+LFxcbiAgdUNvbG9yOnZlYzQ8ZjMyPixcXG4gIHVSZXNvbHV0aW9uOnZlYzI8ZjMyPixcXG4gIHVSb3VuZFBpeGVsczpmMzIsXFxufTtcXG5cXG5AZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IHVuaWZvcm1zOiBQYXJ0aWNsZVVuaWZvcm1zO1xcblxcbkBncm91cCgxKSBAYmluZGluZygwKSB2YXIgdVRleHR1cmU6IHRleHR1cmVfMmQ8ZjMyPjtcXG5AZ3JvdXAoMSkgQGJpbmRpbmcoMSkgdmFyIHVTYW1wbGVyIDogc2FtcGxlcjtcXG5cXG5zdHJ1Y3QgVlNPdXRwdXQge1xcbiAgICBAYnVpbHRpbihwb3NpdGlvbikgcG9zaXRpb246IHZlYzQ8ZjMyPixcXG4gICAgQGxvY2F0aW9uKDApIHV2IDogdmVjMjxmMzI+LFxcbiAgICBAbG9jYXRpb24oMSkgY29sb3IgOiB2ZWM0PGYzMj4sXFxuICB9O1xcbkB2ZXJ0ZXhcXG5mbiBtYWluVmVydGV4KFxcbiAgQGxvY2F0aW9uKDApIGFWZXJ0ZXg6IHZlYzI8ZjMyPixcXG4gIEBsb2NhdGlvbigxKSBhUG9zaXRpb246IHZlYzI8ZjMyPixcXG4gIEBsb2NhdGlvbigyKSBhVVY6IHZlYzI8ZjMyPixcXG4gIEBsb2NhdGlvbigzKSBhQ29sb3I6IHZlYzQ8ZjMyPixcXG4gIEBsb2NhdGlvbig0KSBhUm90YXRpb246IGYzMixcXG4pIC0+IFZTT3V0cHV0IHtcXG4gIFxcbiAgIGxldCB2ID0gdmVjMihcXG4gICAgICAgYVZlcnRleC54ICogY29zKGFSb3RhdGlvbikgLSBhVmVydGV4LnkgKiBzaW4oYVJvdGF0aW9uKSxcXG4gICAgICAgYVZlcnRleC54ICogc2luKGFSb3RhdGlvbikgKyBhVmVydGV4LnkgKiBjb3MoYVJvdGF0aW9uKVxcbiAgICkgKyBhUG9zaXRpb247XFxuXFxuICAgbGV0IHBvc2l0aW9uID0gdmVjNCgodW5pZm9ybXMudVByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHYsIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIGxldCB2Q29sb3IgPSB2ZWM0KGFDb2xvci5yZ2IgKiBhQ29sb3IuYSwgYUNvbG9yLmEpICogdW5pZm9ybXMudUNvbG9yO1xcblxcbiAgcmV0dXJuIFZTT3V0cHV0KFxcbiAgIHBvc2l0aW9uLFxcbiAgIGFVVixcXG4gICB2Q29sb3IsXFxuICApO1xcbn1cXG5cXG5AZnJhZ21lbnRcXG5mbiBtYWluRnJhZ21lbnQoXFxuICBAbG9jYXRpb24oMCkgdXY6IHZlYzI8ZjMyPixcXG4gIEBsb2NhdGlvbigxKSBjb2xvcjogdmVjNDxmMzI+LFxcbiAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0PGYzMj4sXFxuKSAtPiBAbG9jYXRpb24oMCkgdmVjNDxmMzI+IHtcXG5cXG4gICAgdmFyIHNhbXBsZSA9IHRleHR1cmVTYW1wbGUodVRleHR1cmUsIHVTYW1wbGVyLCB1dikgKiBjb2xvcjtcXG4gICBcXG4gICAgcmV0dXJuIHNhbXBsZTtcXG59XCI7XG5cbmV4cG9ydCB7IHdnc2wgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGljbGVzLndnc2wubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9jb2xvci9Db2xvci5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgR2xQcm9ncmFtIH0gZnJvbSAnLi4vLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvR2xQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBHcHVQcm9ncmFtIH0gZnJvbSAnLi4vLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc2hhZGVyL0dwdVByb2dyYW0ubWpzJztcbmltcG9ydCB7IFNoYWRlciB9IGZyb20gJy4uLy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9TaGFkZXIubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IFRleHR1cmVTdHlsZSB9IGZyb20gJy4uLy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVN0eWxlLm1qcyc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9wYXJ0aWNsZXMuZnJhZy5tanMnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuL3BhcnRpY2xlcy52ZXJ0Lm1qcyc7XG5pbXBvcnQgd2dzbCBmcm9tICcuL3BhcnRpY2xlcy53Z3NsLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgUGFydGljbGVTaGFkZXIgZXh0ZW5kcyBTaGFkZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBnbFByb2dyYW0gPSBHbFByb2dyYW0uZnJvbSh7XG4gICAgICB2ZXJ0ZXgsXG4gICAgICBmcmFnbWVudFxuICAgIH0pO1xuICAgIGNvbnN0IGdwdVByb2dyYW0gPSBHcHVQcm9ncmFtLmZyb20oe1xuICAgICAgZnJhZ21lbnQ6IHtcbiAgICAgICAgc291cmNlOiB3Z3NsLFxuICAgICAgICBlbnRyeVBvaW50OiBcIm1haW5GcmFnbWVudFwiXG4gICAgICB9LFxuICAgICAgdmVydGV4OiB7XG4gICAgICAgIHNvdXJjZTogd2dzbCxcbiAgICAgICAgZW50cnlQb2ludDogXCJtYWluVmVydGV4XCJcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzdXBlcih7XG4gICAgICBnbFByb2dyYW0sXG4gICAgICBncHVQcm9ncmFtLFxuICAgICAgcmVzb3VyY2VzOiB7XG4gICAgICAgIC8vIHRoaXMgd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHBhcnRpY2xlIGNvbnRhaW5lclxuICAgICAgICB1VGV4dHVyZTogVGV4dHVyZS5XSElURS5zb3VyY2UsXG4gICAgICAgIC8vIHRoaXMgd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSB0ZXh0dXJlIHN0eWxlIGZyb20gdGhlIHBhcnRpY2xlIGNvbnRhaW5lclxuICAgICAgICB1U2FtcGxlcjogbmV3IFRleHR1cmVTdHlsZSh7fSksXG4gICAgICAgIC8vIHRoaXMgd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSBsb2NhbCB1bmlmb3JtcyBmcm9tIHRoZSBwYXJ0aWNsZSBjb250YWluZXJcbiAgICAgICAgdW5pZm9ybXM6IHtcbiAgICAgICAgICB1VHJhbnNsYXRpb25NYXRyaXg6IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICAgICAgdUNvbG9yOiB7IHZhbHVlOiBuZXcgQ29sb3IoMTY3NzcyMTUpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICAgICAgdVJvdW5kOiB7IHZhbHVlOiAxLCB0eXBlOiBcImYzMlwiIH0sXG4gICAgICAgICAgdVJlc29sdXRpb246IHsgdmFsdWU6IFswLCAwXSwgdHlwZTogXCJ2ZWMyPGYzMj5cIiB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBQYXJ0aWNsZVNoYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVTaGFkZXIubWpzLm1hcFxuIiwidmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleDtcXG5hdHRyaWJ1dGUgdmVjMiBhVVY7XFxuYXR0cmlidXRlIHZlYzQgYUNvbG9yO1xcblxcbmF0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgZmxvYXQgYVJvdGF0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyB1VHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBmbG9hdCB1Um91bmQ7XFxudW5pZm9ybSB2ZWMyIHVSZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudmFyeWluZyB2ZWMyIHZVVjtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZlYzIgcm91bmRQaXhlbHModmVjMiBwb3NpdGlvbiwgdmVjMiB0YXJnZXRTaXplKVxcbnsgICAgICAgXFxuICAgIHJldHVybiAoZmxvb3IoKChwb3NpdGlvbiAqIDAuNSArIDAuNSkgKiB0YXJnZXRTaXplKSArIDAuNSkgLyB0YXJnZXRTaXplKSAqIDIuMCAtIDEuMDtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBmbG9hdCBjb3NSb3RhdGlvbiA9IGNvcyhhUm90YXRpb24pO1xcbiAgICBmbG9hdCBzaW5Sb3RhdGlvbiA9IHNpbihhUm90YXRpb24pO1xcbiAgICBmbG9hdCB4ID0gYVZlcnRleC54ICogY29zUm90YXRpb24gLSBhVmVydGV4LnkgKiBzaW5Sb3RhdGlvbjtcXG4gICAgZmxvYXQgeSA9IGFWZXJ0ZXgueCAqIHNpblJvdGF0aW9uICsgYVZlcnRleC55ICogY29zUm90YXRpb247XFxuXFxuICAgIHZlYzIgdiA9IHZlYzIoeCwgeSk7XFxuICAgIHYgPSB2ICsgYVBvc2l0aW9uO1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHVUcmFuc2xhdGlvbk1hdHJpeCAqIHZlYzModiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgaWYodVJvdW5kID09IDEuMClcXG4gICAge1xcbiAgICAgICAgZ2xfUG9zaXRpb24ueHkgPSByb3VuZFBpeGVscyhnbF9Qb3NpdGlvbi54eSwgdVJlc29sdXRpb24pO1xcbiAgICB9XFxuXFxuICAgIHZVViA9IGFVVjtcXG4gICAgdkNvbG9yID0gdmVjNChhQ29sb3IucmdiICogYUNvbG9yLmEsIGFDb2xvci5hKSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IHZlcnRleCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0aWNsZXMudmVydC5tanMubWFwXG4iLCJ2YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VVY7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZVVikgKiB2Q29sb3I7XFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGljbGVzLmZyYWcubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuaW1wb3J0IHsgZ2V0QWRqdXN0ZWRCbGVuZE1vZGVCbGVuZCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL2dldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQubWpzJztcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc3RhdGUvU3RhdGUubWpzJztcbmltcG9ydCB7IGNvbG9yMzJCaXRUb1VuaWZvcm0gfSBmcm9tICcuLi8uLi9ncmFwaGljcy9ncHUvY29sb3JUb1VuaWZvcm0ubWpzJztcbmltcG9ydCB7IFBhcnRpY2xlQnVmZmVyIH0gZnJvbSAnLi9QYXJ0aWNsZUJ1ZmZlci5tanMnO1xuaW1wb3J0IHsgUGFydGljbGVTaGFkZXIgfSBmcm9tICcuL3NoYWRlci9QYXJ0aWNsZVNoYWRlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFBhcnRpY2xlQ29udGFpbmVyUGlwZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBzcHJpdGUgYmF0Y2ggd29ya3MgZm9yLlxuICAgKiBAcGFyYW0gYWRhcHRvclxuICAgKi9cbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGFkYXB0b3IpIHtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgLyoqIExvY2FsIHVuaWZvcm1zIHRoYXQgYXJlIHVzZWQgZm9yIHJlbmRlcmluZyBwYXJ0aWNsZXMuICovXG4gICAgdGhpcy5sb2NhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1VHJhbnNsYXRpb25NYXRyaXg6IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICB1Q29sb3I6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoNCksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVSb3VuZDogeyB2YWx1ZTogMSwgdHlwZTogXCJmMzJcIiB9LFxuICAgICAgdVJlc29sdXRpb246IHsgdmFsdWU6IFswLCAwXSwgdHlwZTogXCJ2ZWMyPGYzMj5cIiB9XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuYWRhcHRvciA9IGFkYXB0b3I7XG4gICAgdGhpcy5kZWZhdWx0U2hhZGVyID0gbmV3IFBhcnRpY2xlU2hhZGVyKCk7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gIH1cbiAgdmFsaWRhdGVSZW5kZXJhYmxlKF9yZW5kZXJhYmxlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGFkZFJlbmRlcmFibGUocmVuZGVyYWJsZSwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQocmVuZGVyYWJsZSk7XG4gIH1cbiAgZ2V0QnVmZmVycyhyZW5kZXJhYmxlKSB7XG4gICAgcmV0dXJuIHJlbmRlcmFibGUuX2dwdURhdGFbdGhpcy5yZW5kZXJlci51aWRdIHx8IHRoaXMuX2luaXRCdWZmZXIocmVuZGVyYWJsZSk7XG4gIH1cbiAgX2luaXRCdWZmZXIocmVuZGVyYWJsZSkge1xuICAgIHJlbmRlcmFibGUuX2dwdURhdGFbdGhpcy5yZW5kZXJlci51aWRdID0gbmV3IFBhcnRpY2xlQnVmZmVyKHtcbiAgICAgIHNpemU6IHJlbmRlcmFibGUucGFydGljbGVDaGlsZHJlbi5sZW5ndGgsXG4gICAgICBwcm9wZXJ0aWVzOiByZW5kZXJhYmxlLl9wcm9wZXJ0aWVzXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlbmRlcmFibGUuX2dwdURhdGFbdGhpcy5yZW5kZXJlci51aWRdO1xuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoX3JlbmRlcmFibGUpIHtcbiAgfVxuICBleGVjdXRlKGNvbnRhaW5lcikge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gY29udGFpbmVyLnBhcnRpY2xlQ2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgY29uc3QgYnVmZmVyID0gdGhpcy5nZXRCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgY29udGFpbmVyLnRleHR1cmUgfHwgKGNvbnRhaW5lci50ZXh0dXJlID0gY2hpbGRyZW5bMF0udGV4dHVyZSk7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGJ1ZmZlci51cGRhdGUoY2hpbGRyZW4sIGNvbnRhaW5lci5fY2hpbGRyZW5EaXJ0eSk7XG4gICAgY29udGFpbmVyLl9jaGlsZHJlbkRpcnR5ID0gZmFsc2U7XG4gICAgc3RhdGUuYmxlbmRNb2RlID0gZ2V0QWRqdXN0ZWRCbGVuZE1vZGVCbGVuZChjb250YWluZXIuYmxlbmRNb2RlLCBjb250YWluZXIudGV4dHVyZS5fc291cmNlKTtcbiAgICBjb25zdCB1bmlmb3JtcyA9IHRoaXMubG9jYWxVbmlmb3Jtcy51bmlmb3JtcztcbiAgICBjb25zdCB0cmFuc2Zvcm1hdGlvbk1hdHJpeCA9IHVuaWZvcm1zLnVUcmFuc2xhdGlvbk1hdHJpeDtcbiAgICBjb250YWluZXIud29ybGRUcmFuc2Zvcm0uY29weVRvKHRyYW5zZm9ybWF0aW9uTWF0cml4KTtcbiAgICB0cmFuc2Zvcm1hdGlvbk1hdHJpeC5wcmVwZW5kKHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLmdsb2JhbFVuaWZvcm1EYXRhLnByb2plY3Rpb25NYXRyaXgpO1xuICAgIHVuaWZvcm1zLnVSZXNvbHV0aW9uID0gcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMuZ2xvYmFsVW5pZm9ybURhdGEucmVzb2x1dGlvbjtcbiAgICB1bmlmb3Jtcy51Um91bmQgPSByZW5kZXJlci5fcm91bmRQaXhlbHMgfCBjb250YWluZXIuX3JvdW5kUGl4ZWxzO1xuICAgIGNvbG9yMzJCaXRUb1VuaWZvcm0oXG4gICAgICBjb250YWluZXIuZ3JvdXBDb2xvckFscGhhLFxuICAgICAgdW5pZm9ybXMudUNvbG9yLFxuICAgICAgMFxuICAgICk7XG4gICAgdGhpcy5hZGFwdG9yLmV4ZWN1dGUodGhpcywgY29udGFpbmVyKTtcbiAgfVxuICAvKiogRGVzdHJveXMgdGhlIFBhcnRpY2xlUmVuZGVyZXIuICovXG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuZGVmYXVsdFNoYWRlcikge1xuICAgICAgdGhpcy5kZWZhdWx0U2hhZGVyLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZGVmYXVsdFNoYWRlciA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFBhcnRpY2xlQ29udGFpbmVyUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVDb250YWluZXJQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEdsUGFydGljbGVDb250YWluZXJBZGFwdG9yIH0gZnJvbSAnLi4vZ2wvR2xQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IubWpzJztcbmltcG9ydCB7IFBhcnRpY2xlQ29udGFpbmVyUGlwZSB9IGZyb20gJy4vUGFydGljbGVDb250YWluZXJQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgR2xQYXJ0aWNsZUNvbnRhaW5lclBpcGUgZXh0ZW5kcyBQYXJ0aWNsZUNvbnRhaW5lclBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHN1cGVyKHJlbmRlcmVyLCBuZXcgR2xQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IoKSk7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5HbFBhcnRpY2xlQ29udGFpbmVyUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJwYXJ0aWNsZVwiXG59O1xuXG5leHBvcnQgeyBHbFBhcnRpY2xlQ29udGFpbmVyUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2xQYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBHcHVQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3Ige1xuICBleGVjdXRlKHBhcnRpY2xlQ29udGFpbmVyUGlwZSwgY29udGFpbmVyKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBwYXJ0aWNsZUNvbnRhaW5lclBpcGUucmVuZGVyZXI7XG4gICAgY29uc3Qgc2hhZGVyID0gY29udGFpbmVyLnNoYWRlciB8fCBwYXJ0aWNsZUNvbnRhaW5lclBpcGUuZGVmYXVsdFNoYWRlcjtcbiAgICBzaGFkZXIuZ3JvdXBzWzBdID0gcmVuZGVyZXIucmVuZGVyUGlwZXMudW5pZm9ybUJhdGNoLmdldFVuaWZvcm1CaW5kR3JvdXAocGFydGljbGVDb250YWluZXJQaXBlLmxvY2FsVW5pZm9ybXMsIHRydWUpO1xuICAgIHNoYWRlci5ncm91cHNbMV0gPSByZW5kZXJlci50ZXh0dXJlLmdldFRleHR1cmVCaW5kR3JvdXAoY29udGFpbmVyLnRleHR1cmUpO1xuICAgIGNvbnN0IHN0YXRlID0gcGFydGljbGVDb250YWluZXJQaXBlLnN0YXRlO1xuICAgIGNvbnN0IGJ1ZmZlciA9IHBhcnRpY2xlQ29udGFpbmVyUGlwZS5nZXRCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgcmVuZGVyZXIuZW5jb2Rlci5kcmF3KHtcbiAgICAgIGdlb21ldHJ5OiBidWZmZXIuZ2VvbWV0cnksXG4gICAgICBzaGFkZXI6IGNvbnRhaW5lci5zaGFkZXIgfHwgcGFydGljbGVDb250YWluZXJQaXBlLmRlZmF1bHRTaGFkZXIsXG4gICAgICBzdGF0ZSxcbiAgICAgIHNpemU6IGNvbnRhaW5lci5wYXJ0aWNsZUNoaWxkcmVuLmxlbmd0aCAqIDZcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBHcHVQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdwdVBhcnRpY2xlQ29udGFpbmVyQWRhcHRvci5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBHcHVQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IgfSBmcm9tICcuLi9ncHUvR3B1UGFydGljbGVDb250YWluZXJBZGFwdG9yLm1qcyc7XG5pbXBvcnQgeyBQYXJ0aWNsZUNvbnRhaW5lclBpcGUgfSBmcm9tICcuL1BhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEdwdVBhcnRpY2xlQ29udGFpbmVyUGlwZSBleHRlbmRzIFBhcnRpY2xlQ29udGFpbmVyUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgc3VwZXIocmVuZGVyZXIsIG5ldyBHcHVQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IoKSk7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5HcHVQYXJ0aWNsZUNvbnRhaW5lclBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlc1xuICBdLFxuICBuYW1lOiBcInBhcnRpY2xlXCJcbn07XG5cbmV4cG9ydCB7IEdwdVBhcnRpY2xlQ29udGFpbmVyUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3B1UGFydGljbGVDb250YWluZXJQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEdsUGFydGljbGVDb250YWluZXJQaXBlIH0gZnJvbSAnLi9zaGFyZWQvR2xQYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzJztcbmltcG9ydCB7IEdwdVBhcnRpY2xlQ29udGFpbmVyUGlwZSB9IGZyb20gJy4vc2hhcmVkL0dwdVBhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmV4dGVuc2lvbnMuYWRkKEdsUGFydGljbGVDb250YWluZXJQaXBlKTtcbmV4dGVuc2lvbnMuYWRkKEdwdVBhcnRpY2xlQ29udGFpbmVyUGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEJhdGNoYWJsZU1lc2ggfSBmcm9tICcuLi9tZXNoL3NoYXJlZC9CYXRjaGFibGVNZXNoLm1qcyc7XG5pbXBvcnQgeyBOaW5lU2xpY2VHZW9tZXRyeSB9IGZyb20gJy4vTmluZVNsaWNlR2VvbWV0cnkubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBOaW5lU2xpY2VTcHJpdGVHcHVEYXRhIGV4dGVuZHMgQmF0Y2hhYmxlTWVzaCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBOaW5lU2xpY2VHZW9tZXRyeSgpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5nZW9tZXRyeS5kZXN0cm95KCk7XG4gIH1cbn1cbmNsYXNzIE5pbmVTbGljZVNwcml0ZVBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShzcHJpdGUsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZ3B1U3ByaXRlID0gdGhpcy5fZ2V0R3B1U3ByaXRlKHNwcml0ZSk7XG4gICAgaWYgKHNwcml0ZS5kaWRWaWV3VXBkYXRlKVxuICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hhYmxlU3ByaXRlKHNwcml0ZSwgZ3B1U3ByaXRlKTtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5hZGRUb0JhdGNoKGdwdVNwcml0ZSwgaW5zdHJ1Y3Rpb25TZXQpO1xuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoc3ByaXRlKSB7XG4gICAgY29uc3QgZ3B1U3ByaXRlID0gdGhpcy5fZ2V0R3B1U3ByaXRlKHNwcml0ZSk7XG4gICAgaWYgKHNwcml0ZS5kaWRWaWV3VXBkYXRlKVxuICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hhYmxlU3ByaXRlKHNwcml0ZSwgZ3B1U3ByaXRlKTtcbiAgICBncHVTcHJpdGUuX2JhdGNoZXIudXBkYXRlRWxlbWVudChncHVTcHJpdGUpO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShzcHJpdGUpIHtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9nZXRHcHVTcHJpdGUoc3ByaXRlKTtcbiAgICByZXR1cm4gIWdwdVNwcml0ZS5fYmF0Y2hlci5jaGVja0FuZFVwZGF0ZVRleHR1cmUoXG4gICAgICBncHVTcHJpdGUsXG4gICAgICBzcHJpdGUuX3RleHR1cmVcbiAgICApO1xuICB9XG4gIF91cGRhdGVCYXRjaGFibGVTcHJpdGUoc3ByaXRlLCBiYXRjaGFibGVTcHJpdGUpIHtcbiAgICBiYXRjaGFibGVTcHJpdGUuZ2VvbWV0cnkudXBkYXRlKHNwcml0ZSk7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnNldFRleHR1cmUoc3ByaXRlLl90ZXh0dXJlKTtcbiAgfVxuICBfZ2V0R3B1U3ByaXRlKHNwcml0ZSkge1xuICAgIHJldHVybiBzcHJpdGUuX2dwdURhdGFbdGhpcy5fcmVuZGVyZXIudWlkXSB8fCB0aGlzLl9pbml0R1BVU3ByaXRlKHNwcml0ZSk7XG4gIH1cbiAgX2luaXRHUFVTcHJpdGUoc3ByaXRlKSB7XG4gICAgY29uc3QgZ3B1RGF0YSA9IHNwcml0ZS5fZ3B1RGF0YVt0aGlzLl9yZW5kZXJlci51aWRdID0gbmV3IE5pbmVTbGljZVNwcml0ZUdwdURhdGEoKTtcbiAgICBjb25zdCBiYXRjaGFibGVNZXNoID0gZ3B1RGF0YTtcbiAgICBiYXRjaGFibGVNZXNoLnJlbmRlcmFibGUgPSBzcHJpdGU7XG4gICAgYmF0Y2hhYmxlTWVzaC50cmFuc2Zvcm0gPSBzcHJpdGUuZ3JvdXBUcmFuc2Zvcm07XG4gICAgYmF0Y2hhYmxlTWVzaC50ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgIGJhdGNoYWJsZU1lc2gucm91bmRQaXhlbHMgPSB0aGlzLl9yZW5kZXJlci5fcm91bmRQaXhlbHMgfCBzcHJpdGUuX3JvdW5kUGl4ZWxzO1xuICAgIGlmICghc3ByaXRlLmRpZFZpZXdVcGRhdGUpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZShzcHJpdGUsIGJhdGNoYWJsZU1lc2gpO1xuICAgIH1cbiAgICByZXR1cm4gZ3B1RGF0YTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbk5pbmVTbGljZVNwcml0ZVBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcIm5pbmVTbGljZVNwcml0ZVwiXG59O1xuXG5leHBvcnQgeyBOaW5lU2xpY2VTcHJpdGVHcHVEYXRhLCBOaW5lU2xpY2VTcHJpdGVQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OaW5lU2xpY2VTcHJpdGVQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IE5pbmVTbGljZVNwcml0ZVBpcGUgfSBmcm9tICcuL05pbmVTbGljZVNwcml0ZVBpcGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChOaW5lU2xpY2VTcHJpdGVQaXBlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0aWxpbmdCaXQgPSB7XG4gIG5hbWU6IFwidGlsaW5nLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHN0cnVjdCBUaWxpbmdVbmlmb3JtcyB7XG4gICAgICAgICAgICAgICAgdU1hcENvb3JkOm1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVDbGFtcEZyYW1lOnZlYzQ8ZjMyPixcbiAgICAgICAgICAgICAgICB1Q2xhbXBPZmZzZXQ6dmVjMjxmMzI+LFxuICAgICAgICAgICAgICAgIHVUZXh0dXJlVHJhbnNmb3JtOm1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVTaXplQW5jaG9yOnZlYzQ8ZjMyPlxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiB0aWxpbmdVbmlmb3JtczogVGlsaW5nVW5pZm9ybXM7XG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMSkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMikgdmFyIHVTYW1wbGVyOiBzYW1wbGVyO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICB1diA9ICh0aWxpbmdVbmlmb3Jtcy51VGV4dHVyZVRyYW5zZm9ybSAqIHZlYzModXYsIDEuMCkpLnh5O1xuXG4gICAgICAgICAgICBwb3NpdGlvbiA9IChwb3NpdGlvbiAtIHRpbGluZ1VuaWZvcm1zLnVTaXplQW5jaG9yLnp3KSAqIHRpbGluZ1VuaWZvcm1zLnVTaXplQW5jaG9yLnh5O1xuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgc3RydWN0IFRpbGluZ1VuaWZvcm1zIHtcbiAgICAgICAgICAgICAgICB1TWFwQ29vcmQ6bWF0M3gzPGYzMj4sXG4gICAgICAgICAgICAgICAgdUNsYW1wRnJhbWU6dmVjNDxmMzI+LFxuICAgICAgICAgICAgICAgIHVDbGFtcE9mZnNldDp2ZWMyPGYzMj4sXG4gICAgICAgICAgICAgICAgdVRleHR1cmVUcmFuc2Zvcm06bWF0M3gzPGYzMj4sXG4gICAgICAgICAgICAgICAgdVNpemVBbmNob3I6dmVjNDxmMzI+XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IHRpbGluZ1VuaWZvcm1zOiBUaWxpbmdVbmlmb3JtcztcbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygxKSB2YXIgdVRleHR1cmU6IHRleHR1cmVfMmQ8ZjMyPjtcbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygyKSB2YXIgdVNhbXBsZXI6IHNhbXBsZXI7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcblxuICAgICAgICAgICAgdmFyIGNvb3JkID0gdlVWICsgY2VpbCh0aWxpbmdVbmlmb3Jtcy51Q2xhbXBPZmZzZXQgLSB2VVYpO1xuICAgICAgICAgICAgY29vcmQgPSAodGlsaW5nVW5pZm9ybXMudU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XG4gICAgICAgICAgICB2YXIgdW5jbGFtcGVkID0gY29vcmQ7XG4gICAgICAgICAgICBjb29yZCA9IGNsYW1wKGNvb3JkLCB0aWxpbmdVbmlmb3Jtcy51Q2xhbXBGcmFtZS54eSwgdGlsaW5nVW5pZm9ybXMudUNsYW1wRnJhbWUuencpO1xuXG4gICAgICAgICAgICB2YXIgYmlhcyA9IDAuO1xuXG4gICAgICAgICAgICBpZih1bmNsYW1wZWQueCA9PSBjb29yZC54ICYmIHVuY2xhbXBlZC55ID09IGNvb3JkLnkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmlhcyA9IC0zMi47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG91dENvbG9yID0gdGV4dHVyZVNhbXBsZUJpYXModVRleHR1cmUsIHVTYW1wbGVyLCBjb29yZCwgYmlhcyk7XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCB0aWxpbmdCaXRHbCA9IHtcbiAgbmFtZTogXCJ0aWxpbmctYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdW5pZm9ybSBtYXQzIHVUZXh0dXJlVHJhbnNmb3JtO1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWM0IHVTaXplQW5jaG9yO1xuXG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHV2ID0gKHVUZXh0dXJlVHJhbnNmb3JtICogdmVjMyhhVVYsIDEuMCkpLnh5O1xuXG4gICAgICAgICAgICBwb3NpdGlvbiA9IChwb3NpdGlvbiAtIHVTaXplQW5jaG9yLnp3KSAqIHVTaXplQW5jaG9yLnh5O1xuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XG4gICAgICAgICAgICB1bmlmb3JtIG1hdDMgdU1hcENvb3JkO1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWM0IHVDbGFtcEZyYW1lO1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuXG4gICAgICAgIHZlYzIgY29vcmQgPSB2VVYgKyBjZWlsKHVDbGFtcE9mZnNldCAtIHZVVik7XG4gICAgICAgIGNvb3JkID0gKHVNYXBDb29yZCAqIHZlYzMoY29vcmQsIDEuMCkpLnh5O1xuICAgICAgICB2ZWMyIHVuY2xhbXBlZCA9IGNvb3JkO1xuICAgICAgICBjb29yZCA9IGNsYW1wKGNvb3JkLCB1Q2xhbXBGcmFtZS54eSwgdUNsYW1wRnJhbWUuencpO1xuXG4gICAgICAgIG91dENvbG9yID0gdGV4dHVyZSh1VGV4dHVyZSwgY29vcmQsIHVuY2xhbXBlZCA9PSBjb29yZCA/IDAuMCA6IC0zMi4wKTsvLyBsb2QtYmlhcyB2ZXJ5IG5lZ2F0aXZlIHRvIGZvcmNlIGxvZCAwXG5cbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgdGlsaW5nQml0LCB0aWxpbmdCaXRHbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlsaW5nQml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSwgY29tcGlsZUhpZ2hTaGFkZXJHbFByb2dyYW0gfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvY29tcGlsZUhpZ2hTaGFkZXJUb1Byb2dyYW0ubWpzJztcbmltcG9ydCB7IGxvY2FsVW5pZm9ybUJpdCwgbG9jYWxVbmlmb3JtQml0R2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvbG9jYWxVbmlmb3JtQml0Lm1qcyc7XG5pbXBvcnQgeyByb3VuZFBpeGVsc0JpdCwgcm91bmRQaXhlbHNCaXRHbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9yb3VuZFBpeGVsc0JpdC5tanMnO1xuaW1wb3J0IHsgU2hhZGVyIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1NoYWRlci5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgdGlsaW5nQml0LCB0aWxpbmdCaXRHbCB9IGZyb20gJy4vdGlsaW5nQml0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xubGV0IGdwdVByb2dyYW07XG5sZXQgZ2xQcm9ncmFtO1xuY2xhc3MgVGlsaW5nU3ByaXRlU2hhZGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgZ3B1UHJvZ3JhbSA/PyAoZ3B1UHJvZ3JhbSA9IGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSh7XG4gICAgICBuYW1lOiBcInRpbGluZy1zcHJpdGUtc2hhZGVyXCIsXG4gICAgICBiaXRzOiBbXG4gICAgICAgIGxvY2FsVW5pZm9ybUJpdCxcbiAgICAgICAgdGlsaW5nQml0LFxuICAgICAgICByb3VuZFBpeGVsc0JpdFxuICAgICAgXVxuICAgIH0pKTtcbiAgICBnbFByb2dyYW0gPz8gKGdsUHJvZ3JhbSA9IGNvbXBpbGVIaWdoU2hhZGVyR2xQcm9ncmFtKHtcbiAgICAgIG5hbWU6IFwidGlsaW5nLXNwcml0ZS1zaGFkZXJcIixcbiAgICAgIGJpdHM6IFtcbiAgICAgICAgbG9jYWxVbmlmb3JtQml0R2wsXG4gICAgICAgIHRpbGluZ0JpdEdsLFxuICAgICAgICByb3VuZFBpeGVsc0JpdEdsXG4gICAgICBdXG4gICAgfSkpO1xuICAgIGNvbnN0IHRpbGluZ1VuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1TWFwQ29vcmQ6IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICB1Q2xhbXBGcmFtZTogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMV0pLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1Q2xhbXBPZmZzZXQ6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDBdKSwgdHlwZTogXCJ2ZWMyPGYzMj5cIiB9LFxuICAgICAgdVRleHR1cmVUcmFuc2Zvcm06IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICB1U2l6ZUFuY2hvcjogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheShbMTAwLCAxMDAsIDAuNSwgMC41XSksIHR5cGU6IFwidmVjNDxmMzI+XCIgfVxuICAgIH0pO1xuICAgIHN1cGVyKHtcbiAgICAgIGdsUHJvZ3JhbSxcbiAgICAgIGdwdVByb2dyYW0sXG4gICAgICByZXNvdXJjZXM6IHtcbiAgICAgICAgbG9jYWxVbmlmb3JtczogbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICAgICAgdVRyYW5zZm9ybU1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgICAgICB1Q29sb3I6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgICAgIHVSb3VuZDogeyB2YWx1ZTogMCwgdHlwZTogXCJmMzJcIiB9XG4gICAgICAgIH0pLFxuICAgICAgICB0aWxpbmdVbmlmb3JtcyxcbiAgICAgICAgdVRleHR1cmU6IFRleHR1cmUuRU1QVFkuc291cmNlLFxuICAgICAgICB1U2FtcGxlcjogVGV4dHVyZS5FTVBUWS5zb3VyY2Uuc3R5bGVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICB1cGRhdGVVbmlmb3Jtcyh3aWR0aCwgaGVpZ2h0LCBtYXRyaXgsIGFuY2hvclgsIGFuY2hvclksIHRleHR1cmUpIHtcbiAgICBjb25zdCB0aWxpbmdVbmlmb3JtcyA9IHRoaXMucmVzb3VyY2VzLnRpbGluZ1VuaWZvcm1zO1xuICAgIGNvbnN0IHRleHR1cmVXaWR0aCA9IHRleHR1cmUud2lkdGg7XG4gICAgY29uc3QgdGV4dHVyZUhlaWdodCA9IHRleHR1cmUuaGVpZ2h0O1xuICAgIGNvbnN0IHRleHR1cmVNYXRyaXggPSB0ZXh0dXJlLnRleHR1cmVNYXRyaXg7XG4gICAgY29uc3QgdVRleHR1cmVUcmFuc2Zvcm0gPSB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51VGV4dHVyZVRyYW5zZm9ybTtcbiAgICB1VGV4dHVyZVRyYW5zZm9ybS5zZXQoXG4gICAgICBtYXRyaXguYSAqIHRleHR1cmVXaWR0aCAvIHdpZHRoLFxuICAgICAgbWF0cml4LmIgKiB0ZXh0dXJlV2lkdGggLyBoZWlnaHQsXG4gICAgICBtYXRyaXguYyAqIHRleHR1cmVIZWlnaHQgLyB3aWR0aCxcbiAgICAgIG1hdHJpeC5kICogdGV4dHVyZUhlaWdodCAvIGhlaWdodCxcbiAgICAgIG1hdHJpeC50eCAvIHdpZHRoLFxuICAgICAgbWF0cml4LnR5IC8gaGVpZ2h0XG4gICAgKTtcbiAgICB1VGV4dHVyZVRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51TWFwQ29vcmQgPSB0ZXh0dXJlTWF0cml4Lm1hcENvb3JkO1xuICAgIHRpbGluZ1VuaWZvcm1zLnVuaWZvcm1zLnVDbGFtcEZyYW1lID0gdGV4dHVyZU1hdHJpeC51Q2xhbXBGcmFtZTtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB0ZXh0dXJlTWF0cml4LnVDbGFtcE9mZnNldDtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51VGV4dHVyZVRyYW5zZm9ybSA9IHVUZXh0dXJlVHJhbnNmb3JtO1xuICAgIHRpbGluZ1VuaWZvcm1zLnVuaWZvcm1zLnVTaXplQW5jaG9yWzBdID0gd2lkdGg7XG4gICAgdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudVNpemVBbmNob3JbMV0gPSBoZWlnaHQ7XG4gICAgdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudVNpemVBbmNob3JbMl0gPSBhbmNob3JYO1xuICAgIHRpbGluZ1VuaWZvcm1zLnVuaWZvcm1zLnVTaXplQW5jaG9yWzNdID0gYW5jaG9yWTtcbiAgICBpZiAodGV4dHVyZSkge1xuICAgICAgdGhpcy5yZXNvdXJjZXMudVRleHR1cmUgPSB0ZXh0dXJlLnNvdXJjZTtcbiAgICAgIHRoaXMucmVzb3VyY2VzLnVTYW1wbGVyID0gdGV4dHVyZS5zb3VyY2Uuc3R5bGU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFRpbGluZ1Nwcml0ZVNoYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsaW5nU3ByaXRlU2hhZGVyLm1qcy5tYXBcbiIsImltcG9ydCB7IE1lc2hHZW9tZXRyeSB9IGZyb20gJy4uLy4uL21lc2gvc2hhcmVkL01lc2hHZW9tZXRyeS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFF1YWRHZW9tZXRyeSBleHRlbmRzIE1lc2hHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHBvc2l0aW9uczogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pLFxuICAgICAgdXZzOiBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAxLCAwLCAxLCAxLCAwLCAxXSksXG4gICAgICBpbmRpY2VzOiBuZXcgVWludDMyQXJyYXkoWzAsIDEsIDIsIDAsIDIsIDNdKVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IFF1YWRHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UXVhZEdlb21ldHJ5Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IGdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9nZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kLm1qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJlclR5cGUgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtIH0gZnJvbSAnLi4vZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVNZXNoIH0gZnJvbSAnLi4vbWVzaC9zaGFyZWQvQmF0Y2hhYmxlTWVzaC5tanMnO1xuaW1wb3J0IHsgTWVzaEdlb21ldHJ5IH0gZnJvbSAnLi4vbWVzaC9zaGFyZWQvTWVzaEdlb21ldHJ5Lm1qcyc7XG5pbXBvcnQgeyBUaWxpbmdTcHJpdGVTaGFkZXIgfSBmcm9tICcuL3NoYWRlci9UaWxpbmdTcHJpdGVTaGFkZXIubWpzJztcbmltcG9ydCB7IFF1YWRHZW9tZXRyeSB9IGZyb20gJy4vdXRpbHMvUXVhZEdlb21ldHJ5Lm1qcyc7XG5pbXBvcnQgeyBzZXRQb3NpdGlvbnMgfSBmcm9tICcuL3V0aWxzL3NldFBvc2l0aW9ucy5tanMnO1xuaW1wb3J0IHsgc2V0VXZzIH0gZnJvbSAnLi91dGlscy9zZXRVdnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBzaGFyZWRRdWFkID0gbmV3IFF1YWRHZW9tZXRyeSgpO1xuY2xhc3MgVGlsaW5nU3ByaXRlR3B1RGF0YSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY2FuQmF0Y2ggPSB0cnVlO1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgTWVzaEdlb21ldHJ5KHtcbiAgICAgIGluZGljZXM6IHNoYXJlZFF1YWQuaW5kaWNlcy5zbGljZSgpLFxuICAgICAgcG9zaXRpb25zOiBzaGFyZWRRdWFkLnBvc2l0aW9ucy5zbGljZSgpLFxuICAgICAgdXZzOiBzaGFyZWRRdWFkLnV2cy5zbGljZSgpXG4gICAgfSk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmdlb21ldHJ5LmRlc3Ryb3koKTtcbiAgICB0aGlzLnNoYWRlcj8uZGVzdHJveSgpO1xuICB9XG59XG5jbGFzcyBUaWxpbmdTcHJpdGVQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9zdGF0ZSA9IFN0YXRlLmRlZmF1bHQyZDtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShyZW5kZXJhYmxlKSB7XG4gICAgY29uc3QgdGlsaW5nU3ByaXRlRGF0YSA9IHRoaXMuX2dldFRpbGluZ1Nwcml0ZURhdGEocmVuZGVyYWJsZSk7XG4gICAgY29uc3QgY291bGRCYXRjaCA9IHRpbGluZ1Nwcml0ZURhdGEuY2FuQmF0Y2g7XG4gICAgdGhpcy5fdXBkYXRlQ2FuQmF0Y2gocmVuZGVyYWJsZSk7XG4gICAgY29uc3QgY2FuQmF0Y2ggPSB0aWxpbmdTcHJpdGVEYXRhLmNhbkJhdGNoO1xuICAgIGlmIChjYW5CYXRjaCAmJiBjYW5CYXRjaCA9PT0gY291bGRCYXRjaCkge1xuICAgICAgY29uc3QgeyBiYXRjaGFibGVNZXNoIH0gPSB0aWxpbmdTcHJpdGVEYXRhO1xuICAgICAgcmV0dXJuICFiYXRjaGFibGVNZXNoLl9iYXRjaGVyLmNoZWNrQW5kVXBkYXRlVGV4dHVyZShcbiAgICAgICAgYmF0Y2hhYmxlTWVzaCxcbiAgICAgICAgcmVuZGVyYWJsZS50ZXh0dXJlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY291bGRCYXRjaCAhPT0gY2FuQmF0Y2g7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZSh0aWxpbmdTcHJpdGUsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgYmF0Y2hlciA9IHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoO1xuICAgIHRoaXMuX3VwZGF0ZUNhbkJhdGNoKHRpbGluZ1Nwcml0ZSk7XG4gICAgY29uc3QgdGlsaW5nU3ByaXRlRGF0YSA9IHRoaXMuX2dldFRpbGluZ1Nwcml0ZURhdGEodGlsaW5nU3ByaXRlKTtcbiAgICBjb25zdCB7IGdlb21ldHJ5LCBjYW5CYXRjaCB9ID0gdGlsaW5nU3ByaXRlRGF0YTtcbiAgICBpZiAoY2FuQmF0Y2gpIHtcbiAgICAgIHRpbGluZ1Nwcml0ZURhdGEuYmF0Y2hhYmxlTWVzaCB8fCAodGlsaW5nU3ByaXRlRGF0YS5iYXRjaGFibGVNZXNoID0gbmV3IEJhdGNoYWJsZU1lc2goKSk7XG4gICAgICBjb25zdCBiYXRjaGFibGVNZXNoID0gdGlsaW5nU3ByaXRlRGF0YS5iYXRjaGFibGVNZXNoO1xuICAgICAgaWYgKHRpbGluZ1Nwcml0ZS5kaWRWaWV3VXBkYXRlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZU1lc2godGlsaW5nU3ByaXRlKTtcbiAgICAgICAgYmF0Y2hhYmxlTWVzaC5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgICAgICBiYXRjaGFibGVNZXNoLnJlbmRlcmFibGUgPSB0aWxpbmdTcHJpdGU7XG4gICAgICAgIGJhdGNoYWJsZU1lc2gudHJhbnNmb3JtID0gdGlsaW5nU3ByaXRlLmdyb3VwVHJhbnNmb3JtO1xuICAgICAgICBiYXRjaGFibGVNZXNoLnNldFRleHR1cmUodGlsaW5nU3ByaXRlLl90ZXh0dXJlKTtcbiAgICAgIH1cbiAgICAgIGJhdGNoYWJsZU1lc2gucm91bmRQaXhlbHMgPSB0aGlzLl9yZW5kZXJlci5fcm91bmRQaXhlbHMgfCB0aWxpbmdTcHJpdGUuX3JvdW5kUGl4ZWxzO1xuICAgICAgYmF0Y2hlci5hZGRUb0JhdGNoKGJhdGNoYWJsZU1lc2gsIGluc3RydWN0aW9uU2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmF0Y2hlci5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgICB0aWxpbmdTcHJpdGVEYXRhLnNoYWRlciB8fCAodGlsaW5nU3ByaXRlRGF0YS5zaGFkZXIgPSBuZXcgVGlsaW5nU3ByaXRlU2hhZGVyKCkpO1xuICAgICAgdGhpcy51cGRhdGVSZW5kZXJhYmxlKHRpbGluZ1Nwcml0ZSk7XG4gICAgICBpbnN0cnVjdGlvblNldC5hZGQodGlsaW5nU3ByaXRlKTtcbiAgICB9XG4gIH1cbiAgZXhlY3V0ZSh0aWxpbmdTcHJpdGUpIHtcbiAgICBjb25zdCB7IHNoYWRlciB9ID0gdGhpcy5fZ2V0VGlsaW5nU3ByaXRlRGF0YSh0aWxpbmdTcHJpdGUpO1xuICAgIHNoYWRlci5ncm91cHNbMF0gPSB0aGlzLl9yZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5iaW5kR3JvdXA7XG4gICAgY29uc3QgbG9jYWxVbmlmb3JtcyA9IHNoYWRlci5yZXNvdXJjZXMubG9jYWxVbmlmb3Jtcy51bmlmb3JtcztcbiAgICBsb2NhbFVuaWZvcm1zLnVUcmFuc2Zvcm1NYXRyaXggPSB0aWxpbmdTcHJpdGUuZ3JvdXBUcmFuc2Zvcm07XG4gICAgbG9jYWxVbmlmb3Jtcy51Um91bmQgPSB0aGlzLl9yZW5kZXJlci5fcm91bmRQaXhlbHMgfCB0aWxpbmdTcHJpdGUuX3JvdW5kUGl4ZWxzO1xuICAgIGNvbG9yMzJCaXRUb1VuaWZvcm0oXG4gICAgICB0aWxpbmdTcHJpdGUuZ3JvdXBDb2xvckFscGhhLFxuICAgICAgbG9jYWxVbmlmb3Jtcy51Q29sb3IsXG4gICAgICAwXG4gICAgKTtcbiAgICB0aGlzLl9zdGF0ZS5ibGVuZE1vZGUgPSBnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kKHRpbGluZ1Nwcml0ZS5ncm91cEJsZW5kTW9kZSwgdGlsaW5nU3ByaXRlLnRleHR1cmUuX3NvdXJjZSk7XG4gICAgdGhpcy5fcmVuZGVyZXIuZW5jb2Rlci5kcmF3KHtcbiAgICAgIGdlb21ldHJ5OiBzaGFyZWRRdWFkLFxuICAgICAgc2hhZGVyLFxuICAgICAgc3RhdGU6IHRoaXMuX3N0YXRlXG4gICAgfSk7XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZSh0aWxpbmdTcHJpdGUpIHtcbiAgICBjb25zdCB0aWxpbmdTcHJpdGVEYXRhID0gdGhpcy5fZ2V0VGlsaW5nU3ByaXRlRGF0YSh0aWxpbmdTcHJpdGUpO1xuICAgIGNvbnN0IHsgY2FuQmF0Y2ggfSA9IHRpbGluZ1Nwcml0ZURhdGE7XG4gICAgaWYgKGNhbkJhdGNoKSB7XG4gICAgICBjb25zdCB7IGJhdGNoYWJsZU1lc2ggfSA9IHRpbGluZ1Nwcml0ZURhdGE7XG4gICAgICBpZiAodGlsaW5nU3ByaXRlLmRpZFZpZXdVcGRhdGUpXG4gICAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZU1lc2godGlsaW5nU3ByaXRlKTtcbiAgICAgIGJhdGNoYWJsZU1lc2guX2JhdGNoZXIudXBkYXRlRWxlbWVudChiYXRjaGFibGVNZXNoKTtcbiAgICB9IGVsc2UgaWYgKHRpbGluZ1Nwcml0ZS5kaWRWaWV3VXBkYXRlKSB7XG4gICAgICBjb25zdCB7IHNoYWRlciB9ID0gdGlsaW5nU3ByaXRlRGF0YTtcbiAgICAgIHNoYWRlci51cGRhdGVVbmlmb3JtcyhcbiAgICAgICAgdGlsaW5nU3ByaXRlLndpZHRoLFxuICAgICAgICB0aWxpbmdTcHJpdGUuaGVpZ2h0LFxuICAgICAgICB0aWxpbmdTcHJpdGUuX3RpbGVUcmFuc2Zvcm0ubWF0cml4LFxuICAgICAgICB0aWxpbmdTcHJpdGUuYW5jaG9yLngsXG4gICAgICAgIHRpbGluZ1Nwcml0ZS5hbmNob3IueSxcbiAgICAgICAgdGlsaW5nU3ByaXRlLnRleHR1cmVcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIF9nZXRUaWxpbmdTcHJpdGVEYXRhKHJlbmRlcmFibGUpIHtcbiAgICByZXR1cm4gcmVuZGVyYWJsZS5fZ3B1RGF0YVt0aGlzLl9yZW5kZXJlci51aWRdIHx8IHRoaXMuX2luaXRUaWxpbmdTcHJpdGVEYXRhKHJlbmRlcmFibGUpO1xuICB9XG4gIF9pbml0VGlsaW5nU3ByaXRlRGF0YSh0aWxpbmdTcHJpdGUpIHtcbiAgICBjb25zdCBncHVEYXRhID0gbmV3IFRpbGluZ1Nwcml0ZUdwdURhdGEoKTtcbiAgICBncHVEYXRhLnJlbmRlcmFibGUgPSB0aWxpbmdTcHJpdGU7XG4gICAgdGlsaW5nU3ByaXRlLl9ncHVEYXRhW3RoaXMuX3JlbmRlcmVyLnVpZF0gPSBncHVEYXRhO1xuICAgIHJldHVybiBncHVEYXRhO1xuICB9XG4gIF91cGRhdGVCYXRjaGFibGVNZXNoKHRpbGluZ1Nwcml0ZSkge1xuICAgIGNvbnN0IHJlbmRlcmFibGVEYXRhID0gdGhpcy5fZ2V0VGlsaW5nU3ByaXRlRGF0YSh0aWxpbmdTcHJpdGUpO1xuICAgIGNvbnN0IHsgZ2VvbWV0cnkgfSA9IHJlbmRlcmFibGVEYXRhO1xuICAgIGNvbnN0IHN0eWxlID0gdGlsaW5nU3ByaXRlLnRleHR1cmUuc291cmNlLnN0eWxlO1xuICAgIGlmIChzdHlsZS5hZGRyZXNzTW9kZSAhPT0gXCJyZXBlYXRcIikge1xuICAgICAgc3R5bGUuYWRkcmVzc01vZGUgPSBcInJlcGVhdFwiO1xuICAgICAgc3R5bGUudXBkYXRlKCk7XG4gICAgfVxuICAgIHNldFV2cyh0aWxpbmdTcHJpdGUsIGdlb21ldHJ5LnV2cyk7XG4gICAgc2V0UG9zaXRpb25zKHRpbGluZ1Nwcml0ZSwgZ2VvbWV0cnkucG9zaXRpb25zKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxuICBfdXBkYXRlQ2FuQmF0Y2godGlsaW5nU3ByaXRlKSB7XG4gICAgY29uc3QgcmVuZGVyYWJsZURhdGEgPSB0aGlzLl9nZXRUaWxpbmdTcHJpdGVEYXRhKHRpbGluZ1Nwcml0ZSk7XG4gICAgY29uc3QgdGV4dHVyZSA9IHRpbGluZ1Nwcml0ZS50ZXh0dXJlO1xuICAgIGxldCBfbm9uUG93T2Yyd3JhcHBpbmcgPSB0cnVlO1xuICAgIGlmICh0aGlzLl9yZW5kZXJlci50eXBlID09PSBSZW5kZXJlclR5cGUuV0VCR0wpIHtcbiAgICAgIF9ub25Qb3dPZjJ3cmFwcGluZyA9IHRoaXMuX3JlbmRlcmVyLmNvbnRleHQuc3VwcG9ydHMubm9uUG93T2Yyd3JhcHBpbmc7XG4gICAgfVxuICAgIHJlbmRlcmFibGVEYXRhLmNhbkJhdGNoID0gdGV4dHVyZS50ZXh0dXJlTWF0cml4LmlzU2ltcGxlICYmIChfbm9uUG93T2Yyd3JhcHBpbmcgfHwgdGV4dHVyZS5zb3VyY2UuaXNQb3dlck9mVHdvKTtcbiAgICByZXR1cm4gcmVuZGVyYWJsZURhdGEuY2FuQmF0Y2g7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5UaWxpbmdTcHJpdGVQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJ0aWxpbmdTcHJpdGVcIlxufTtcblxuZXhwb3J0IHsgVGlsaW5nU3ByaXRlR3B1RGF0YSwgVGlsaW5nU3ByaXRlUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsaW5nU3ByaXRlUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBhcHBseU1hdHJpeCB9IGZyb20gJy4vYXBwbHlNYXRyaXgubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBzZXRVdnModGlsaW5nU3ByaXRlLCB1dnMpIHtcbiAgY29uc3QgdGV4dHVyZSA9IHRpbGluZ1Nwcml0ZS50ZXh0dXJlO1xuICBjb25zdCB3aWR0aCA9IHRleHR1cmUuZnJhbWUud2lkdGg7XG4gIGNvbnN0IGhlaWdodCA9IHRleHR1cmUuZnJhbWUuaGVpZ2h0O1xuICBsZXQgYW5jaG9yWCA9IDA7XG4gIGxldCBhbmNob3JZID0gMDtcbiAgaWYgKHRpbGluZ1Nwcml0ZS5hcHBseUFuY2hvclRvVGV4dHVyZSkge1xuICAgIGFuY2hvclggPSB0aWxpbmdTcHJpdGUuYW5jaG9yLng7XG4gICAgYW5jaG9yWSA9IHRpbGluZ1Nwcml0ZS5hbmNob3IueTtcbiAgfVxuICB1dnNbMF0gPSB1dnNbNl0gPSAtYW5jaG9yWDtcbiAgdXZzWzJdID0gdXZzWzRdID0gMSAtIGFuY2hvclg7XG4gIHV2c1sxXSA9IHV2c1szXSA9IC1hbmNob3JZO1xuICB1dnNbNV0gPSB1dnNbN10gPSAxIC0gYW5jaG9yWTtcbiAgY29uc3QgdGV4dHVyZU1hdHJpeCA9IE1hdHJpeC5zaGFyZWQ7XG4gIHRleHR1cmVNYXRyaXguY29weUZyb20odGlsaW5nU3ByaXRlLl90aWxlVHJhbnNmb3JtLm1hdHJpeCk7XG4gIHRleHR1cmVNYXRyaXgudHggLz0gdGlsaW5nU3ByaXRlLndpZHRoO1xuICB0ZXh0dXJlTWF0cml4LnR5IC89IHRpbGluZ1Nwcml0ZS5oZWlnaHQ7XG4gIHRleHR1cmVNYXRyaXguaW52ZXJ0KCk7XG4gIHRleHR1cmVNYXRyaXguc2NhbGUodGlsaW5nU3ByaXRlLndpZHRoIC8gd2lkdGgsIHRpbGluZ1Nwcml0ZS5oZWlnaHQgLyBoZWlnaHQpO1xuICBhcHBseU1hdHJpeCh1dnMsIDIsIDAsIHRleHR1cmVNYXRyaXgpO1xufVxuXG5leHBvcnQgeyBzZXRVdnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldFV2cy5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGFwcGx5TWF0cml4KGFycmF5LCBzdHJpZGUsIG9mZnNldCwgbWF0cml4KSB7XG4gIGxldCBpbmRleCA9IDA7XG4gIGNvbnN0IHNpemUgPSBhcnJheS5sZW5ndGggLyAoc3RyaWRlIHx8IDIpO1xuICBjb25zdCBhID0gbWF0cml4LmE7XG4gIGNvbnN0IGIgPSBtYXRyaXguYjtcbiAgY29uc3QgYyA9IG1hdHJpeC5jO1xuICBjb25zdCBkID0gbWF0cml4LmQ7XG4gIGNvbnN0IHR4ID0gbWF0cml4LnR4O1xuICBjb25zdCB0eSA9IG1hdHJpeC50eTtcbiAgb2Zmc2V0ICo9IHN0cmlkZTtcbiAgd2hpbGUgKGluZGV4IDwgc2l6ZSkge1xuICAgIGNvbnN0IHggPSBhcnJheVtvZmZzZXRdO1xuICAgIGNvbnN0IHkgPSBhcnJheVtvZmZzZXQgKyAxXTtcbiAgICBhcnJheVtvZmZzZXRdID0gYSAqIHggKyBjICogeSArIHR4O1xuICAgIGFycmF5W29mZnNldCArIDFdID0gYiAqIHggKyBkICogeSArIHR5O1xuICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgaW5kZXgrKztcbiAgfVxufVxuXG5leHBvcnQgeyBhcHBseU1hdHJpeCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwbHlNYXRyaXgubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBzZXRQb3NpdGlvbnModGlsaW5nU3ByaXRlLCBwb3NpdGlvbnMpIHtcbiAgY29uc3QgYW5jaG9yWCA9IHRpbGluZ1Nwcml0ZS5hbmNob3IueDtcbiAgY29uc3QgYW5jaG9yWSA9IHRpbGluZ1Nwcml0ZS5hbmNob3IueTtcbiAgcG9zaXRpb25zWzBdID0gLWFuY2hvclggKiB0aWxpbmdTcHJpdGUud2lkdGg7XG4gIHBvc2l0aW9uc1sxXSA9IC1hbmNob3JZICogdGlsaW5nU3ByaXRlLmhlaWdodDtcbiAgcG9zaXRpb25zWzJdID0gKDEgLSBhbmNob3JYKSAqIHRpbGluZ1Nwcml0ZS53aWR0aDtcbiAgcG9zaXRpb25zWzNdID0gLWFuY2hvclkgKiB0aWxpbmdTcHJpdGUuaGVpZ2h0O1xuICBwb3NpdGlvbnNbNF0gPSAoMSAtIGFuY2hvclgpICogdGlsaW5nU3ByaXRlLndpZHRoO1xuICBwb3NpdGlvbnNbNV0gPSAoMSAtIGFuY2hvclkpICogdGlsaW5nU3ByaXRlLmhlaWdodDtcbiAgcG9zaXRpb25zWzZdID0gLWFuY2hvclggKiB0aWxpbmdTcHJpdGUud2lkdGg7XG4gIHBvc2l0aW9uc1s3XSA9ICgxIC0gYW5jaG9yWSkgKiB0aWxpbmdTcHJpdGUuaGVpZ2h0O1xufVxuXG5leHBvcnQgeyBzZXRQb3NpdGlvbnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldFBvc2l0aW9ucy5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBUaWxpbmdTcHJpdGVQaXBlIH0gZnJvbSAnLi9UaWxpbmdTcHJpdGVQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoVGlsaW5nU3ByaXRlUGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY2xhc3MgQmF0Y2hhYmxlU3ByaXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5iYXRjaGVyTmFtZSA9IFwiZGVmYXVsdFwiO1xuICAgIHRoaXMudG9wb2xvZ3kgPSBcInRyaWFuZ2xlLWxpc3RcIjtcbiAgICAvLyBiYXRjaCBzcGVjaWZpYy4uXG4gICAgdGhpcy5hdHRyaWJ1dGVTaXplID0gNDtcbiAgICB0aGlzLmluZGV4U2l6ZSA9IDY7XG4gICAgdGhpcy5wYWNrQXNRdWFkID0gdHJ1ZTtcbiAgICB0aGlzLnJvdW5kUGl4ZWxzID0gMDtcbiAgICB0aGlzLl9hdHRyaWJ1dGVTdGFydCA9IDA7XG4gICAgLy8gbG9jYXRpb24gaW4gdGhlIGJ1ZmZlclxuICAgIHRoaXMuX2JhdGNoZXIgPSBudWxsO1xuICAgIHRoaXMuX2JhdGNoID0gbnVsbDtcbiAgfVxuICBnZXQgYmxlbmRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmFibGUuZ3JvdXBCbGVuZE1vZGU7XG4gIH1cbiAgZ2V0IGNvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmFibGUuZ3JvdXBDb2xvckFscGhhO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMucmVuZGVyYWJsZSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaCA9IG51bGw7XG4gICAgdGhpcy5ib3VuZHMgPSBudWxsO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmF0Y2hhYmxlU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaGFibGVTcHJpdGUubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBsb2NhbFVuaWZvcm1NU0RGQml0ID0ge1xuICBuYW1lOiBcImxvY2FsLXVuaWZvcm0tbXNkZi1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBzdHJ1Y3QgTG9jYWxVbmlmb3JtcyB7XG4gICAgICAgICAgICAgICAgdUNvbG9yOnZlYzQ8ZjMyPixcbiAgICAgICAgICAgICAgICB1VHJhbnNmb3JtTWF0cml4Om1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVEaXN0YW5jZTogZjMyLFxuICAgICAgICAgICAgICAgIHVSb3VuZDpmMzIsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gbG9jYWxVbmlmb3JtcyA6IExvY2FsVW5pZm9ybXM7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHZDb2xvciAqPSBsb2NhbFVuaWZvcm1zLnVDb2xvcjtcbiAgICAgICAgICAgIG1vZGVsTWF0cml4ICo9IGxvY2FsVW5pZm9ybXMudVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgZW5kOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBpZihsb2NhbFVuaWZvcm1zLnVSb3VuZCA9PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZQb3NpdGlvbiA9IHZlYzQocm91bmRQaXhlbHModlBvc2l0aW9uLnh5LCBnbG9iYWxVbmlmb3Jtcy51UmVzb2x1dGlvbiksIHZQb3NpdGlvbi56dyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH0sXG4gIGZyYWdtZW50OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBzdHJ1Y3QgTG9jYWxVbmlmb3JtcyB7XG4gICAgICAgICAgICAgICAgdUNvbG9yOnZlYzQ8ZjMyPixcbiAgICAgICAgICAgICAgICB1VHJhbnNmb3JtTWF0cml4Om1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVEaXN0YW5jZTogZjMyXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gbG9jYWxVbmlmb3JtcyA6IExvY2FsVW5pZm9ybXM7XG4gICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBvdXRDb2xvciA9IHZlYzQ8ZjMyPihjYWxjdWxhdGVNU0RGQWxwaGEob3V0Q29sb3IsIGxvY2FsVW5pZm9ybXMudUNvbG9yLCBsb2NhbFVuaWZvcm1zLnVEaXN0YW5jZSkpO1xuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuY29uc3QgbG9jYWxVbmlmb3JtTVNERkJpdEdsID0ge1xuICBuYW1lOiBcImxvY2FsLXVuaWZvcm0tbXNkZi1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB1bmlmb3JtIG1hdDMgdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjNCB1Q29sb3I7XG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0IHVSb3VuZDtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdkNvbG9yICo9IHVDb2xvcjtcbiAgICAgICAgICAgIG1vZGVsTWF0cml4ICo9IHVUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgIGBcbiAgICApLFxuICAgIGVuZDogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgaWYodVJvdW5kID09IDEuKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsX1Bvc2l0aW9uLnh5ID0gcm91bmRQaXhlbHMoZ2xfUG9zaXRpb24ueHksIHVSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIClcbiAgfSxcbiAgZnJhZ21lbnQ6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgdURpc3RhbmNlO1xuICAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgb3V0Q29sb3IgPSB2ZWM0KGNhbGN1bGF0ZU1TREZBbHBoYShvdXRDb2xvciwgdkNvbG9yLCB1RGlzdGFuY2UpKTtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgbG9jYWxVbmlmb3JtTVNERkJpdCwgbG9jYWxVbmlmb3JtTVNERkJpdEdsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2NhbFVuaWZvcm1NU0RGQml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgbVNERkJpdCA9IHtcbiAgbmFtZTogXCJtc2RmLWJpdFwiLFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgZm4gY2FsY3VsYXRlTVNERkFscGhhKG1zZGZDb2xvcjp2ZWM0PGYzMj4sIHNoYXBlQ29sb3I6dmVjNDxmMzI+LCBkaXN0YW5jZTpmMzIpIC0+IGYzMiB7XG5cbiAgICAgICAgICAgICAgICAvLyBNU0RGXG4gICAgICAgICAgICAgICAgdmFyIG1lZGlhbiA9IG1zZGZDb2xvci5yICsgbXNkZkNvbG9yLmcgKyBtc2RmQ29sb3IuYiAtXG4gICAgICAgICAgICAgICAgICAgIG1pbihtc2RmQ29sb3IuciwgbWluKG1zZGZDb2xvci5nLCBtc2RmQ29sb3IuYikpIC1cbiAgICAgICAgICAgICAgICAgICAgbWF4KG1zZGZDb2xvci5yLCBtYXgobXNkZkNvbG9yLmcsIG1zZGZDb2xvci5iKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBTREZcbiAgICAgICAgICAgICAgICBtZWRpYW4gPSBtaW4obWVkaWFuLCBtc2RmQ29sb3IuYSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2NyZWVuUHhEaXN0YW5jZSA9IGRpc3RhbmNlICogKG1lZGlhbiAtIDAuNSk7XG4gICAgICAgICAgICAgICAgdmFyIGFscGhhID0gY2xhbXAoc2NyZWVuUHhEaXN0YW5jZSArIDAuNSwgMC4wLCAxLjApO1xuICAgICAgICAgICAgICAgIGlmIChtZWRpYW4gPCAwLjAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFscGhhID0gMC4wO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWVkaWFuID4gMC45OSkge1xuICAgICAgICAgICAgICAgICAgICBhbHBoYSA9IDEuMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBHYW1tYSBjb3JyZWN0aW9uIGZvciBjb3ZlcmFnZS1saWtlIGFscGhhXG4gICAgICAgICAgICAgICAgdmFyIGx1bWE6IGYzMiA9IGRvdChzaGFwZUNvbG9yLnJnYiwgdmVjMzxmMzI+KDAuMjk5LCAwLjU4NywgMC4xMTQpKTtcbiAgICAgICAgICAgICAgICB2YXIgZ2FtbWE6IGYzMiA9IG1peCgxLjAsIDEuMCAvIDIuMiwgbHVtYSk7XG4gICAgICAgICAgICAgICAgdmFyIGNvdmVyYWdlOiBmMzIgPSBwb3coc2hhcGVDb2xvci5hICogYWxwaGEsIGdhbW1hKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3ZlcmFnZTtcblxuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuY29uc3QgbVNERkJpdEdsID0ge1xuICBuYW1lOiBcIm1zZGYtYml0XCIsXG4gIGZyYWdtZW50OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICBmbG9hdCBjYWxjdWxhdGVNU0RGQWxwaGEodmVjNCBtc2RmQ29sb3IsIHZlYzQgc2hhcGVDb2xvciwgZmxvYXQgZGlzdGFuY2UpIHtcblxuICAgICAgICAgICAgICAgIC8vIE1TREZcbiAgICAgICAgICAgICAgICBmbG9hdCBtZWRpYW4gPSBtc2RmQ29sb3IuciArIG1zZGZDb2xvci5nICsgbXNkZkNvbG9yLmIgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4obXNkZkNvbG9yLnIsIG1pbihtc2RmQ29sb3IuZywgbXNkZkNvbG9yLmIpKSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heChtc2RmQ29sb3IuciwgbWF4KG1zZGZDb2xvci5nLCBtc2RmQ29sb3IuYikpO1xuXG4gICAgICAgICAgICAgICAgLy8gU0RGXG4gICAgICAgICAgICAgICAgbWVkaWFuID0gbWluKG1lZGlhbiwgbXNkZkNvbG9yLmEpO1xuXG4gICAgICAgICAgICAgICAgZmxvYXQgc2NyZWVuUHhEaXN0YW5jZSA9IGRpc3RhbmNlICogKG1lZGlhbiAtIDAuNSk7XG4gICAgICAgICAgICAgICAgZmxvYXQgYWxwaGEgPSBjbGFtcChzY3JlZW5QeERpc3RhbmNlICsgMC41LCAwLjAsIDEuMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWVkaWFuIDwgMC4wMSkge1xuICAgICAgICAgICAgICAgICAgICBhbHBoYSA9IDAuMDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1lZGlhbiA+IDAuOTkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxwaGEgPSAxLjA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gR2FtbWEgY29ycmVjdGlvbiBmb3IgY292ZXJhZ2UtbGlrZSBhbHBoYVxuICAgICAgICAgICAgICAgIGZsb2F0IGx1bWEgPSBkb3Qoc2hhcGVDb2xvci5yZ2IsIHZlYzMoMC4yOTksIDAuNTg3LCAwLjExNCkpO1xuICAgICAgICAgICAgICAgIGZsb2F0IGdhbW1hID0gbWl4KDEuMCwgMS4wIC8gMi4yLCBsdW1hKTtcbiAgICAgICAgICAgICAgICBmbG9hdCBjb3ZlcmFnZSA9IHBvdyhzaGFwZUNvbG9yLmEgKiBhbHBoYSwgZ2FtbWEpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvdmVyYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyBtU0RGQml0LCBtU0RGQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1TREZCaXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgY29tcGlsZUhpZ2hTaGFkZXJHcHVQcm9ncmFtLCBjb21waWxlSGlnaFNoYWRlckdsUHJvZ3JhbSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9oaWdoLXNoYWRlci9jb21waWxlSGlnaFNoYWRlclRvUHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgY29sb3JCaXQsIGNvbG9yQml0R2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvY29sb3JCaXQubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlVGV4dHVyZUJhdGNoQml0LCBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdEdsIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2dlbmVyYXRlVGV4dHVyZUJhdGNoQml0Lm1qcyc7XG5pbXBvcnQgeyByb3VuZFBpeGVsc0JpdCwgcm91bmRQaXhlbHNCaXRHbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9yb3VuZFBpeGVsc0JpdC5tanMnO1xuaW1wb3J0IHsgZ2V0QmF0Y2hTYW1wbGVyc1VuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ2wvc2hhZGVyL2dldEJhdGNoU2FtcGxlcnNVbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IFNoYWRlciB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9TaGFkZXIubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IGxvY2FsVW5pZm9ybU1TREZCaXQsIGxvY2FsVW5pZm9ybU1TREZCaXRHbCB9IGZyb20gJy4vc2hhZGVyLWJpdHMvbG9jYWxVbmlmb3JtTVNERkJpdC5tanMnO1xuaW1wb3J0IHsgbVNERkJpdCwgbVNERkJpdEdsIH0gZnJvbSAnLi9zaGFkZXItYml0cy9tU0RGQml0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xubGV0IGdwdVByb2dyYW07XG5sZXQgZ2xQcm9ncmFtO1xuY2xhc3MgU2RmU2hhZGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgY29uc3RydWN0b3IobWF4VGV4dHVyZXMpIHtcbiAgICBjb25zdCB1bmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgdUNvbG9yOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVUcmFuc2Zvcm1NYXRyaXg6IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICB1RGlzdGFuY2U6IHsgdmFsdWU6IDQsIHR5cGU6IFwiZjMyXCIgfSxcbiAgICAgIHVSb3VuZDogeyB2YWx1ZTogMCwgdHlwZTogXCJmMzJcIiB9XG4gICAgfSk7XG4gICAgZ3B1UHJvZ3JhbSA/PyAoZ3B1UHJvZ3JhbSA9IGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSh7XG4gICAgICBuYW1lOiBcInNkZi1zaGFkZXJcIixcbiAgICAgIGJpdHM6IFtcbiAgICAgICAgY29sb3JCaXQsXG4gICAgICAgIGdlbmVyYXRlVGV4dHVyZUJhdGNoQml0KG1heFRleHR1cmVzKSxcbiAgICAgICAgbG9jYWxVbmlmb3JtTVNERkJpdCxcbiAgICAgICAgbVNERkJpdCxcbiAgICAgICAgcm91bmRQaXhlbHNCaXRcbiAgICAgIF1cbiAgICB9KSk7XG4gICAgZ2xQcm9ncmFtID8/IChnbFByb2dyYW0gPSBjb21waWxlSGlnaFNoYWRlckdsUHJvZ3JhbSh7XG4gICAgICBuYW1lOiBcInNkZi1zaGFkZXJcIixcbiAgICAgIGJpdHM6IFtcbiAgICAgICAgY29sb3JCaXRHbCxcbiAgICAgICAgZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXRHbChtYXhUZXh0dXJlcyksXG4gICAgICAgIGxvY2FsVW5pZm9ybU1TREZCaXRHbCxcbiAgICAgICAgbVNERkJpdEdsLFxuICAgICAgICByb3VuZFBpeGVsc0JpdEdsXG4gICAgICBdXG4gICAgfSkpO1xuICAgIHN1cGVyKHtcbiAgICAgIGdsUHJvZ3JhbSxcbiAgICAgIGdwdVByb2dyYW0sXG4gICAgICByZXNvdXJjZXM6IHtcbiAgICAgICAgbG9jYWxVbmlmb3JtczogdW5pZm9ybXMsXG4gICAgICAgIGJhdGNoU2FtcGxlcnM6IGdldEJhdGNoU2FtcGxlcnNVbmlmb3JtR3JvdXAobWF4VGV4dHVyZXMpXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgU2RmU2hhZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZGZTaGFkZXIubWpzLm1hcFxuIiwiaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudGVtaXR0ZXIzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uLCB2OF8wXzAgfSBmcm9tICcuLi8uLi91dGlscy9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQWJzdHJhY3RCaXRtYXBGb250IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAvKiogVGhlIG1hcCBvZiBjaGFyYWN0ZXJzIGJ5IGNoYXJhY3RlciBjb2RlLiAqL1xuICAgIHRoaXMuY2hhcnMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAvKipcbiAgICAgKiBUaGUgbGluZS1oZWlnaHQgb2YgdGhlIGZvbnQgZmFjZSBpbiBwaXhlbHMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVIZWlnaHQgPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmb250IGZhY2VcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuZm9udEZhbWlseSA9IFwiXCI7XG4gICAgLyoqIFRoZSBtZXRyaWNzIG9mIHRoZSBmb250IGZhY2UuICovXG4gICAgdGhpcy5mb250TWV0cmljcyA9IHsgZm9udFNpemU6IDAsIGFzY2VudDogMCwgZGVzY2VudDogMCB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBvZmZzZXQgb2YgdGhlIGZvbnQgZmFjZSBmcm9tIHRoZSBiYXNlbGluZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZUxpbmVPZmZzZXQgPSAwO1xuICAgIC8qKiBUaGUgcmFuZ2UgYW5kIHR5cGUgb2YgdGhlIGRpc3RhbmNlIGZpZWxkIGZvciB0aGlzIGZvbnQuICovXG4gICAgdGhpcy5kaXN0YW5jZUZpZWxkID0geyB0eXBlOiBcIm5vbmVcIiwgcmFuZ2U6IDAgfTtcbiAgICAvKiogVGhlIG1hcCBvZiBiYXNlIHBhZ2UgdGV4dHVyZXMgKGkuZS4sIHNoZWV0cyBvZiBnbHlwaHMpLiAqL1xuICAgIHRoaXMucGFnZXMgPSBbXTtcbiAgICAvKiogc2hvdWxkIHRoZSBmaWxsIGZvciB0aGlzIGZvbnQgYmUgYXBwbGllZCBhcyBhIHRpbnQgdG8gdGhlIHRleHQuICovXG4gICAgdGhpcy5hcHBseUZpbGxBc1RpbnQgPSB0cnVlO1xuICAgIC8qKiBUaGUgc2l6ZSBvZiB0aGUgZm9udCBmYWNlIGluIHBpeGVscy4gKi9cbiAgICB0aGlzLmJhc2VNZWFzdXJlbWVudEZvbnRTaXplID0gMTAwO1xuICAgIHRoaXMuYmFzZVJlbmRlcmVkRm9udFNpemUgPSAxMDA7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmb250IGZhY2UuXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDguMC4wIFVzZSBgZm9udEZhbWlseWAgaW5zdGVhZC5cbiAgICovXG4gIGdldCBmb250KCkge1xuICAgIGRlcHJlY2F0aW9uKHY4XzBfMCwgXCJCaXRtYXBGb250LmZvbnQgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBCaXRtYXBGb250LmZvbnRGYW1pbHkgaW5zdGVhZC5cIik7XG4gICAgcmV0dXJuIHRoaXMuZm9udEZhbWlseTtcbiAgfVxuICAvKipcbiAgICogVGhlIG1hcCBvZiBiYXNlIHBhZ2UgdGV4dHVyZXMgKGkuZS4sIHNoZWV0cyBvZiBnbHlwaHMpLlxuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA4LjAuMCBVc2UgYHBhZ2VzYCBpbnN0ZWFkLlxuICAgKi9cbiAgZ2V0IHBhZ2VUZXh0dXJlcygpIHtcbiAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiQml0bWFwRm9udC5wYWdlVGV4dHVyZXMgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBCaXRtYXBGb250LnBhZ2VzIGluc3RlYWQuXCIpO1xuICAgIHJldHVybiB0aGlzLnBhZ2VzO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgc2l6ZSBvZiB0aGUgZm9udCBmYWNlIGluIHBpeGVscy5cbiAgICogQGRlcHJlY2F0ZWQgc2luY2UgOC4wLjAgVXNlIGBmb250TWV0cmljcy5mb250U2l6ZWAgaW5zdGVhZC5cbiAgICovXG4gIGdldCBzaXplKCkge1xuICAgIGRlcHJlY2F0aW9uKHY4XzBfMCwgXCJCaXRtYXBGb250LnNpemUgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBCaXRtYXBGb250LmZvbnRNZXRyaWNzLmZvbnRTaXplIGluc3RlYWQuXCIpO1xuICAgIHJldHVybiB0aGlzLmZvbnRNZXRyaWNzLmZvbnRTaXplO1xuICB9XG4gIC8qKlxuICAgKiBUaGUga2luZCBvZiBkaXN0YW5jZSBmaWVsZCBmb3IgdGhpcyBmb250IG9yIFwibm9uZVwiLlxuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA4LjAuMCBVc2UgYGRpc3RhbmNlRmllbGQudHlwZWAgaW5zdGVhZC5cbiAgICovXG4gIGdldCBkaXN0YW5jZUZpZWxkUmFuZ2UoKSB7XG4gICAgZGVwcmVjYXRpb24odjhfMF8wLCBcIkJpdG1hcEZvbnQuZGlzdGFuY2VGaWVsZFJhbmdlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgQml0bWFwRm9udC5kaXN0YW5jZUZpZWxkLnJhbmdlIGluc3RlYWQuXCIpO1xuICAgIHJldHVybiB0aGlzLmRpc3RhbmNlRmllbGQucmFuZ2U7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSByYW5nZSBvZiB0aGUgZGlzdGFuY2UgZmllbGQgaW4gcGl4ZWxzLlxuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA4LjAuMCBVc2UgYGRpc3RhbmNlRmllbGQucmFuZ2VgIGluc3RlYWQuXG4gICAqL1xuICBnZXQgZGlzdGFuY2VGaWVsZFR5cGUoKSB7XG4gICAgZGVwcmVjYXRpb24odjhfMF8wLCBcIkJpdG1hcEZvbnQuZGlzdGFuY2VGaWVsZFR5cGUgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBCaXRtYXBGb250LmRpc3RhbmNlRmllbGQudHlwZSBpbnN0ZWFkLlwiKTtcbiAgICByZXR1cm4gdGhpcy5kaXN0YW5jZUZpZWxkLnR5cGU7XG4gIH1cbiAgZGVzdHJveShkZXN0cm95VGV4dHVyZXMgPSBmYWxzZSkge1xuICAgIHRoaXMuZW1pdChcImRlc3Ryb3lcIiwgdGhpcyk7XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5jaGFycykge1xuICAgICAgdGhpcy5jaGFyc1tpXS50ZXh0dXJlPy5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuY2hhcnMgPSBudWxsO1xuICAgIGlmIChkZXN0cm95VGV4dHVyZXMpIHtcbiAgICAgIHRoaXMucGFnZXMuZm9yRWFjaCgocGFnZSkgPT4gcGFnZS50ZXh0dXJlLmRlc3Ryb3kodHJ1ZSkpO1xuICAgICAgdGhpcy5wYWdlcyA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IEFic3RyYWN0Qml0bWFwRm9udCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWJzdHJhY3RCaXRtYXBGb250Lm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vY29sb3IvQ29sb3IubWpzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uL21hdGhzL3NoYXBlcy9SZWN0YW5nbGUubWpzJztcbmltcG9ydCB7IENhbnZhc1Bvb2wgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL0NhbnZhc1Bvb2wubWpzJztcbmltcG9ydCB7IEltYWdlU291cmNlIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9zb3VyY2VzL0ltYWdlU291cmNlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlU3R5bGUgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVTdHlsZS5tanMnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24sIHY4XzBfMCB9IGZyb20gJy4uLy4uL3V0aWxzL2xvZ2dpbmcvZGVwcmVjYXRpb24ubWpzJztcbmltcG9ydCB7IENhbnZhc1RleHRNZXRyaWNzIH0gZnJvbSAnLi4vdGV4dC9jYW52YXMvQ2FudmFzVGV4dE1ldHJpY3MubWpzJztcbmltcG9ydCB7IGZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlIH0gZnJvbSAnLi4vdGV4dC9jYW52YXMvdXRpbHMvZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUubWpzJztcbmltcG9ydCB7IGdldENhbnZhc0ZpbGxTdHlsZSB9IGZyb20gJy4uL3RleHQvY2FudmFzL3V0aWxzL2dldENhbnZhc0ZpbGxTdHlsZS5tanMnO1xuaW1wb3J0IHsgVGV4dFN0eWxlIH0gZnJvbSAnLi4vdGV4dC9UZXh0U3R5bGUubWpzJztcbmltcG9ydCB7IEFic3RyYWN0Qml0bWFwRm9udCB9IGZyb20gJy4vQWJzdHJhY3RCaXRtYXBGb250Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgX0R5bmFtaWNCaXRtYXBGb250ID0gY2xhc3MgX0R5bmFtaWNCaXRtYXBGb250IGV4dGVuZHMgQWJzdHJhY3RCaXRtYXBGb250IHtcbiAgLyoqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBkeW5hbWljIGJpdG1hcCBmb250LlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG4gICAgLyoqXG4gICAgICogdGhpcyBpcyBhIHJlc29sdXRpb24gbW9kaWZpZXIgZm9yIHRoZSBmb250IHNpemUuLlxuICAgICAqIHRleHR1cmUgcmVzb2x1dGlvbiB3aWxsIGFsc28gYmUgdXNlZCB0byBzY2FsZSB0ZXh0dXJlIGFjY29yZGluZyB0byBpdHMgZm9udCBzaXplIGFsc29cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xuICAgIC8qKiBUaGUgcGFnZXMgb2YgdGhlIGZvbnQuICovXG4gICAgdGhpcy5wYWdlcyA9IFtdO1xuICAgIHRoaXMuX3BhZGRpbmcgPSAwO1xuICAgIHRoaXMuX21lYXN1cmVDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2N1cnJlbnRDaGFycyA9IFtdO1xuICAgIHRoaXMuX2N1cnJlbnRYID0gMDtcbiAgICB0aGlzLl9jdXJyZW50WSA9IDA7XG4gICAgdGhpcy5fY3VycmVudE1heENoYXJIZWlnaHQgPSAwO1xuICAgIHRoaXMuX2N1cnJlbnRQYWdlSW5kZXggPSAtMTtcbiAgICB0aGlzLl9za2lwS2VybmluZyA9IGZhbHNlO1xuICAgIGNvbnN0IGR5bmFtaWNPcHRpb25zID0geyAuLi5fRHluYW1pY0JpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICB0aGlzLl90ZXh0dXJlU2l6ZSA9IGR5bmFtaWNPcHRpb25zLnRleHR1cmVTaXplO1xuICAgIHRoaXMuX21pcG1hcCA9IGR5bmFtaWNPcHRpb25zLm1pcG1hcDtcbiAgICBjb25zdCBzdHlsZSA9IGR5bmFtaWNPcHRpb25zLnN0eWxlLmNsb25lKCk7XG4gICAgaWYgKGR5bmFtaWNPcHRpb25zLm92ZXJyaWRlRmlsbCkge1xuICAgICAgc3R5bGUuX2ZpbGwuY29sb3IgPSAxNjc3NzIxNTtcbiAgICAgIHN0eWxlLl9maWxsLmFscGhhID0gMTtcbiAgICAgIHN0eWxlLl9maWxsLnRleHR1cmUgPSBUZXh0dXJlLldISVRFO1xuICAgICAgc3R5bGUuX2ZpbGwuZmlsbCA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuYXBwbHlGaWxsQXNUaW50ID0gZHluYW1pY09wdGlvbnMub3ZlcnJpZGVGaWxsO1xuICAgIGNvbnN0IHJlcXVlc3RlZEZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7XG4gICAgc3R5bGUuZm9udFNpemUgPSB0aGlzLmJhc2VNZWFzdXJlbWVudEZvbnRTaXplO1xuICAgIGNvbnN0IGZvbnQgPSBmb250U3RyaW5nRnJvbVRleHRTdHlsZShzdHlsZSk7XG4gICAgaWYgKGR5bmFtaWNPcHRpb25zLm92ZXJyaWRlU2l6ZSkge1xuICAgICAgaWYgKHN0eWxlLl9zdHJva2UpIHtcbiAgICAgICAgc3R5bGUuX3N0cm9rZS53aWR0aCAqPSB0aGlzLmJhc2VSZW5kZXJlZEZvbnRTaXplIC8gcmVxdWVzdGVkRm9udFNpemU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmZvbnRTaXplID0gdGhpcy5iYXNlUmVuZGVyZWRGb250U2l6ZSA9IHJlcXVlc3RlZEZvbnRTaXplO1xuICAgIH1cbiAgICB0aGlzLl9zdHlsZSA9IHN0eWxlO1xuICAgIHRoaXMuX3NraXBLZXJuaW5nID0gZHluYW1pY09wdGlvbnMuc2tpcEtlcm5pbmcgPz8gZmFsc2U7XG4gICAgdGhpcy5yZXNvbHV0aW9uID0gZHluYW1pY09wdGlvbnMucmVzb2x1dGlvbiA/PyAxO1xuICAgIHRoaXMuX3BhZGRpbmcgPSBkeW5hbWljT3B0aW9ucy5wYWRkaW5nID8/IDQ7XG4gICAgaWYgKGR5bmFtaWNPcHRpb25zLnRleHR1cmVTdHlsZSkge1xuICAgICAgdGhpcy5fdGV4dHVyZVN0eWxlID0gZHluYW1pY09wdGlvbnMudGV4dHVyZVN0eWxlIGluc3RhbmNlb2YgVGV4dHVyZVN0eWxlID8gZHluYW1pY09wdGlvbnMudGV4dHVyZVN0eWxlIDogbmV3IFRleHR1cmVTdHlsZShkeW5hbWljT3B0aW9ucy50ZXh0dXJlU3R5bGUpO1xuICAgIH1cbiAgICB0aGlzLmZvbnRNZXRyaWNzID0gQ2FudmFzVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgdGhpcy5saW5lSGVpZ2h0ID0gc3R5bGUubGluZUhlaWdodCB8fCB0aGlzLmZvbnRNZXRyaWNzLmZvbnRTaXplIHx8IHN0eWxlLmZvbnRTaXplO1xuICB9XG4gIGVuc3VyZUNoYXJhY3RlcnMoY2hhcnMpIHtcbiAgICBjb25zdCBjaGFyTGlzdCA9IENhbnZhc1RleHRNZXRyaWNzLmdyYXBoZW1lU2VnbWVudGVyKGNoYXJzKS5maWx0ZXIoKGNoYXIpID0+ICF0aGlzLl9jdXJyZW50Q2hhcnMuaW5jbHVkZXMoY2hhcikpLmZpbHRlcigoY2hhciwgaW5kZXgsIHNlbGYpID0+IHNlbGYuaW5kZXhPZihjaGFyKSA9PT0gaW5kZXgpO1xuICAgIGlmICghY2hhckxpc3QubGVuZ3RoKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuX2N1cnJlbnRDaGFycyA9IFsuLi50aGlzLl9jdXJyZW50Q2hhcnMsIC4uLmNoYXJMaXN0XTtcbiAgICBsZXQgcGFnZURhdGE7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRQYWdlSW5kZXggPT09IC0xKSB7XG4gICAgICBwYWdlRGF0YSA9IHRoaXMuX25leHRQYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhZ2VEYXRhID0gdGhpcy5wYWdlc1t0aGlzLl9jdXJyZW50UGFnZUluZGV4XTtcbiAgICB9XG4gICAgbGV0IHsgY2FudmFzLCBjb250ZXh0IH0gPSBwYWdlRGF0YS5jYW52YXNBbmRDb250ZXh0O1xuICAgIGxldCB0ZXh0dXJlU291cmNlID0gcGFnZURhdGEudGV4dHVyZS5zb3VyY2U7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICBsZXQgY3VycmVudFggPSB0aGlzLl9jdXJyZW50WDtcbiAgICBsZXQgY3VycmVudFkgPSB0aGlzLl9jdXJyZW50WTtcbiAgICBsZXQgY3VycmVudE1heENoYXJIZWlnaHQgPSB0aGlzLl9jdXJyZW50TWF4Q2hhckhlaWdodDtcbiAgICBjb25zdCBmb250U2NhbGUgPSB0aGlzLmJhc2VSZW5kZXJlZEZvbnRTaXplIC8gdGhpcy5iYXNlTWVhc3VyZW1lbnRGb250U2l6ZTtcbiAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5fcGFkZGluZyAqIGZvbnRTY2FsZTtcbiAgICBsZXQgc2tpcFRleHR1cmUgPSBmYWxzZTtcbiAgICBjb25zdCBtYXhUZXh0dXJlV2lkdGggPSBjYW52YXMud2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgY29uc3QgbWF4VGV4dHVyZUhlaWdodCA9IGNhbnZhcy5oZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFyTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hhciA9IGNoYXJMaXN0W2ldO1xuICAgICAgY29uc3QgbWV0cmljcyA9IENhbnZhc1RleHRNZXRyaWNzLm1lYXN1cmVUZXh0KGNoYXIsIHN0eWxlLCBjYW52YXMsIGZhbHNlKTtcbiAgICAgIG1ldHJpY3MubGluZUhlaWdodCA9IG1ldHJpY3MuaGVpZ2h0O1xuICAgICAgY29uc3Qgd2lkdGggPSBtZXRyaWNzLndpZHRoICogZm9udFNjYWxlO1xuICAgICAgY29uc3QgdGV4dHVyZUdseXBoV2lkdGggPSBNYXRoLmNlaWwoKHN0eWxlLmZvbnRTdHlsZSA9PT0gXCJpdGFsaWNcIiA/IDIgOiAxKSAqIHdpZHRoKTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IG1ldHJpY3MuaGVpZ2h0ICogZm9udFNjYWxlO1xuICAgICAgY29uc3QgcGFkZGVkV2lkdGggPSB0ZXh0dXJlR2x5cGhXaWR0aCArIHBhZGRpbmcgKiAyO1xuICAgICAgY29uc3QgcGFkZGVkSGVpZ2h0ID0gaGVpZ2h0ICsgcGFkZGluZyAqIDI7XG4gICAgICBza2lwVGV4dHVyZSA9IGZhbHNlO1xuICAgICAgaWYgKGNoYXIgIT09IFwiXFxuXCIgJiYgY2hhciAhPT0gXCJcXHJcIiAmJiBjaGFyICE9PSBcIlx0XCIgJiYgY2hhciAhPT0gXCIgXCIpIHtcbiAgICAgICAgc2tpcFRleHR1cmUgPSB0cnVlO1xuICAgICAgICBjdXJyZW50TWF4Q2hhckhlaWdodCA9IE1hdGguY2VpbChNYXRoLm1heChwYWRkZWRIZWlnaHQsIGN1cnJlbnRNYXhDaGFySGVpZ2h0KSk7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFggKyBwYWRkZWRXaWR0aCA+IG1heFRleHR1cmVXaWR0aCkge1xuICAgICAgICBjdXJyZW50WSArPSBjdXJyZW50TWF4Q2hhckhlaWdodDtcbiAgICAgICAgY3VycmVudE1heENoYXJIZWlnaHQgPSBwYWRkZWRIZWlnaHQ7XG4gICAgICAgIGN1cnJlbnRYID0gMDtcbiAgICAgICAgaWYgKGN1cnJlbnRZICsgY3VycmVudE1heENoYXJIZWlnaHQgPiBtYXhUZXh0dXJlSGVpZ2h0KSB7XG4gICAgICAgICAgdGV4dHVyZVNvdXJjZS51cGRhdGUoKTtcbiAgICAgICAgICBjb25zdCBwYWdlRGF0YTIgPSB0aGlzLl9uZXh0UGFnZSgpO1xuICAgICAgICAgIGNhbnZhcyA9IHBhZ2VEYXRhMi5jYW52YXNBbmRDb250ZXh0LmNhbnZhcztcbiAgICAgICAgICBjb250ZXh0ID0gcGFnZURhdGEyLmNhbnZhc0FuZENvbnRleHQuY29udGV4dDtcbiAgICAgICAgICB0ZXh0dXJlU291cmNlID0gcGFnZURhdGEyLnRleHR1cmUuc291cmNlO1xuICAgICAgICAgIGN1cnJlbnRYID0gMDtcbiAgICAgICAgICBjdXJyZW50WSA9IDA7XG4gICAgICAgICAgY3VycmVudE1heENoYXJIZWlnaHQgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCB4QWR2YW5jZSA9IHdpZHRoIC8gZm9udFNjYWxlIC0gKHN0eWxlLmRyb3BTaGFkb3c/LmRpc3RhbmNlID8/IDApIC0gKHN0eWxlLl9zdHJva2U/LndpZHRoID8/IDApO1xuICAgICAgdGhpcy5jaGFyc1tjaGFyXSA9IHtcbiAgICAgICAgaWQ6IGNoYXIuY29kZVBvaW50QXQoMCksXG4gICAgICAgIHhPZmZzZXQ6IC10aGlzLl9wYWRkaW5nLFxuICAgICAgICB5T2Zmc2V0OiAtdGhpcy5fcGFkZGluZyxcbiAgICAgICAgeEFkdmFuY2UsXG4gICAgICAgIGtlcm5pbmc6IHt9XG4gICAgICB9O1xuICAgICAgaWYgKHNraXBUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMuX2RyYXdHbHlwaChcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIG1ldHJpY3MsXG4gICAgICAgICAgY3VycmVudFggKyBwYWRkaW5nLFxuICAgICAgICAgIGN1cnJlbnRZICsgcGFkZGluZyxcbiAgICAgICAgICBmb250U2NhbGUsXG4gICAgICAgICAgc3R5bGVcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgcHggPSB0ZXh0dXJlU291cmNlLndpZHRoICogZm9udFNjYWxlO1xuICAgICAgICBjb25zdCBweSA9IHRleHR1cmVTb3VyY2UuaGVpZ2h0ICogZm9udFNjYWxlO1xuICAgICAgICBjb25zdCBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgY3VycmVudFggLyBweCAqIHRleHR1cmVTb3VyY2Uud2lkdGgsXG4gICAgICAgICAgY3VycmVudFkgLyBweSAqIHRleHR1cmVTb3VyY2UuaGVpZ2h0LFxuICAgICAgICAgIHBhZGRlZFdpZHRoIC8gcHggKiB0ZXh0dXJlU291cmNlLndpZHRoLFxuICAgICAgICAgIHBhZGRlZEhlaWdodCAvIHB5ICogdGV4dHVyZVNvdXJjZS5oZWlnaHRcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jaGFyc1tjaGFyXS50ZXh0dXJlID0gbmV3IFRleHR1cmUoe1xuICAgICAgICAgIHNvdXJjZTogdGV4dHVyZVNvdXJjZSxcbiAgICAgICAgICBmcmFtZVxuICAgICAgICB9KTtcbiAgICAgICAgY3VycmVudFggKz0gTWF0aC5jZWlsKHBhZGRlZFdpZHRoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGV4dHVyZVNvdXJjZS51cGRhdGUoKTtcbiAgICB0aGlzLl9jdXJyZW50WCA9IGN1cnJlbnRYO1xuICAgIHRoaXMuX2N1cnJlbnRZID0gY3VycmVudFk7XG4gICAgdGhpcy5fY3VycmVudE1heENoYXJIZWlnaHQgPSBjdXJyZW50TWF4Q2hhckhlaWdodDtcbiAgICB0aGlzLl9za2lwS2VybmluZyAmJiB0aGlzLl9hcHBseUtlcm5pbmcoY2hhckxpc3QsIGNvbnRleHQpO1xuICB9XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA4LjAuMFxuICAgKiBUaGUgbWFwIG9mIGJhc2UgcGFnZSB0ZXh0dXJlcyAoaS5lLiwgc2hlZXRzIG9mIGdseXBocykuXG4gICAqL1xuICBnZXQgcGFnZVRleHR1cmVzKCkge1xuICAgIGRlcHJlY2F0aW9uKHY4XzBfMCwgXCJCaXRtYXBGb250LnBhZ2VUZXh0dXJlcyBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIEJpdG1hcEZvbnQucGFnZXMgaW5zdGVhZC5cIik7XG4gICAgcmV0dXJuIHRoaXMucGFnZXM7XG4gIH1cbiAgX2FwcGx5S2VybmluZyhuZXdDaGFycywgY29udGV4dCkge1xuICAgIGNvbnN0IG1lYXN1cmVDYWNoZSA9IHRoaXMuX21lYXN1cmVDYWNoZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBmaXJzdCA9IG5ld0NoYXJzW2ldO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9jdXJyZW50Q2hhcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3Qgc2Vjb25kID0gdGhpcy5fY3VycmVudENoYXJzW2pdO1xuICAgICAgICBsZXQgYzEgPSBtZWFzdXJlQ2FjaGVbZmlyc3RdO1xuICAgICAgICBpZiAoIWMxKVxuICAgICAgICAgIGMxID0gbWVhc3VyZUNhY2hlW2ZpcnN0XSA9IGNvbnRleHQubWVhc3VyZVRleHQoZmlyc3QpLndpZHRoO1xuICAgICAgICBsZXQgYzIgPSBtZWFzdXJlQ2FjaGVbc2Vjb25kXTtcbiAgICAgICAgaWYgKCFjMilcbiAgICAgICAgICBjMiA9IG1lYXN1cmVDYWNoZVtzZWNvbmRdID0gY29udGV4dC5tZWFzdXJlVGV4dChzZWNvbmQpLndpZHRoO1xuICAgICAgICBsZXQgdG90YWwgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGZpcnN0ICsgc2Vjb25kKS53aWR0aDtcbiAgICAgICAgbGV0IGFtb3VudCA9IHRvdGFsIC0gKGMxICsgYzIpO1xuICAgICAgICBpZiAoYW1vdW50KSB7XG4gICAgICAgICAgdGhpcy5jaGFyc1tmaXJzdF0ua2VybmluZ1tzZWNvbmRdID0gYW1vdW50O1xuICAgICAgICB9XG4gICAgICAgIHRvdGFsID0gY29udGV4dC5tZWFzdXJlVGV4dChmaXJzdCArIHNlY29uZCkud2lkdGg7XG4gICAgICAgIGFtb3VudCA9IHRvdGFsIC0gKGMxICsgYzIpO1xuICAgICAgICBpZiAoYW1vdW50KSB7XG4gICAgICAgICAgdGhpcy5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9uZXh0UGFnZSgpIHtcbiAgICB0aGlzLl9jdXJyZW50UGFnZUluZGV4Kys7XG4gICAgY29uc3QgdGV4dHVyZVJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG4gICAgY29uc3QgY2FudmFzQW5kQ29udGV4dCA9IENhbnZhc1Bvb2wuZ2V0T3B0aW1hbENhbnZhc0FuZENvbnRleHQoXG4gICAgICB0aGlzLl90ZXh0dXJlU2l6ZSxcbiAgICAgIHRoaXMuX3RleHR1cmVTaXplLFxuICAgICAgdGV4dHVyZVJlc29sdXRpb25cbiAgICApO1xuICAgIHRoaXMuX3NldHVwQ29udGV4dChjYW52YXNBbmRDb250ZXh0LmNvbnRleHQsIHRoaXMuX3N0eWxlLCB0ZXh0dXJlUmVzb2x1dGlvbik7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHRleHR1cmVSZXNvbHV0aW9uICogKHRoaXMuYmFzZVJlbmRlcmVkRm9udFNpemUgLyB0aGlzLmJhc2VNZWFzdXJlbWVudEZvbnRTaXplKTtcbiAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoe1xuICAgICAgc291cmNlOiBuZXcgSW1hZ2VTb3VyY2Uoe1xuICAgICAgICByZXNvdXJjZTogY2FudmFzQW5kQ29udGV4dC5jYW52YXMsXG4gICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgIGFscGhhTW9kZTogXCJwcmVtdWx0aXBseS1hbHBoYS1vbi11cGxvYWRcIixcbiAgICAgICAgYXV0b0dlbmVyYXRlTWlwbWFwczogdGhpcy5fbWlwbWFwXG4gICAgICB9KVxuICAgIH0pO1xuICAgIGlmICh0aGlzLl90ZXh0dXJlU3R5bGUpIHtcbiAgICAgIHRleHR1cmUuc291cmNlLnN0eWxlID0gdGhpcy5fdGV4dHVyZVN0eWxlO1xuICAgIH1cbiAgICBjb25zdCBwYWdlRGF0YSA9IHtcbiAgICAgIGNhbnZhc0FuZENvbnRleHQsXG4gICAgICB0ZXh0dXJlXG4gICAgfTtcbiAgICB0aGlzLnBhZ2VzW3RoaXMuX2N1cnJlbnRQYWdlSW5kZXhdID0gcGFnZURhdGE7XG4gICAgcmV0dXJuIHBhZ2VEYXRhO1xuICB9XG4gIC8vIGNhbnZhcyBzdHlsZSFcbiAgX3NldHVwQ29udGV4dChjb250ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbikge1xuICAgIHN0eWxlLmZvbnRTaXplID0gdGhpcy5iYXNlUmVuZGVyZWRGb250U2l6ZTtcbiAgICBjb250ZXh0LnNjYWxlKHJlc29sdXRpb24sIHJlc29sdXRpb24pO1xuICAgIGNvbnRleHQuZm9udCA9IGZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlKHN0eWxlKTtcbiAgICBzdHlsZS5mb250U2l6ZSA9IHRoaXMuYmFzZU1lYXN1cmVtZW50Rm9udFNpemU7XG4gICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgY29uc3Qgc3Ryb2tlID0gc3R5bGUuX3N0cm9rZTtcbiAgICBjb25zdCBzdHJva2VUaGlja25lc3MgPSBzdHJva2U/LndpZHRoID8/IDA7XG4gICAgaWYgKHN0cm9rZSkge1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VUaGlja25lc3M7XG4gICAgICBjb250ZXh0LmxpbmVKb2luID0gc3Ryb2tlLmpvaW47XG4gICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHJva2UubWl0ZXJMaW1pdDtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBnZXRDYW52YXNGaWxsU3R5bGUoc3Ryb2tlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHN0eWxlLl9maWxsKSB7XG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGdldENhbnZhc0ZpbGxTdHlsZShzdHlsZS5fZmlsbCwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICBjb25zdCBzaGFkb3dPcHRpb25zID0gc3R5bGUuZHJvcFNoYWRvdztcbiAgICAgIGNvbnN0IHJnYiA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShzaGFkb3dPcHRpb25zLmNvbG9yKS50b0FycmF5KCk7XG4gICAgICBjb25zdCBkcm9wU2hhZG93Qmx1ciA9IHNoYWRvd09wdGlvbnMuYmx1ciAqIHJlc29sdXRpb247XG4gICAgICBjb25zdCBkcm9wU2hhZG93RGlzdGFuY2UgPSBzaGFkb3dPcHRpb25zLmRpc3RhbmNlICogcmVzb2x1dGlvbjtcbiAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBgcmdiYSgke3JnYlswXSAqIDI1NX0sJHtyZ2JbMV0gKiAyNTV9LCR7cmdiWzJdICogMjU1fSwke3NoYWRvd09wdGlvbnMuYWxwaGF9KWA7XG4gICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBkcm9wU2hhZG93Qmx1cjtcbiAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHNoYWRvd09wdGlvbnMuYW5nbGUpICogZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gTWF0aC5zaW4oc2hhZG93T3B0aW9ucy5hbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcImJsYWNrXCI7XG4gICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgfVxuICB9XG4gIF9kcmF3R2x5cGgoY29udGV4dCwgbWV0cmljcywgeCwgeSwgZm9udFNjYWxlLCBzdHlsZSkge1xuICAgIGNvbnN0IGNoYXIgPSBtZXRyaWNzLnRleHQ7XG4gICAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IHN0cm9rZSA9IHN0eWxlLl9zdHJva2U7XG4gICAgY29uc3Qgc3Ryb2tlVGhpY2tuZXNzID0gKHN0cm9rZT8ud2lkdGggPz8gMCkgKiBmb250U2NhbGU7XG4gICAgY29uc3QgdHggPSB4ICsgc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICBjb25zdCB0eSA9IHkgLSBzdHJva2VUaGlja25lc3MgLyAyO1xuICAgIGNvbnN0IGRlc2NlbnQgPSBmb250UHJvcGVydGllcy5kZXNjZW50ICogZm9udFNjYWxlO1xuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBtZXRyaWNzLmxpbmVIZWlnaHQgKiBmb250U2NhbGU7XG4gICAgbGV0IHJlbW92ZVNoYWRvdyA9IGZhbHNlO1xuICAgIGlmIChzdHlsZS5zdHJva2UgJiYgc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICByZW1vdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgY29udGV4dC5zdHJva2VUZXh0KGNoYXIsIHR4LCB0eSArIGxpbmVIZWlnaHQgLSBkZXNjZW50KTtcbiAgICB9XG4gICAgY29uc3QgeyBzaGFkb3dCbHVyLCBzaGFkb3dPZmZzZXRYLCBzaGFkb3dPZmZzZXRZIH0gPSBjb250ZXh0O1xuICAgIGlmIChzdHlsZS5fZmlsbCkge1xuICAgICAgaWYgKHJlbW92ZVNoYWRvdykge1xuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgfVxuICAgICAgY29udGV4dC5maWxsVGV4dChjaGFyLCB0eCwgdHkgKyBsaW5lSGVpZ2h0IC0gZGVzY2VudCk7XG4gICAgfVxuICAgIGlmIChyZW1vdmVTaGFkb3cpIHtcbiAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHNoYWRvd0JsdXI7XG4gICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSBzaGFkb3dPZmZzZXRYO1xuICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gc2hhZG93T2Zmc2V0WTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB7IGNhbnZhc0FuZENvbnRleHQsIHRleHR1cmUgfSA9IHRoaXMucGFnZXNbaV07XG4gICAgICBDYW52YXNQb29sLnJldHVybkNhbnZhc0FuZENvbnRleHQoY2FudmFzQW5kQ29udGV4dCk7XG4gICAgICB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMucGFnZXMgPSBudWxsO1xuICB9XG59O1xuX0R5bmFtaWNCaXRtYXBGb250LmRlZmF1bHRPcHRpb25zID0ge1xuICB0ZXh0dXJlU2l6ZTogNTEyLFxuICBzdHlsZTogbmV3IFRleHRTdHlsZSgpLFxuICBtaXBtYXA6IHRydWVcbn07XG5sZXQgRHluYW1pY0JpdG1hcEZvbnQgPSBfRHluYW1pY0JpdG1hcEZvbnQ7XG5cbmV4cG9ydCB7IER5bmFtaWNCaXRtYXBGb250IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EeW5hbWljQml0bWFwRm9udC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGdldEJpdG1hcFRleHRMYXlvdXQoY2hhcnMsIHN0eWxlLCBmb250LCB0cmltRW5kKSB7XG4gIGNvbnN0IGxheW91dERhdGEgPSB7XG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIG9mZnNldFk6IDAsXG4gICAgc2NhbGU6IHN0eWxlLmZvbnRTaXplIC8gZm9udC5iYXNlTWVhc3VyZW1lbnRGb250U2l6ZSxcbiAgICBsaW5lczogW3tcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgY2hhclBvc2l0aW9uczogW10sXG4gICAgICBzcGFjZVdpZHRoOiAwLFxuICAgICAgc3BhY2VzSW5kZXg6IFtdLFxuICAgICAgY2hhcnM6IFtdXG4gICAgfV1cbiAgfTtcbiAgbGF5b3V0RGF0YS5vZmZzZXRZID0gZm9udC5iYXNlTGluZU9mZnNldDtcbiAgbGV0IGN1cnJlbnRMaW5lID0gbGF5b3V0RGF0YS5saW5lc1swXTtcbiAgbGV0IHByZXZpb3VzQ2hhciA9IG51bGw7XG4gIGxldCBmaXJzdFdvcmQgPSB0cnVlO1xuICBjb25zdCBjdXJyZW50V29yZCA9IHtcbiAgICBzcGFjZVdvcmQ6IGZhbHNlLFxuICAgIHdpZHRoOiAwLFxuICAgIHN0YXJ0OiAwLFxuICAgIGluZGV4OiAwLFxuICAgIC8vIHVzZSBpbmRleCB0byBub3QgbW9kaWZ5IHRoZSBhcnJheSBhcyB3ZSB1c2UgaXQgYSBsb3QhXG4gICAgcG9zaXRpb25zOiBbXSxcbiAgICBjaGFyczogW11cbiAgfTtcbiAgY29uc3Qgc2NhbGUgPSBmb250LmJhc2VNZWFzdXJlbWVudEZvbnRTaXplIC8gc3R5bGUuZm9udFNpemU7XG4gIGNvbnN0IGFkanVzdGVkTGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmcgKiBzY2FsZTtcbiAgY29uc3QgYWRqdXN0ZWRXb3JkV3JhcFdpZHRoID0gc3R5bGUud29yZFdyYXBXaWR0aCAqIHNjYWxlO1xuICBjb25zdCBhZGp1c3RlZExpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0ID8gc3R5bGUubGluZUhlaWdodCAqIHNjYWxlIDogZm9udC5saW5lSGVpZ2h0O1xuICBjb25zdCBicmVha1dvcmRzID0gc3R5bGUud29yZFdyYXAgJiYgc3R5bGUuYnJlYWtXb3JkcztcbiAgY29uc3QgbmV4dFdvcmQgPSAod29yZCkgPT4ge1xuICAgIGNvbnN0IHN0YXJ0ID0gY3VycmVudExpbmUud2lkdGg7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBjdXJyZW50V29yZC5pbmRleDsgaisrKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHdvcmQucG9zaXRpb25zW2pdO1xuICAgICAgY3VycmVudExpbmUuY2hhcnMucHVzaCh3b3JkLmNoYXJzW2pdKTtcbiAgICAgIGN1cnJlbnRMaW5lLmNoYXJQb3NpdGlvbnMucHVzaChwb3NpdGlvbiArIHN0YXJ0KTtcbiAgICB9XG4gICAgY3VycmVudExpbmUud2lkdGggKz0gd29yZC53aWR0aDtcbiAgICBmaXJzdFdvcmQgPSBmYWxzZTtcbiAgICBjdXJyZW50V29yZC53aWR0aCA9IDA7XG4gICAgY3VycmVudFdvcmQuaW5kZXggPSAwO1xuICAgIGN1cnJlbnRXb3JkLmNoYXJzLmxlbmd0aCA9IDA7XG4gIH07XG4gIGNvbnN0IG5leHRMaW5lID0gKCkgPT4ge1xuICAgIGxldCBpbmRleCA9IGN1cnJlbnRMaW5lLmNoYXJzLmxlbmd0aCAtIDE7XG4gICAgaWYgKHRyaW1FbmQpIHtcbiAgICAgIGxldCBsYXN0Q2hhciA9IGN1cnJlbnRMaW5lLmNoYXJzW2luZGV4XTtcbiAgICAgIHdoaWxlIChsYXN0Q2hhciA9PT0gXCIgXCIpIHtcbiAgICAgICAgY3VycmVudExpbmUud2lkdGggLT0gZm9udC5jaGFyc1tsYXN0Q2hhcl0ueEFkdmFuY2U7XG4gICAgICAgIGxhc3RDaGFyID0gY3VycmVudExpbmUuY2hhcnNbLS1pbmRleF07XG4gICAgICB9XG4gICAgfVxuICAgIGxheW91dERhdGEud2lkdGggPSBNYXRoLm1heChsYXlvdXREYXRhLndpZHRoLCBjdXJyZW50TGluZS53aWR0aCk7XG4gICAgY3VycmVudExpbmUgPSB7XG4gICAgICB3aWR0aDogMCxcbiAgICAgIGNoYXJQb3NpdGlvbnM6IFtdLFxuICAgICAgY2hhcnM6IFtdLFxuICAgICAgc3BhY2VXaWR0aDogMCxcbiAgICAgIHNwYWNlc0luZGV4OiBbXVxuICAgIH07XG4gICAgZmlyc3RXb3JkID0gdHJ1ZTtcbiAgICBsYXlvdXREYXRhLmxpbmVzLnB1c2goY3VycmVudExpbmUpO1xuICAgIGxheW91dERhdGEuaGVpZ2h0ICs9IGFkanVzdGVkTGluZUhlaWdodDtcbiAgfTtcbiAgY29uc3QgY2hlY2tJc092ZXJmbG93ID0gKGxpbmVXaWR0aCkgPT4gbGluZVdpZHRoIC0gYWRqdXN0ZWRMZXR0ZXJTcGFjaW5nID4gYWRqdXN0ZWRXb3JkV3JhcFdpZHRoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aCArIDE7IGkrKykge1xuICAgIGxldCBjaGFyO1xuICAgIGNvbnN0IGlzRW5kID0gaSA9PT0gY2hhcnMubGVuZ3RoO1xuICAgIGlmICghaXNFbmQpIHtcbiAgICAgIGNoYXIgPSBjaGFyc1tpXTtcbiAgICB9XG4gICAgY29uc3QgY2hhckRhdGEgPSBmb250LmNoYXJzW2NoYXJdIHx8IGZvbnQuY2hhcnNbXCIgXCJdO1xuICAgIGNvbnN0IGlzU3BhY2UgPSAvKD86XFxzKS8udGVzdChjaGFyKTtcbiAgICBjb25zdCBpc1dvcmRCcmVhayA9IGlzU3BhY2UgfHwgY2hhciA9PT0gXCJcXHJcIiB8fCBjaGFyID09PSBcIlxcblwiIHx8IGlzRW5kO1xuICAgIGlmIChpc1dvcmRCcmVhaykge1xuICAgICAgY29uc3QgYWRkV29yZFRvTmV4dExpbmUgPSAhZmlyc3RXb3JkICYmIHN0eWxlLndvcmRXcmFwICYmIGNoZWNrSXNPdmVyZmxvdyhjdXJyZW50TGluZS53aWR0aCArIGN1cnJlbnRXb3JkLndpZHRoKTtcbiAgICAgIGlmIChhZGRXb3JkVG9OZXh0TGluZSkge1xuICAgICAgICBuZXh0TGluZSgpO1xuICAgICAgICBuZXh0V29yZChjdXJyZW50V29yZCk7XG4gICAgICAgIGlmICghaXNFbmQpIHtcbiAgICAgICAgICBjdXJyZW50TGluZS5jaGFyUG9zaXRpb25zLnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRXb3JkLnN0YXJ0ID0gY3VycmVudExpbmUud2lkdGg7XG4gICAgICAgIG5leHRXb3JkKGN1cnJlbnRXb3JkKTtcbiAgICAgICAgaWYgKCFpc0VuZCkge1xuICAgICAgICAgIGN1cnJlbnRMaW5lLmNoYXJQb3NpdGlvbnMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNoYXIgPT09IFwiXFxyXCIgfHwgY2hhciA9PT0gXCJcXG5cIikge1xuICAgICAgICBpZiAoY3VycmVudExpbmUud2lkdGggIT09IDApIHtcbiAgICAgICAgICBuZXh0TGluZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc0VuZCkge1xuICAgICAgICBjb25zdCBzcGFjZVdpZHRoID0gY2hhckRhdGEueEFkdmFuY2UgKyAoY2hhckRhdGEua2VybmluZ1twcmV2aW91c0NoYXJdIHx8IDApICsgYWRqdXN0ZWRMZXR0ZXJTcGFjaW5nO1xuICAgICAgICBjdXJyZW50TGluZS53aWR0aCArPSBzcGFjZVdpZHRoO1xuICAgICAgICBjdXJyZW50TGluZS5zcGFjZVdpZHRoID0gc3BhY2VXaWR0aDtcbiAgICAgICAgY3VycmVudExpbmUuc3BhY2VzSW5kZXgucHVzaChjdXJyZW50TGluZS5jaGFyUG9zaXRpb25zLmxlbmd0aCk7XG4gICAgICAgIGN1cnJlbnRMaW5lLmNoYXJzLnB1c2goY2hhcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGtlcm5pbmcgPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZpb3VzQ2hhcl0gfHwgMDtcbiAgICAgIGNvbnN0IG5leHRDaGFyV2lkdGggPSBjaGFyRGF0YS54QWR2YW5jZSArIGtlcm5pbmcgKyBhZGp1c3RlZExldHRlclNwYWNpbmc7XG4gICAgICBjb25zdCBhZGRXb3JkVG9OZXh0TGluZSA9IGJyZWFrV29yZHMgJiYgY2hlY2tJc092ZXJmbG93KGN1cnJlbnRMaW5lLndpZHRoICsgY3VycmVudFdvcmQud2lkdGggKyBuZXh0Q2hhcldpZHRoKTtcbiAgICAgIGlmIChhZGRXb3JkVG9OZXh0TGluZSkge1xuICAgICAgICBuZXh0V29yZChjdXJyZW50V29yZCk7XG4gICAgICAgIG5leHRMaW5lKCk7XG4gICAgICB9XG4gICAgICBjdXJyZW50V29yZC5wb3NpdGlvbnNbY3VycmVudFdvcmQuaW5kZXgrK10gPSBjdXJyZW50V29yZC53aWR0aCArIGtlcm5pbmc7XG4gICAgICBjdXJyZW50V29yZC5jaGFycy5wdXNoKGNoYXIpO1xuICAgICAgY3VycmVudFdvcmQud2lkdGggKz0gbmV4dENoYXJXaWR0aDtcbiAgICB9XG4gICAgcHJldmlvdXNDaGFyID0gY2hhcjtcbiAgfVxuICBuZXh0TGluZSgpO1xuICBpZiAoc3R5bGUuYWxpZ24gPT09IFwiY2VudGVyXCIpIHtcbiAgICBhbGlnbkNlbnRlcihsYXlvdXREYXRhKTtcbiAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gXCJyaWdodFwiKSB7XG4gICAgYWxpZ25SaWdodChsYXlvdXREYXRhKTtcbiAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gXCJqdXN0aWZ5XCIpIHtcbiAgICBhbGlnbkp1c3RpZnkobGF5b3V0RGF0YSk7XG4gIH1cbiAgcmV0dXJuIGxheW91dERhdGE7XG59XG5mdW5jdGlvbiBhbGlnbkNlbnRlcihtZWFzdXJlbWVudERhdGEpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZWFzdXJlbWVudERhdGEubGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBsaW5lID0gbWVhc3VyZW1lbnREYXRhLmxpbmVzW2ldO1xuICAgIGNvbnN0IG9mZnNldCA9IG1lYXN1cmVtZW50RGF0YS53aWR0aCAvIDIgLSBsaW5lLndpZHRoIC8gMjtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmUuY2hhclBvc2l0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgbGluZS5jaGFyUG9zaXRpb25zW2pdICs9IG9mZnNldDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGFsaWduUmlnaHQobWVhc3VyZW1lbnREYXRhKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWVhc3VyZW1lbnREYXRhLmxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgbGluZSA9IG1lYXN1cmVtZW50RGF0YS5saW5lc1tpXTtcbiAgICBjb25zdCBvZmZzZXQgPSBtZWFzdXJlbWVudERhdGEud2lkdGggLSBsaW5lLndpZHRoO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZS5jaGFyUG9zaXRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICBsaW5lLmNoYXJQb3NpdGlvbnNbal0gKz0gb2Zmc2V0O1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gYWxpZ25KdXN0aWZ5KG1lYXN1cmVtZW50RGF0YSkge1xuICBjb25zdCB3aWR0aCA9IG1lYXN1cmVtZW50RGF0YS53aWR0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZWFzdXJlbWVudERhdGEubGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBsaW5lID0gbWVhc3VyZW1lbnREYXRhLmxpbmVzW2ldO1xuICAgIGxldCBpbmR5ID0gMDtcbiAgICBsZXQgc3BhY2VJbmRleCA9IGxpbmUuc3BhY2VzSW5kZXhbaW5keSsrXTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBjb25zdCB0b3RhbFNwYWNlcyA9IGxpbmUuc3BhY2VzSW5kZXgubGVuZ3RoO1xuICAgIGNvbnN0IG5ld1NwYWNlV2lkdGggPSAod2lkdGggLSBsaW5lLndpZHRoKSAvIHRvdGFsU3BhY2VzO1xuICAgIGNvbnN0IHNwYWNlV2lkdGggPSBuZXdTcGFjZVdpZHRoO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZS5jaGFyUG9zaXRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoaiA9PT0gc3BhY2VJbmRleCkge1xuICAgICAgICBzcGFjZUluZGV4ID0gbGluZS5zcGFjZXNJbmRleFtpbmR5KytdO1xuICAgICAgICBvZmZzZXQgKz0gc3BhY2VXaWR0aDtcbiAgICAgIH1cbiAgICAgIGxpbmUuY2hhclBvc2l0aW9uc1tqXSArPSBvZmZzZXQ7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IGdldEJpdG1hcFRleHRMYXlvdXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEJpdG1hcFRleHRMYXlvdXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ2FjaGUgfSBmcm9tICcuLi8uLi9hc3NldHMvY2FjaGUvQ2FjaGUubWpzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uLCB2OF8wXzAgfSBmcm9tICcuLi8uLi91dGlscy9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5pbXBvcnQgeyBDYW52YXNUZXh0TWV0cmljcyB9IGZyb20gJy4uL3RleHQvY2FudmFzL0NhbnZhc1RleHRNZXRyaWNzLm1qcyc7XG5pbXBvcnQgeyBUZXh0U3R5bGUgfSBmcm9tICcuLi90ZXh0L1RleHRTdHlsZS5tanMnO1xuaW1wb3J0IHsgRHluYW1pY0JpdG1hcEZvbnQgfSBmcm9tICcuL0R5bmFtaWNCaXRtYXBGb250Lm1qcyc7XG5pbXBvcnQgeyBnZXRCaXRtYXBUZXh0TGF5b3V0IH0gZnJvbSAnLi91dGlscy9nZXRCaXRtYXBUZXh0TGF5b3V0Lm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlQ2hhcmFjdGVycyB9IGZyb20gJy4vdXRpbHMvcmVzb2x2ZUNoYXJhY3RlcnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgZm9udENvdW50ID0gMDtcbmNsYXNzIEJpdG1hcEZvbnRNYW5hZ2VyQ2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaW5jbHVkZXMgYWxsIHRoZSBsZXR0ZXJzIGluIHRoZSBhbHBoYWJldCAoYm90aCBsb3dlci0gYW5kIHVwcGVyLSBjYXNlKS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nW11bXX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIEJpdG1hcEZvbnQuZnJvbSgnRXhhbXBsZUZvbnQnLCBzdHlsZSwgeyBjaGFyczogQml0bWFwRm9udC5BTFBIQSB9KVxuICAgICAqL1xuICAgIHRoaXMuQUxQSEEgPSBbW1wiYVwiLCBcInpcIl0sIFtcIkFcIiwgXCJaXCJdLCBcIiBcIl07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGluY2x1ZGVzIGFsbCBkZWNpbWFsIGRpZ2l0cyAoZnJvbSAwIHRvIDkpLlxuICAgICAqIEB0eXBlIHtzdHJpbmdbXVtdfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogQml0bWFwRm9udC5mcm9tKCdFeGFtcGxlRm9udCcsIHN0eWxlLCB7IGNoYXJzOiBCaXRtYXBGb250Lk5VTUVSSUMgfSlcbiAgICAgKi9cbiAgICB0aGlzLk5VTUVSSUMgPSBbW1wiMFwiLCBcIjlcIl1dO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpcyB0aGUgdW5pb24gb2YgYEJpdG1hcEZvbnQuQUxQSEFgIGFuZCBgQml0bWFwRm9udC5OVU1FUklDYC5cbiAgICAgKiBAdHlwZSB7c3RyaW5nW11bXX1cbiAgICAgKi9cbiAgICB0aGlzLkFMUEhBTlVNRVJJQyA9IFtbXCJhXCIsIFwielwiXSwgW1wiQVwiLCBcIlpcIl0sIFtcIjBcIiwgXCI5XCJdLCBcIiBcIl07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGNvbnNpc3RzIG9mIGFsbCB0aGUgQVNDSUkgdGFibGUuXG4gICAgICogQHR5cGUge3N0cmluZ1tdW119XG4gICAgICogQHNlZSBodHRwOi8vd3d3LmFzY2lpdGFibGUuY29tL1xuICAgICAqL1xuICAgIHRoaXMuQVNDSUkgPSBbW1wiIFwiLCBcIn5cIl1dO1xuICAgIC8qKiBEZWZhdWx0IG9wdGlvbnMgZm9yIGluc3RhbGxpbmcgYSBuZXcgQml0bWFwRm9udC4gKi9cbiAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgY2hhcnM6IHRoaXMuQUxQSEFOVU1FUklDLFxuICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgIHBhZGRpbmc6IDQsXG4gICAgICBza2lwS2VybmluZzogZmFsc2UsXG4gICAgICB0ZXh0dXJlU3R5bGU6IG51bGxcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBmb250IGZvciB0aGUgc3BlY2lmaWVkIHRleHQgYW5kIHN0eWxlLlxuICAgKiBAcGFyYW0gdGV4dCAtIFRoZSB0ZXh0IHRvIGdldCB0aGUgZm9udCBmb3JcbiAgICogQHBhcmFtIHN0eWxlIC0gVGhlIHN0eWxlIHRvIHVzZVxuICAgKi9cbiAgZ2V0Rm9udCh0ZXh0LCBzdHlsZSkge1xuICAgIGxldCBmb250RmFtaWx5S2V5ID0gYCR7c3R5bGUuZm9udEZhbWlseX0tYml0bWFwYDtcbiAgICBsZXQgb3ZlcnJpZGVGaWxsID0gdHJ1ZTtcbiAgICBpZiAoc3R5bGUuX2ZpbGwuZmlsbCAmJiAhc3R5bGUuX3N0cm9rZSkge1xuICAgICAgZm9udEZhbWlseUtleSArPSBzdHlsZS5fZmlsbC5maWxsLnN0eWxlS2V5O1xuICAgICAgb3ZlcnJpZGVGaWxsID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChzdHlsZS5fc3Ryb2tlIHx8IHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgIGxldCBrZXkgPSBzdHlsZS5zdHlsZUtleTtcbiAgICAgIGtleSA9IGtleS5zdWJzdHJpbmcoMCwga2V5Lmxhc3RJbmRleE9mKFwiLVwiKSk7XG4gICAgICBmb250RmFtaWx5S2V5ID0gYCR7a2V5fS1iaXRtYXBgO1xuICAgICAgb3ZlcnJpZGVGaWxsID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICghQ2FjaGUuaGFzKGZvbnRGYW1pbHlLZXkpKSB7XG4gICAgICBjb25zdCBzdHlsZUNvcHkgPSBPYmplY3QuY3JlYXRlKHN0eWxlKTtcbiAgICAgIHN0eWxlQ29weS5saW5lSGVpZ2h0ID0gMDtcbiAgICAgIGNvbnN0IGZudCA9IG5ldyBEeW5hbWljQml0bWFwRm9udCh7XG4gICAgICAgIHN0eWxlOiBzdHlsZUNvcHksXG4gICAgICAgIG92ZXJyaWRlRmlsbCxcbiAgICAgICAgb3ZlcnJpZGVTaXplOiB0cnVlLFxuICAgICAgICAuLi50aGlzLmRlZmF1bHRPcHRpb25zXG4gICAgICB9KTtcbiAgICAgIGZvbnRDb3VudCsrO1xuICAgICAgaWYgKGZvbnRDb3VudCA+IDUwKSB7XG4gICAgICAgIHdhcm4oXCJCaXRtYXBUZXh0XCIsIGBZb3UgaGF2ZSBkeW5hbWljYWxseSBjcmVhdGVkICR7Zm9udENvdW50fSBiaXRtYXAgZm9udHMsIHRoaXMgY2FuIGJlIGluZWZmaWNpZW50LiBUcnkgcHJlIGluc3RhbGxpbmcgeW91ciBmb250IHN0eWxlcyB1c2luZyBcXGBCaXRtYXBGb250Lmluc3RhbGwoe25hbWU6XCJzdHlsZTFcIiwgc3R5bGV9KVxcYGApO1xuICAgICAgfVxuICAgICAgZm50Lm9uY2UoXCJkZXN0cm95XCIsICgpID0+IHtcbiAgICAgICAgZm9udENvdW50LS07XG4gICAgICAgIENhY2hlLnJlbW92ZShmb250RmFtaWx5S2V5KTtcbiAgICAgIH0pO1xuICAgICAgQ2FjaGUuc2V0KFxuICAgICAgICBmb250RmFtaWx5S2V5LFxuICAgICAgICBmbnRcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGR5bmFtaWNGb250ID0gQ2FjaGUuZ2V0KGZvbnRGYW1pbHlLZXkpO1xuICAgIGR5bmFtaWNGb250LmVuc3VyZUNoYXJhY3RlcnM/Lih0ZXh0KTtcbiAgICByZXR1cm4gZHluYW1pY0ZvbnQ7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgbGF5b3V0IG9mIGEgdGV4dCBmb3IgdGhlIHNwZWNpZmllZCBzdHlsZS5cbiAgICogQHBhcmFtIHRleHQgLSBUaGUgdGV4dCB0byBnZXQgdGhlIGxheW91dCBmb3JcbiAgICogQHBhcmFtIHN0eWxlIC0gVGhlIHN0eWxlIHRvIHVzZVxuICAgKiBAcGFyYW0gdHJpbUVuZCAtIFdoZXRoZXIgdG8gaWdub3JlIHdoaXRlc3BhY2VzIGF0IHRoZSBlbmQgb2YgZWFjaCBsaW5lXG4gICAqL1xuICBnZXRMYXlvdXQodGV4dCwgc3R5bGUsIHRyaW1FbmQgPSB0cnVlKSB7XG4gICAgY29uc3QgYml0bWFwRm9udCA9IHRoaXMuZ2V0Rm9udCh0ZXh0LCBzdHlsZSk7XG4gICAgY29uc3Qgc2VnbWVudHMgPSBDYW52YXNUZXh0TWV0cmljcy5ncmFwaGVtZVNlZ21lbnRlcih0ZXh0KTtcbiAgICByZXR1cm4gZ2V0Qml0bWFwVGV4dExheW91dChzZWdtZW50cywgc3R5bGUsIGJpdG1hcEZvbnQsIHRyaW1FbmQpO1xuICB9XG4gIC8qKlxuICAgKiBNZWFzdXJlIHRoZSB0ZXh0IHVzaW5nIHRoZSBzcGVjaWZpZWQgc3R5bGUuXG4gICAqIEBwYXJhbSB0ZXh0IC0gVGhlIHRleHQgdG8gbWVhc3VyZVxuICAgKiBAcGFyYW0gc3R5bGUgLSBUaGUgc3R5bGUgdG8gdXNlXG4gICAqIEBwYXJhbSB0cmltRW5kIC0gV2hldGhlciB0byBpZ25vcmUgd2hpdGVzcGFjZXMgYXQgdGhlIGVuZCBvZiBlYWNoIGxpbmVcbiAgICovXG4gIG1lYXN1cmVUZXh0KHRleHQsIHN0eWxlLCB0cmltRW5kID0gdHJ1ZSkge1xuICAgIHJldHVybiB0aGlzLmdldExheW91dCh0ZXh0LCBzdHlsZSwgdHJpbUVuZCk7XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgaW5zdGFsbCguLi5hcmdzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmdzWzBdO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgbmFtZTogb3B0aW9ucyxcbiAgICAgICAgc3R5bGU6IGFyZ3NbMV0sXG4gICAgICAgIGNoYXJzOiBhcmdzWzJdPy5jaGFycyxcbiAgICAgICAgcmVzb2x1dGlvbjogYXJnc1syXT8ucmVzb2x1dGlvbixcbiAgICAgICAgcGFkZGluZzogYXJnc1syXT8ucGFkZGluZyxcbiAgICAgICAgc2tpcEtlcm5pbmc6IGFyZ3NbMl0/LnNraXBLZXJuaW5nXG4gICAgICB9O1xuICAgICAgZGVwcmVjYXRpb24odjhfMF8wLCBcIkJpdG1hcEZvbnRNYW5hZ2VyLmluc3RhbGwobmFtZSwgc3R5bGUsIG9wdGlvbnMpIGlzIGRlcHJlY2F0ZWQsIHVzZSBCaXRtYXBGb250TWFuYWdlci5pbnN0YWxsKHtuYW1lLCBzdHlsZSwgLi4ub3B0aW9uc30pXCIpO1xuICAgIH1cbiAgICBjb25zdCBuYW1lID0gb3B0aW9ucz8ubmFtZTtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIltCaXRtYXBGb250TWFuYWdlcl0gUHJvcGVydHkgYG5hbWVgIGlzIHJlcXVpcmVkLlwiKTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IHsgLi4udGhpcy5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IHRleHRTdHlsZSA9IG9wdGlvbnMuc3R5bGU7XG4gICAgY29uc3Qgc3R5bGUgPSB0ZXh0U3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUgPyB0ZXh0U3R5bGUgOiBuZXcgVGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgY29uc3Qgb3ZlcnJpZGVGaWxsID0gb3B0aW9ucy5keW5hbWljRmlsbCA/PyB0aGlzLl9jYW5Vc2VUaW50Rm9yU3R5bGUoc3R5bGUpO1xuICAgIGNvbnN0IGZvbnQgPSBuZXcgRHluYW1pY0JpdG1hcEZvbnQoe1xuICAgICAgc3R5bGUsXG4gICAgICBvdmVycmlkZUZpbGwsXG4gICAgICBza2lwS2VybmluZzogb3B0aW9ucy5za2lwS2VybmluZyxcbiAgICAgIHBhZGRpbmc6IG9wdGlvbnMucGFkZGluZyxcbiAgICAgIHJlc29sdXRpb246IG9wdGlvbnMucmVzb2x1dGlvbixcbiAgICAgIG92ZXJyaWRlU2l6ZTogZmFsc2UsXG4gICAgICB0ZXh0dXJlU3R5bGU6IG9wdGlvbnMudGV4dHVyZVN0eWxlXG4gICAgfSk7XG4gICAgY29uc3QgZmxhdENoYXJzID0gcmVzb2x2ZUNoYXJhY3RlcnMob3B0aW9ucy5jaGFycyk7XG4gICAgZm9udC5lbnN1cmVDaGFyYWN0ZXJzKGZsYXRDaGFycy5qb2luKFwiXCIpKTtcbiAgICBDYWNoZS5zZXQoYCR7bmFtZX0tYml0bWFwYCwgZm9udCk7XG4gICAgZm9udC5vbmNlKFwiZGVzdHJveVwiLCAoKSA9PiBDYWNoZS5yZW1vdmUoYCR7bmFtZX0tYml0bWFwYCkpO1xuICAgIHJldHVybiBmb250O1xuICB9XG4gIC8qKlxuICAgKiBVbmluc3RhbGxzIGEgYml0bWFwIGZvbnQgZnJvbSB0aGUgY2FjaGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGJpdG1hcCBmb250IHRvIHVuaW5zdGFsbC5cbiAgICovXG4gIHVuaW5zdGFsbChuYW1lKSB7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgJHtuYW1lfS1iaXRtYXBgO1xuICAgIGNvbnN0IGZvbnQgPSBDYWNoZS5nZXQoY2FjaGVLZXkpO1xuICAgIGlmIChmb250KSB7XG4gICAgICBmb250LmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgYSBzdHlsZSBjYW4gdXNlIHRpbnRpbmcgaW5zdGVhZCBvZiBiYWtpbmcgY29sb3JzIGludG8gdGhlIGJpdG1hcC5cbiAgICogVGludGluZyBpcyBtb3JlIGVmZmljaWVudCBhcyBpdCBhbGxvd3MgcmV1c2luZyB0aGUgc2FtZSBiaXRtYXAgd2l0aCBkaWZmZXJlbnQgY29sb3JzLlxuICAgKiBAcGFyYW0gc3R5bGUgLSBUaGUgdGV4dCBzdHlsZSB0byBldmFsdWF0ZVxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBzdHlsZSBjYW4gdXNlIHRpbnRpbmcsIGZhbHNlIGlmIGNvbG9ycyBtdXN0IGJlIGJha2VkIGluXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2FuVXNlVGludEZvclN0eWxlKHN0eWxlKSB7XG4gICAgcmV0dXJuICFzdHlsZS5fc3Ryb2tlICYmICghc3R5bGUuZHJvcFNoYWRvdyB8fCBzdHlsZS5kcm9wU2hhZG93LmNvbG9yID09PSAwKSAmJiAhc3R5bGUuX2ZpbGwuZmlsbCAmJiBzdHlsZS5fZmlsbC5jb2xvciA9PT0gMTY3NzcyMTU7XG4gIH1cbn1cbmNvbnN0IEJpdG1hcEZvbnRNYW5hZ2VyID0gbmV3IEJpdG1hcEZvbnRNYW5hZ2VyQ2xhc3MoKTtcblxuZXhwb3J0IHsgQml0bWFwRm9udE1hbmFnZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpdG1hcEZvbnRNYW5hZ2VyLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gcmVzb2x2ZUNoYXJhY3RlcnMoY2hhcnMpIHtcbiAgaWYgKGNoYXJzID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmICh0eXBlb2YgY2hhcnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjaGFycyA9IFtjaGFyc107XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAobGV0IGkgPSAwLCBqID0gY2hhcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgY29uc3QgaXRlbSA9IGNoYXJzW2ldO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICBpZiAoaXRlbS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbQml0bWFwRm9udF06IEludmFsaWQgY2hhcmFjdGVyIHJhbmdlIGxlbmd0aCwgZXhwZWN0aW5nIDIgZ290ICR7aXRlbS5sZW5ndGh9LmApO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMF0ubGVuZ3RoID09PSAwIHx8IGl0ZW1bMV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIltCaXRtYXBGb250XTogSW52YWxpZCBjaGFyYWN0ZXIgZGVsaW1pdGVyLlwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0YXJ0Q29kZSA9IGl0ZW1bMF0uY2hhckNvZGVBdCgwKTtcbiAgICAgIGNvbnN0IGVuZENvZGUgPSBpdGVtWzFdLmNoYXJDb2RlQXQoMCk7XG4gICAgICBpZiAoZW5kQ29kZSA8IHN0YXJ0Q29kZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF06IEludmFsaWQgY2hhcmFjdGVyIHJhbmdlLlwiKTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkyID0gc3RhcnRDb2RlLCBqMiA9IGVuZENvZGU7IGkyIDw9IGoyOyBpMisrKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaTIpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnB1c2goLi4uQXJyYXkuZnJvbShpdGVtKSk7XG4gICAgfVxuICB9XG4gIGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRdOiBFbXB0eSBzZXQgd2hlbiByZXNvbHZpbmcgY2hhcmFjdGVycy5cIik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgcmVzb2x2ZUNoYXJhY3RlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVDaGFyYWN0ZXJzLm1qcy5tYXBcbiIsImltcG9ydCB7IENhY2hlIH0gZnJvbSAnLi4vLi4vYXNzZXRzL2NhY2hlL0NhY2hlLm1qcyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gJy4uL2dyYXBoaWNzL3NoYXJlZC9HcmFwaGljcy5tanMnO1xuaW1wb3J0IHsgQ2FudmFzVGV4dE1ldHJpY3MgfSBmcm9tICcuLi90ZXh0L2NhbnZhcy9DYW52YXNUZXh0TWV0cmljcy5tanMnO1xuaW1wb3J0IHsgU2RmU2hhZGVyIH0gZnJvbSAnLi4vdGV4dC9zZGZTaGFkZXIvU2RmU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBCaXRtYXBGb250TWFuYWdlciB9IGZyb20gJy4vQml0bWFwRm9udE1hbmFnZXIubWpzJztcbmltcG9ydCB7IGdldEJpdG1hcFRleHRMYXlvdXQgfSBmcm9tICcuL3V0aWxzL2dldEJpdG1hcFRleHRMYXlvdXQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBCaXRtYXBUZXh0R3JhcGhpY3MgZXh0ZW5kcyBHcmFwaGljcyB7XG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuY29udGV4dC5jdXN0b21TaGFkZXIpIHtcbiAgICAgIHRoaXMuY29udGV4dC5jdXN0b21TaGFkZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgICBzdXBlci5kZXN0cm95KCk7XG4gIH1cbn1cbmNsYXNzIEJpdG1hcFRleHRQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlcmFibGVHQy5hZGRNYW5hZ2VkSGFzaCh0aGlzLCBcIl9ncHVCaXRtYXBUZXh0XCIpO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShiaXRtYXBUZXh0KSB7XG4gICAgY29uc3QgZ3JhcGhpY3NSZW5kZXJhYmxlID0gdGhpcy5fZ2V0R3B1Qml0bWFwVGV4dChiaXRtYXBUZXh0KTtcbiAgICByZXR1cm4gdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuZ3JhcGhpY3MudmFsaWRhdGVSZW5kZXJhYmxlKGdyYXBoaWNzUmVuZGVyYWJsZSk7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShiaXRtYXBUZXh0LCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGdyYXBoaWNzUmVuZGVyYWJsZSA9IHRoaXMuX2dldEdwdUJpdG1hcFRleHQoYml0bWFwVGV4dCk7XG4gICAgc3luY1dpdGhQcm94eShiaXRtYXBUZXh0LCBncmFwaGljc1JlbmRlcmFibGUpO1xuICAgIGlmIChiaXRtYXBUZXh0Ll9kaWRUZXh0VXBkYXRlKSB7XG4gICAgICBiaXRtYXBUZXh0Ll9kaWRUZXh0VXBkYXRlID0gZmFsc2U7XG4gICAgICB0aGlzLl91cGRhdGVDb250ZXh0KGJpdG1hcFRleHQsIGdyYXBoaWNzUmVuZGVyYWJsZSk7XG4gICAgfVxuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmdyYXBoaWNzLmFkZFJlbmRlcmFibGUoZ3JhcGhpY3NSZW5kZXJhYmxlLCBpbnN0cnVjdGlvblNldCk7XG4gICAgaWYgKGdyYXBoaWNzUmVuZGVyYWJsZS5jb250ZXh0LmN1c3RvbVNoYWRlcikge1xuICAgICAgdGhpcy5fdXBkYXRlRGlzdGFuY2VGaWVsZChiaXRtYXBUZXh0KTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZShiaXRtYXBUZXh0KSB7XG4gICAgY29uc3QgZ3JhcGhpY3NSZW5kZXJhYmxlID0gdGhpcy5fZ2V0R3B1Qml0bWFwVGV4dChiaXRtYXBUZXh0KTtcbiAgICBzeW5jV2l0aFByb3h5KGJpdG1hcFRleHQsIGdyYXBoaWNzUmVuZGVyYWJsZSk7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuZ3JhcGhpY3MudXBkYXRlUmVuZGVyYWJsZShncmFwaGljc1JlbmRlcmFibGUpO1xuICAgIGlmIChncmFwaGljc1JlbmRlcmFibGUuY29udGV4dC5jdXN0b21TaGFkZXIpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZURpc3RhbmNlRmllbGQoYml0bWFwVGV4dCk7XG4gICAgfVxuICB9XG4gIF91cGRhdGVDb250ZXh0KGJpdG1hcFRleHQsIHByb3h5R3JhcGhpY3MpIHtcbiAgICBjb25zdCB7IGNvbnRleHQgfSA9IHByb3h5R3JhcGhpY3M7XG4gICAgY29uc3QgYml0bWFwRm9udCA9IEJpdG1hcEZvbnRNYW5hZ2VyLmdldEZvbnQoYml0bWFwVGV4dC50ZXh0LCBiaXRtYXBUZXh0Ll9zdHlsZSk7XG4gICAgY29udGV4dC5jbGVhcigpO1xuICAgIGlmIChiaXRtYXBGb250LmRpc3RhbmNlRmllbGQudHlwZSAhPT0gXCJub25lXCIpIHtcbiAgICAgIGlmICghY29udGV4dC5jdXN0b21TaGFkZXIpIHtcbiAgICAgICAgY29udGV4dC5jdXN0b21TaGFkZXIgPSBuZXcgU2RmU2hhZGVyKHRoaXMuX3JlbmRlcmVyLmxpbWl0cy5tYXhCYXRjaGFibGVUZXh0dXJlcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNoYXJzID0gQ2FudmFzVGV4dE1ldHJpY3MuZ3JhcGhlbWVTZWdtZW50ZXIoYml0bWFwVGV4dC50ZXh0KTtcbiAgICBjb25zdCBzdHlsZSA9IGJpdG1hcFRleHQuX3N0eWxlO1xuICAgIGxldCBjdXJyZW50WSA9IGJpdG1hcEZvbnQuYmFzZUxpbmVPZmZzZXQ7XG4gICAgY29uc3QgYml0bWFwVGV4dExheW91dCA9IGdldEJpdG1hcFRleHRMYXlvdXQoY2hhcnMsIHN0eWxlLCBiaXRtYXBGb250LCB0cnVlKTtcbiAgICBjb25zdCBwYWRkaW5nID0gc3R5bGUucGFkZGluZztcbiAgICBjb25zdCBzY2FsZSA9IGJpdG1hcFRleHRMYXlvdXQuc2NhbGU7XG4gICAgbGV0IHR4ID0gYml0bWFwVGV4dExheW91dC53aWR0aDtcbiAgICBsZXQgdHkgPSBiaXRtYXBUZXh0TGF5b3V0LmhlaWdodCArIGJpdG1hcFRleHRMYXlvdXQub2Zmc2V0WTtcbiAgICBpZiAoc3R5bGUuX3N0cm9rZSkge1xuICAgICAgdHggKz0gc3R5bGUuX3N0cm9rZS53aWR0aCAvIHNjYWxlO1xuICAgICAgdHkgKz0gc3R5bGUuX3N0cm9rZS53aWR0aCAvIHNjYWxlO1xuICAgIH1cbiAgICBjb250ZXh0LnRyYW5zbGF0ZSgtYml0bWFwVGV4dC5fYW5jaG9yLl94ICogdHggLSBwYWRkaW5nLCAtYml0bWFwVGV4dC5fYW5jaG9yLl95ICogdHkgLSBwYWRkaW5nKS5zY2FsZShzY2FsZSwgc2NhbGUpO1xuICAgIGNvbnN0IHRpbnQgPSBiaXRtYXBGb250LmFwcGx5RmlsbEFzVGludCA/IHN0eWxlLl9maWxsLmNvbG9yIDogMTY3NzcyMTU7XG4gICAgbGV0IGZvbnRTaXplID0gYml0bWFwRm9udC5mb250TWV0cmljcy5mb250U2l6ZTtcbiAgICBsZXQgbGluZUhlaWdodCA9IGJpdG1hcEZvbnQubGluZUhlaWdodDtcbiAgICBpZiAoc3R5bGUubGluZUhlaWdodCkge1xuICAgICAgZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZSAvIHNjYWxlO1xuICAgICAgbGluZUhlaWdodCA9IHN0eWxlLmxpbmVIZWlnaHQgLyBzY2FsZTtcbiAgICB9XG4gICAgbGV0IGxpbmVQb3NpdGlvbllTaGlmdCA9IChsaW5lSGVpZ2h0IC0gZm9udFNpemUpIC8gMjtcbiAgICBpZiAobGluZVBvc2l0aW9uWVNoaWZ0IC0gYml0bWFwRm9udC5iYXNlTGluZU9mZnNldCA8IDApIHtcbiAgICAgIGxpbmVQb3NpdGlvbllTaGlmdCA9IDA7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYml0bWFwVGV4dExheW91dC5saW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbGluZSA9IGJpdG1hcFRleHRMYXlvdXQubGluZXNbaV07XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmUuY2hhclBvc2l0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCBjaGFyID0gbGluZS5jaGFyc1tqXTtcbiAgICAgICAgY29uc3QgY2hhckRhdGEgPSBiaXRtYXBGb250LmNoYXJzW2NoYXJdO1xuICAgICAgICBpZiAoY2hhckRhdGE/LnRleHR1cmUpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gY2hhckRhdGEudGV4dHVyZTtcbiAgICAgICAgICBjb250ZXh0LnRleHR1cmUoXG4gICAgICAgICAgICB0ZXh0dXJlLFxuICAgICAgICAgICAgdGludCA/IHRpbnQgOiBcImJsYWNrXCIsXG4gICAgICAgICAgICBNYXRoLnJvdW5kKGxpbmUuY2hhclBvc2l0aW9uc1tqXSArIGNoYXJEYXRhLnhPZmZzZXQpLFxuICAgICAgICAgICAgTWF0aC5yb3VuZChjdXJyZW50WSArIGNoYXJEYXRhLnlPZmZzZXQgKyBsaW5lUG9zaXRpb25ZU2hpZnQpLFxuICAgICAgICAgICAgdGV4dHVyZS5vcmlnLndpZHRoLFxuICAgICAgICAgICAgdGV4dHVyZS5vcmlnLmhlaWdodFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN1cnJlbnRZICs9IGxpbmVIZWlnaHQ7XG4gICAgfVxuICB9XG4gIF9nZXRHcHVCaXRtYXBUZXh0KGJpdG1hcFRleHQpIHtcbiAgICByZXR1cm4gYml0bWFwVGV4dC5fZ3B1RGF0YVt0aGlzLl9yZW5kZXJlci51aWRdIHx8IHRoaXMuaW5pdEdwdVRleHQoYml0bWFwVGV4dCk7XG4gIH1cbiAgaW5pdEdwdVRleHQoYml0bWFwVGV4dCkge1xuICAgIGNvbnN0IHByb3h5UmVuZGVyYWJsZSA9IG5ldyBCaXRtYXBUZXh0R3JhcGhpY3MoKTtcbiAgICBiaXRtYXBUZXh0Ll9ncHVEYXRhW3RoaXMuX3JlbmRlcmVyLnVpZF0gPSBwcm94eVJlbmRlcmFibGU7XG4gICAgdGhpcy5fdXBkYXRlQ29udGV4dChiaXRtYXBUZXh0LCBwcm94eVJlbmRlcmFibGUpO1xuICAgIHJldHVybiBwcm94eVJlbmRlcmFibGU7XG4gIH1cbiAgX3VwZGF0ZURpc3RhbmNlRmllbGQoYml0bWFwVGV4dCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLl9nZXRHcHVCaXRtYXBUZXh0KGJpdG1hcFRleHQpLmNvbnRleHQ7XG4gICAgY29uc3QgZm9udEZhbWlseSA9IGJpdG1hcFRleHQuX3N0eWxlLmZvbnRGYW1pbHk7XG4gICAgY29uc3QgZHluYW1pY0ZvbnQgPSBDYWNoZS5nZXQoYCR7Zm9udEZhbWlseX0tYml0bWFwYCk7XG4gICAgY29uc3QgeyBhLCBiLCBjLCBkIH0gPSBiaXRtYXBUZXh0Lmdyb3VwVHJhbnNmb3JtO1xuICAgIGNvbnN0IGR4ID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpO1xuICAgIGNvbnN0IGR5ID0gTWF0aC5zcXJ0KGMgKiBjICsgZCAqIGQpO1xuICAgIGNvbnN0IHdvcmxkU2NhbGUgPSAoTWF0aC5hYnMoZHgpICsgTWF0aC5hYnMoZHkpKSAvIDI7XG4gICAgY29uc3QgZm9udFNjYWxlID0gZHluYW1pY0ZvbnQuYmFzZVJlbmRlcmVkRm9udFNpemUgLyBiaXRtYXBUZXh0Ll9zdHlsZS5mb250U2l6ZTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IHdvcmxkU2NhbGUgKiBkeW5hbWljRm9udC5kaXN0YW5jZUZpZWxkLnJhbmdlICogKDEgLyBmb250U2NhbGUpO1xuICAgIGNvbnRleHQuY3VzdG9tU2hhZGVyLnJlc291cmNlcy5sb2NhbFVuaWZvcm1zLnVuaWZvcm1zLnVEaXN0YW5jZSA9IGRpc3RhbmNlO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuQml0bWFwVGV4dFBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImJpdG1hcFRleHRcIlxufTtcbmZ1bmN0aW9uIHN5bmNXaXRoUHJveHkoY29udGFpbmVyLCBwcm94eSkge1xuICBwcm94eS5ncm91cFRyYW5zZm9ybSA9IGNvbnRhaW5lci5ncm91cFRyYW5zZm9ybTtcbiAgcHJveHkuZ3JvdXBDb2xvckFscGhhID0gY29udGFpbmVyLmdyb3VwQ29sb3JBbHBoYTtcbiAgcHJveHkuZ3JvdXBDb2xvciA9IGNvbnRhaW5lci5ncm91cENvbG9yO1xuICBwcm94eS5ncm91cEJsZW5kTW9kZSA9IGNvbnRhaW5lci5ncm91cEJsZW5kTW9kZTtcbiAgcHJveHkuZ2xvYmFsRGlzcGxheVN0YXR1cyA9IGNvbnRhaW5lci5nbG9iYWxEaXNwbGF5U3RhdHVzO1xuICBwcm94eS5ncm91cFRyYW5zZm9ybSA9IGNvbnRhaW5lci5ncm91cFRyYW5zZm9ybTtcbiAgcHJveHkubG9jYWxEaXNwbGF5U3RhdHVzID0gY29udGFpbmVyLmxvY2FsRGlzcGxheVN0YXR1cztcbiAgcHJveHkuZ3JvdXBBbHBoYSA9IGNvbnRhaW5lci5ncm91cEFscGhhO1xuICBwcm94eS5fcm91bmRQaXhlbHMgPSBjb250YWluZXIuX3JvdW5kUGl4ZWxzO1xufVxuXG5leHBvcnQgeyBCaXRtYXBUZXh0R3JhcGhpY3MsIEJpdG1hcFRleHRQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaXRtYXBUZXh0UGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBCaXRtYXBUZXh0UGlwZSB9IGZyb20gJy4vQml0bWFwVGV4dFBpcGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChCaXRtYXBUZXh0UGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEJhdGNoYWJsZVNwcml0ZSB9IGZyb20gJy4uL3Nwcml0ZS9CYXRjaGFibGVTcHJpdGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBCYXRjaGFibGVIVE1MVGV4dCBleHRlbmRzIEJhdGNoYWJsZVNwcml0ZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEJhdGNoYWJsZUhUTUxUZXh0LlxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgaW5zdGFuY2UgdG8gYmUgdXNlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmdlbmVyYXRpbmdUZXh0dXJlID0gZmFsc2U7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICByZW5kZXJlci5ydW5uZXJzLnJlc29sdXRpb25DaGFuZ2UuYWRkKHRoaXMpO1xuICB9XG4gIC8qKiBIYW5kbGVzIHJlc29sdXRpb24gY2hhbmdlcyBmb3IgdGhlIEhUTUwgdGV4dC4gSWYgdGhlIHRleHQgaGFzIGF1dG8gcmVzb2x1dGlvbiBlbmFibGVkLCBpdCB0cmlnZ2VycyBhIHZpZXcgdXBkYXRlLiAqL1xuICByZXNvbHV0aW9uQ2hhbmdlKCkge1xuICAgIGNvbnN0IHRleHQgPSB0aGlzLnJlbmRlcmFibGU7XG4gICAgaWYgKHRleHQuX2F1dG9SZXNvbHV0aW9uKSB7XG4gICAgICB0ZXh0Lm9uVmlld1VwZGF0ZSgpO1xuICAgIH1cbiAgfVxuICAvKiogRGVzdHJveXMgdGhlIEJhdGNoYWJsZUhUTUxUZXh0IGluc3RhbmNlLiBSZXR1cm5zIHRoZSB0ZXh0dXJlIHByb21pc2UgdG8gdGhlIHJlbmRlcmVyIGFuZCBjbGVhbnMgdXAgcmVmZXJlbmNlcy4gKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlci5odG1sVGV4dC5yZXR1cm5UZXh0dXJlUHJvbWlzZSh0aGlzLnRleHR1cmVQcm9taXNlKTtcbiAgICB0aGlzLnRleHR1cmVQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmF0Y2hhYmxlSFRNTFRleHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoYWJsZUhUTUxUZXh0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IHVwZGF0ZVRleHRCb3VuZHMgfSBmcm9tICcuLi90ZXh0L3V0aWxzL3VwZGF0ZVRleHRCb3VuZHMubWpzJztcbmltcG9ydCB7IEJhdGNoYWJsZUhUTUxUZXh0IH0gZnJvbSAnLi9CYXRjaGFibGVIVE1MVGV4dC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEhUTUxUZXh0UGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoaHRtbFRleHQpIHtcbiAgICByZXR1cm4gaHRtbFRleHQuX2RpZFRleHRVcGRhdGU7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShodG1sVGV4dCwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBiYXRjaGFibGVIVE1MVGV4dCA9IHRoaXMuX2dldEdwdVRleHQoaHRtbFRleHQpO1xuICAgIGlmIChodG1sVGV4dC5fZGlkVGV4dFVwZGF0ZSkge1xuICAgICAgdGhpcy5fdXBkYXRlR3B1VGV4dChodG1sVGV4dCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIH0pO1xuICAgICAgaHRtbFRleHQuX2RpZFRleHRVcGRhdGUgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZVRleHRCb3VuZHMoYmF0Y2hhYmxlSFRNTFRleHQsIGh0bWxUZXh0KTtcbiAgICB9XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYWRkVG9CYXRjaChiYXRjaGFibGVIVE1MVGV4dCwgaW5zdHJ1Y3Rpb25TZXQpO1xuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoaHRtbFRleHQpIHtcbiAgICBjb25zdCBiYXRjaGFibGVIVE1MVGV4dCA9IHRoaXMuX2dldEdwdVRleHQoaHRtbFRleHQpO1xuICAgIGJhdGNoYWJsZUhUTUxUZXh0Ll9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoYmF0Y2hhYmxlSFRNTFRleHQpO1xuICB9XG4gIGFzeW5jIF91cGRhdGVHcHVUZXh0KGh0bWxUZXh0KSB7XG4gICAgaHRtbFRleHQuX2RpZFRleHRVcGRhdGUgPSBmYWxzZTtcbiAgICBjb25zdCBiYXRjaGFibGVIVE1MVGV4dCA9IHRoaXMuX2dldEdwdVRleHQoaHRtbFRleHQpO1xuICAgIGlmIChiYXRjaGFibGVIVE1MVGV4dC5nZW5lcmF0aW5nVGV4dHVyZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoYmF0Y2hhYmxlSFRNTFRleHQudGV4dHVyZVByb21pc2UpIHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLmh0bWxUZXh0LnJldHVyblRleHR1cmVQcm9taXNlKGJhdGNoYWJsZUhUTUxUZXh0LnRleHR1cmVQcm9taXNlKTtcbiAgICAgIGJhdGNoYWJsZUhUTUxUZXh0LnRleHR1cmVQcm9taXNlID0gbnVsbDtcbiAgICB9XG4gICAgYmF0Y2hhYmxlSFRNTFRleHQuZ2VuZXJhdGluZ1RleHR1cmUgPSB0cnVlO1xuICAgIGh0bWxUZXh0Ll9yZXNvbHV0aW9uID0gaHRtbFRleHQuX2F1dG9SZXNvbHV0aW9uID8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbiA6IGh0bWxUZXh0LnJlc29sdXRpb247XG4gICAgY29uc3QgdGV4dHVyZVByb21pc2UgPSB0aGlzLl9yZW5kZXJlci5odG1sVGV4dC5nZXRUZXh0dXJlUHJvbWlzZShodG1sVGV4dCk7XG4gICAgYmF0Y2hhYmxlSFRNTFRleHQudGV4dHVyZVByb21pc2UgPSB0ZXh0dXJlUHJvbWlzZTtcbiAgICBiYXRjaGFibGVIVE1MVGV4dC50ZXh0dXJlID0gYXdhaXQgdGV4dHVyZVByb21pc2U7XG4gICAgY29uc3QgcmVuZGVyR3JvdXAgPSBodG1sVGV4dC5yZW5kZXJHcm91cCB8fCBodG1sVGV4dC5wYXJlbnRSZW5kZXJHcm91cDtcbiAgICBpZiAocmVuZGVyR3JvdXApIHtcbiAgICAgIHJlbmRlckdyb3VwLnN0cnVjdHVyZURpZENoYW5nZSA9IHRydWU7XG4gICAgfVxuICAgIGJhdGNoYWJsZUhUTUxUZXh0LmdlbmVyYXRpbmdUZXh0dXJlID0gZmFsc2U7XG4gICAgdXBkYXRlVGV4dEJvdW5kcyhiYXRjaGFibGVIVE1MVGV4dCwgaHRtbFRleHQpO1xuICB9XG4gIF9nZXRHcHVUZXh0KGh0bWxUZXh0KSB7XG4gICAgcmV0dXJuIGh0bWxUZXh0Ll9ncHVEYXRhW3RoaXMuX3JlbmRlcmVyLnVpZF0gfHwgdGhpcy5pbml0R3B1VGV4dChodG1sVGV4dCk7XG4gIH1cbiAgaW5pdEdwdVRleHQoaHRtbFRleHQpIHtcbiAgICBjb25zdCBiYXRjaGFibGVIVE1MVGV4dCA9IG5ldyBCYXRjaGFibGVIVE1MVGV4dCh0aGlzLl9yZW5kZXJlcik7XG4gICAgYmF0Y2hhYmxlSFRNTFRleHQucmVuZGVyYWJsZSA9IGh0bWxUZXh0O1xuICAgIGJhdGNoYWJsZUhUTUxUZXh0LnRyYW5zZm9ybSA9IGh0bWxUZXh0Lmdyb3VwVHJhbnNmb3JtO1xuICAgIGJhdGNoYWJsZUhUTUxUZXh0LnRleHR1cmUgPSBUZXh0dXJlLkVNUFRZO1xuICAgIGJhdGNoYWJsZUhUTUxUZXh0LmJvdW5kcyA9IHsgbWluWDogMCwgbWF4WDogMSwgbWluWTogMCwgbWF4WTogMCB9O1xuICAgIGJhdGNoYWJsZUhUTUxUZXh0LnJvdW5kUGl4ZWxzID0gdGhpcy5fcmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgaHRtbFRleHQuX3JvdW5kUGl4ZWxzO1xuICAgIGh0bWxUZXh0Ll9yZXNvbHV0aW9uID0gaHRtbFRleHQuX2F1dG9SZXNvbHV0aW9uID8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbiA6IGh0bWxUZXh0LnJlc29sdXRpb247XG4gICAgaHRtbFRleHQuX2dwdURhdGFbdGhpcy5fcmVuZGVyZXIudWlkXSA9IGJhdGNoYWJsZUhUTUxUZXh0O1xuICAgIHJldHVybiBiYXRjaGFibGVIVE1MVGV4dDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkhUTUxUZXh0UGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiaHRtbFRleHRcIlxufTtcblxuZXhwb3J0IHsgSFRNTFRleHRQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IVE1MVGV4dFBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRE9NQWRhcHRlciB9IGZyb20gJy4uLy4uL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBuc3N2ZyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbmNvbnN0IG5zeGh0bWwgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIjtcbmNsYXNzIEhUTUxUZXh0UmVuZGVyRGF0YSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3ZnUm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuc3N2ZywgXCJzdmdcIik7XG4gICAgdGhpcy5mb3JlaWduT2JqZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zc3ZnLCBcImZvcmVpZ25PYmplY3RcIik7XG4gICAgdGhpcy5kb21FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zeGh0bWwsIFwiZGl2XCIpO1xuICAgIHRoaXMuc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zeGh0bWwsIFwic3R5bGVcIik7XG4gICAgY29uc3QgeyBmb3JlaWduT2JqZWN0LCBzdmdSb290LCBzdHlsZUVsZW1lbnQsIGRvbUVsZW1lbnQgfSA9IHRoaXM7XG4gICAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBcIjEwMDAwXCIpO1xuICAgIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiMTAwMDBcIik7XG4gICAgZm9yZWlnbk9iamVjdC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgc3ZnUm9vdC5hcHBlbmRDaGlsZChmb3JlaWduT2JqZWN0KTtcbiAgICBmb3JlaWduT2JqZWN0LmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG4gICAgZm9yZWlnbk9iamVjdC5hcHBlbmRDaGlsZChkb21FbGVtZW50KTtcbiAgICB0aGlzLmltYWdlID0gRE9NQWRhcHRlci5nZXQoKS5jcmVhdGVJbWFnZSgpO1xuICB9XG59XG5cbmV4cG9ydCB7IEhUTUxUZXh0UmVuZGVyRGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SFRNTFRleHRSZW5kZXJEYXRhLm1qcy5tYXBcbiIsImltcG9ydCB7IENhY2hlIH0gZnJvbSAnLi4vLi4vLi4vYXNzZXRzL2NhY2hlL0NhY2hlLm1qcyc7XG5pbXBvcnQgeyBsb2FkRm9udENTUyB9IGZyb20gJy4vbG9hZEZvbnRDU1MubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBGb250U3R5bGVQcm9taXNlQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuYXN5bmMgZnVuY3Rpb24gZ2V0Rm9udENzcyhmb250RmFtaWxpZXMpIHtcbiAgY29uc3QgZm9udFByb21pc2VzID0gZm9udEZhbWlsaWVzLmZpbHRlcigoZm9udEZhbWlseSkgPT4gQ2FjaGUuaGFzKGAke2ZvbnRGYW1pbHl9LWFuZC11cmxgKSkubWFwKChmb250RmFtaWx5KSA9PiB7XG4gICAgaWYgKCFGb250U3R5bGVQcm9taXNlQ2FjaGUuaGFzKGZvbnRGYW1pbHkpKSB7XG4gICAgICBjb25zdCB7IGVudHJpZXMgfSA9IENhY2hlLmdldChgJHtmb250RmFtaWx5fS1hbmQtdXJsYCk7XG4gICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBlbnRyeS51cmw7XG4gICAgICAgIGNvbnN0IGZhY2VzID0gZW50cnkuZmFjZXM7XG4gICAgICAgIGNvbnN0IG91dCA9IGZhY2VzLm1hcCgoZmFjZSkgPT4gKHsgd2VpZ2h0OiBmYWNlLndlaWdodCwgc3R5bGU6IGZhY2Uuc3R5bGUgfSkpO1xuICAgICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICAgIC4uLm91dC5tYXAoXG4gICAgICAgICAgICAoc3R5bGUpID0+IGxvYWRGb250Q1NTKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogc3R5bGUud2VpZ2h0LFxuICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogc3R5bGUuc3R5bGUsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB1cmxcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIEZvbnRTdHlsZVByb21pc2VDYWNoZS5zZXQoXG4gICAgICAgIGZvbnRGYW1pbHksXG4gICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKChjc3MpID0+IGNzcy5qb2luKFwiXFxuXCIpKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIEZvbnRTdHlsZVByb21pc2VDYWNoZS5nZXQoZm9udEZhbWlseSk7XG4gIH0pO1xuICByZXR1cm4gKGF3YWl0IFByb21pc2UuYWxsKGZvbnRQcm9taXNlcykpLmpvaW4oXCJcXG5cIik7XG59XG5cbmV4cG9ydCB7IEZvbnRTdHlsZVByb21pc2VDYWNoZSwgZ2V0Rm9udENzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Rm9udENzcy5tanMubWFwXG4iLCJpbXBvcnQgeyBIVE1MVGV4dFJlbmRlckRhdGEgfSBmcm9tICcuLi9IVE1MVGV4dFJlbmRlckRhdGEubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgdGVtcEhUTUxUZXh0UmVuZGVyRGF0YTtcbmZ1bmN0aW9uIG1lYXN1cmVIdG1sVGV4dCh0ZXh0LCBzdHlsZSwgZm9udFN0eWxlQ1NTLCBodG1sVGV4dFJlbmRlckRhdGEpIHtcbiAgaHRtbFRleHRSZW5kZXJEYXRhIHx8IChodG1sVGV4dFJlbmRlckRhdGEgPSB0ZW1wSFRNTFRleHRSZW5kZXJEYXRhIHx8ICh0ZW1wSFRNTFRleHRSZW5kZXJEYXRhID0gbmV3IEhUTUxUZXh0UmVuZGVyRGF0YSgpKSk7XG4gIGNvbnN0IHsgZG9tRWxlbWVudCwgc3R5bGVFbGVtZW50LCBzdmdSb290IH0gPSBodG1sVGV4dFJlbmRlckRhdGE7XG4gIGRvbUVsZW1lbnQuaW5uZXJIVE1MID0gYDxzdHlsZT4ke3N0eWxlLmNzc1N0eWxlfTs8L3N0eWxlPjxkaXYgc3R5bGU9J3BhZGRpbmc6MCc+JHt0ZXh0fTwvZGl2PmA7XG4gIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJ0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDsgZGlzcGxheTogaW5saW5lLWJsb2NrXCIpO1xuICBpZiAoZm9udFN0eWxlQ1NTKSB7XG4gICAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gZm9udFN0eWxlQ1NTO1xuICB9XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3ZnUm9vdCk7XG4gIGNvbnN0IGNvbnRlbnRCb3VuZHMgPSBkb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBzdmdSb290LnJlbW92ZSgpO1xuICBjb25zdCBkb3VibGVQYWRkaW5nID0gc3R5bGUucGFkZGluZyAqIDI7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IGNvbnRlbnRCb3VuZHMud2lkdGggLSBkb3VibGVQYWRkaW5nLFxuICAgIGhlaWdodDogY29udGVudEJvdW5kcy5oZWlnaHQgLSBkb3VibGVQYWRkaW5nXG4gIH07XG59XG5cbmV4cG9ydCB7IG1lYXN1cmVIdG1sVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVhc3VyZUh0bWxUZXh0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IENhbnZhc1Bvb2wgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL0NhbnZhc1Bvb2wubWpzJztcbmltcG9ydCB7IFRleHR1cmVQb29sIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlUG9vbC5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy90eXBlcy5tanMnO1xuaW1wb3J0IHsgaXNTYWZhcmkgfSBmcm9tICcuLi8uLi91dGlscy9icm93c2VyL2lzU2FmYXJpLm1qcyc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IGdldFBvMlRleHR1cmVGcm9tU291cmNlIH0gZnJvbSAnLi4vdGV4dC91dGlscy9nZXRQbzJUZXh0dXJlRnJvbVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgSFRNTFRleHRSZW5kZXJEYXRhIH0gZnJvbSAnLi9IVE1MVGV4dFJlbmRlckRhdGEubWpzJztcbmltcG9ydCB7IGV4dHJhY3RGb250RmFtaWxpZXMgfSBmcm9tICcuL3V0aWxzL2V4dHJhY3RGb250RmFtaWxpZXMubWpzJztcbmltcG9ydCB7IGdldEZvbnRDc3MgfSBmcm9tICcuL3V0aWxzL2dldEZvbnRDc3MubWpzJztcbmltcG9ydCB7IGdldFNWR1VybCB9IGZyb20gJy4vdXRpbHMvZ2V0U1ZHVXJsLm1qcyc7XG5pbXBvcnQgeyBnZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UgfSBmcm9tICcuL3V0aWxzL2dldFRlbXBvcmFyeUNhbnZhc0Zyb21JbWFnZS5tanMnO1xuaW1wb3J0IHsgbG9hZFNWR0ltYWdlIH0gZnJvbSAnLi91dGlscy9sb2FkU1ZHSW1hZ2UubWpzJztcbmltcG9ydCB7IG1lYXN1cmVIdG1sVGV4dCB9IGZyb20gJy4vdXRpbHMvbWVhc3VyZUh0bWxUZXh0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgSFRNTFRleHRTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY3JlYXRlQ2FudmFzID0gcmVuZGVyZXIudHlwZSA9PT0gUmVuZGVyZXJUeXBlLldFQkdQVTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGdldFRleHR1cmVQcm9taXNlIGluc3RlYWRcbiAgICovXG4gIGdldFRleHR1cmUob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmdldFRleHR1cmVQcm9taXNlKG9wdGlvbnMpO1xuICB9XG4gIGdldFRleHR1cmVQcm9taXNlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYnVpbGRUZXh0dXJlUHJvbWlzZShvcHRpb25zKTtcbiAgfVxuICBhc3luYyBfYnVpbGRUZXh0dXJlUHJvbWlzZShvcHRpb25zKSB7XG4gICAgY29uc3QgeyB0ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgdGV4dHVyZVN0eWxlIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGh0bWxUZXh0RGF0YSA9IEJpZ1Bvb2wuZ2V0KEhUTUxUZXh0UmVuZGVyRGF0YSk7XG4gICAgY29uc3QgZm9udEZhbWlsaWVzID0gZXh0cmFjdEZvbnRGYW1pbGllcyh0ZXh0LCBzdHlsZSk7XG4gICAgY29uc3QgZm9udENTUyA9IGF3YWl0IGdldEZvbnRDc3MoZm9udEZhbWlsaWVzKTtcbiAgICBjb25zdCBtZWFzdXJlZCA9IG1lYXN1cmVIdG1sVGV4dCh0ZXh0LCBzdHlsZSwgZm9udENTUywgaHRtbFRleHREYXRhKTtcbiAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChNYXRoLmNlaWwoTWF0aC5tYXgoMSwgbWVhc3VyZWQud2lkdGgpICsgc3R5bGUucGFkZGluZyAqIDIpICogcmVzb2x1dGlvbik7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5jZWlsKE1hdGguY2VpbChNYXRoLm1heCgxLCBtZWFzdXJlZC5oZWlnaHQpICsgc3R5bGUucGFkZGluZyAqIDIpICogcmVzb2x1dGlvbik7XG4gICAgY29uc3QgaW1hZ2UgPSBodG1sVGV4dERhdGEuaW1hZ2U7XG4gICAgY29uc3QgdXZTYWZlT2Zmc2V0ID0gMjtcbiAgICBpbWFnZS53aWR0aCA9ICh3aWR0aCB8IDApICsgdXZTYWZlT2Zmc2V0O1xuICAgIGltYWdlLmhlaWdodCA9IChoZWlnaHQgfCAwKSArIHV2U2FmZU9mZnNldDtcbiAgICBjb25zdCBzdmdVUkwgPSBnZXRTVkdVcmwodGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIGZvbnRDU1MsIGh0bWxUZXh0RGF0YSk7XG4gICAgYXdhaXQgbG9hZFNWR0ltYWdlKGltYWdlLCBzdmdVUkwsIGlzU2FmYXJpKCkgJiYgZm9udEZhbWlsaWVzLmxlbmd0aCA+IDApO1xuICAgIGNvbnN0IHJlc291cmNlID0gaW1hZ2U7XG4gICAgbGV0IGNhbnZhc0FuZENvbnRleHQ7XG4gICAgaWYgKHRoaXMuX2NyZWF0ZUNhbnZhcykge1xuICAgICAgY2FudmFzQW5kQ29udGV4dCA9IGdldFRlbXBvcmFyeUNhbnZhc0Zyb21JbWFnZShpbWFnZSwgcmVzb2x1dGlvbik7XG4gICAgfVxuICAgIGNvbnN0IHRleHR1cmUgPSBnZXRQbzJUZXh0dXJlRnJvbVNvdXJjZShcbiAgICAgIGNhbnZhc0FuZENvbnRleHQgPyBjYW52YXNBbmRDb250ZXh0LmNhbnZhcyA6IHJlc291cmNlLFxuICAgICAgaW1hZ2Uud2lkdGggLSB1dlNhZmVPZmZzZXQsXG4gICAgICBpbWFnZS5oZWlnaHQgLSB1dlNhZmVPZmZzZXQsXG4gICAgICByZXNvbHV0aW9uXG4gICAgKTtcbiAgICBpZiAodGV4dHVyZVN0eWxlKVxuICAgICAgdGV4dHVyZS5zb3VyY2Uuc3R5bGUgPSB0ZXh0dXJlU3R5bGU7XG4gICAgaWYgKHRoaXMuX2NyZWF0ZUNhbnZhcykge1xuICAgICAgdGhpcy5fcmVuZGVyZXIudGV4dHVyZS5pbml0U291cmNlKHRleHR1cmUuc291cmNlKTtcbiAgICAgIENhbnZhc1Bvb2wucmV0dXJuQ2FudmFzQW5kQ29udGV4dChjYW52YXNBbmRDb250ZXh0KTtcbiAgICB9XG4gICAgQmlnUG9vbC5yZXR1cm4oaHRtbFRleHREYXRhKTtcbiAgICByZXR1cm4gdGV4dHVyZTtcbiAgfVxuICByZXR1cm5UZXh0dXJlUHJvbWlzZSh0ZXh0dXJlUHJvbWlzZSkge1xuICAgIHRleHR1cmVQcm9taXNlLnRoZW4oKHRleHR1cmUpID0+IHtcbiAgICAgIHRoaXMuX2NsZWFuVXAodGV4dHVyZSk7XG4gICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgd2FybihcIkhUTUxUZXh0U3lzdGVtOiBGYWlsZWQgdG8gY2xlYW4gdGV4dHVyZVwiKTtcbiAgICB9KTtcbiAgfVxuICBfY2xlYW5VcCh0ZXh0dXJlKSB7XG4gICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZSh0ZXh0dXJlLCB0cnVlKTtcbiAgICB0ZXh0dXJlLnNvdXJjZS5yZXNvdXJjZSA9IG51bGw7XG4gICAgdGV4dHVyZS5zb3VyY2UudXBsb2FkTWV0aG9kSWQgPSBcInVua25vd25cIjtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkhUTUxUZXh0U3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJodG1sVGV4dFwiXG59O1xuXG5leHBvcnQgeyBIVE1MVGV4dFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SFRNTFRleHRTeXN0ZW0ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBleHRyYWN0Rm9udEZhbWlsaWVzKHRleHQsIHN0eWxlKSB7XG4gIGNvbnN0IGZvbnRGYW1pbHkgPSBzdHlsZS5mb250RmFtaWx5O1xuICBjb25zdCBmb250RmFtaWxpZXMgPSBbXTtcbiAgY29uc3QgZGVkdXBlID0ge307XG4gIGNvbnN0IHJlZ2V4ID0gL2ZvbnQtZmFtaWx5OihbXjtcIlxcc10rKS9nO1xuICBjb25zdCBtYXRjaGVzID0gdGV4dC5tYXRjaChyZWdleCk7XG4gIGZ1bmN0aW9uIGFkZEZvbnRGYW1pbHkoZm9udEZhbWlseTIpIHtcbiAgICBpZiAoIWRlZHVwZVtmb250RmFtaWx5Ml0pIHtcbiAgICAgIGZvbnRGYW1pbGllcy5wdXNoKGZvbnRGYW1pbHkyKTtcbiAgICAgIGRlZHVwZVtmb250RmFtaWx5Ml0gPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShmb250RmFtaWx5KSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm9udEZhbWlseS5sZW5ndGg7IGkrKykge1xuICAgICAgYWRkRm9udEZhbWlseShmb250RmFtaWx5W2ldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYWRkRm9udEZhbWlseShmb250RmFtaWx5KTtcbiAgfVxuICBpZiAobWF0Y2hlcykge1xuICAgIG1hdGNoZXMuZm9yRWFjaCgobWF0Y2gpID0+IHtcbiAgICAgIGNvbnN0IGZvbnRGYW1pbHkyID0gbWF0Y2guc3BsaXQoXCI6XCIpWzFdLnRyaW0oKTtcbiAgICAgIGFkZEZvbnRGYW1pbHkoZm9udEZhbWlseTIpO1xuICAgIH0pO1xuICB9XG4gIGZvciAoY29uc3QgaSBpbiBzdHlsZS50YWdTdHlsZXMpIHtcbiAgICBjb25zdCBmb250RmFtaWx5MiA9IHN0eWxlLnRhZ1N0eWxlc1tpXS5mb250RmFtaWx5O1xuICAgIGFkZEZvbnRGYW1pbHkoZm9udEZhbWlseTIpO1xuICB9XG4gIHJldHVybiBmb250RmFtaWxpZXM7XG59XG5cbmV4cG9ydCB7IGV4dHJhY3RGb250RmFtaWxpZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4dHJhY3RGb250RmFtaWxpZXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgbG9hZEZvbnRBc0Jhc2U2NCB9IGZyb20gJy4vbG9hZEZvbnRBc0Jhc2U2NC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRGb250Q1NTKHN0eWxlLCB1cmwpIHtcbiAgY29uc3QgZGF0YVNyYyA9IGF3YWl0IGxvYWRGb250QXNCYXNlNjQodXJsKTtcbiAgcmV0dXJuIGBAZm9udC1mYWNlIHtcbiAgICAgICAgZm9udC1mYW1pbHk6IFwiJHtzdHlsZS5mb250RmFtaWx5fVwiO1xuICAgICAgICBmb250LXdlaWdodDogJHtzdHlsZS5mb250V2VpZ2h0fTtcbiAgICAgICAgZm9udC1zdHlsZTogJHtzdHlsZS5mb250U3R5bGV9O1xuICAgICAgICBzcmM6IHVybCgnJHtkYXRhU3JjfScpO1xuICAgIH1gO1xufVxuXG5leHBvcnQgeyBsb2FkRm9udENTUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZEZvbnRDU1MubWpzLm1hcFxuIiwiaW1wb3J0IHsgRE9NQWRhcHRlciB9IGZyb20gJy4uLy4uLy4uL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5hc3luYyBmdW5jdGlvbiBsb2FkRm9udEFzQmFzZTY0KHVybCkge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IERPTUFkYXB0ZXIuZ2V0KCkuZmV0Y2godXJsKTtcbiAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgY29uc3QgZGF0YVNyYyA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDtcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgfSk7XG4gIHJldHVybiBkYXRhU3JjO1xufVxuXG5leHBvcnQgeyBsb2FkRm9udEFzQmFzZTY0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkRm9udEFzQmFzZTY0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZ2V0U1ZHVXJsKHRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBmb250Q1NTLCBodG1sVGV4dERhdGEpIHtcbiAgY29uc3QgeyBkb21FbGVtZW50LCBzdHlsZUVsZW1lbnQsIHN2Z1Jvb3QgfSA9IGh0bWxUZXh0RGF0YTtcbiAgZG9tRWxlbWVudC5pbm5lckhUTUwgPSBgPHN0eWxlPiR7c3R5bGUuY3NzU3R5bGV9PC9zdHlsZT48ZGl2IHN0eWxlPSdwYWRkaW5nOjA7Jz4ke3RleHR9PC9kaXY+YDtcbiAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBgdHJhbnNmb3JtOiBzY2FsZSgke3Jlc29sdXRpb259KTt0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDsgZGlzcGxheTogaW5saW5lLWJsb2NrYCk7XG4gIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IGZvbnRDU1M7XG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gaHRtbFRleHREYXRhLmltYWdlO1xuICBzdmdSb290LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHdpZHRoLnRvU3RyaW5nKCkpO1xuICBzdmdSb290LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBoZWlnaHQudG9TdHJpbmcoKSk7XG4gIHJldHVybiBuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKHN2Z1Jvb3QpO1xufVxuXG5leHBvcnQgeyBnZXRTVkdVcmwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFNWR1VybC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGxvYWRTVkdJbWFnZShpbWFnZSwgdXJsLCBkZWxheSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcbiAgICBpZiAoZGVsYXkpIHtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlMikgPT4gc2V0VGltZW91dChyZXNvbHZlMiwgMTAwKSk7XG4gICAgfVxuICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9O1xuICAgIGltYWdlLnNyYyA9IGBkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGY4LCR7ZW5jb2RlVVJJQ29tcG9uZW50KHVybCl9YDtcbiAgICBpbWFnZS5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCI7XG4gIH0pO1xufVxuXG5leHBvcnQgeyBsb2FkU1ZHSW1hZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRTVkdJbWFnZS5tanMubWFwXG4iLCJpbXBvcnQgeyBET01BZGFwdGVyIH0gZnJvbSAnLi4vLi4vZW52aXJvbm1lbnQvYWRhcHRlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGlzU2FmYXJpKCkge1xuICBjb25zdCB7IHVzZXJBZ2VudCB9ID0gRE9NQWRhcHRlci5nZXQoKS5nZXROYXZpZ2F0b3IoKTtcbiAgcmV0dXJuIC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QodXNlckFnZW50KTtcbn1cblxuZXhwb3J0IHsgaXNTYWZhcmkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzU2FmYXJpLm1qcy5tYXBcbiIsImltcG9ydCB7IENhbnZhc1Bvb2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL0NhbnZhc1Bvb2wubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBnZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UoaW1hZ2UsIHJlc29sdXRpb24pIHtcbiAgY29uc3QgY2FudmFzQW5kQ29udGV4dCA9IENhbnZhc1Bvb2wuZ2V0T3B0aW1hbENhbnZhc0FuZENvbnRleHQoXG4gICAgaW1hZ2Uud2lkdGgsXG4gICAgaW1hZ2UuaGVpZ2h0LFxuICAgIHJlc29sdXRpb25cbiAgKTtcbiAgY29uc3QgeyBjb250ZXh0IH0gPSBjYW52YXNBbmRDb250ZXh0O1xuICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTtcbiAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuICByZXR1cm4gY2FudmFzQW5kQ29udGV4dDtcbn1cblxuZXhwb3J0IHsgZ2V0VGVtcG9yYXJ5Q2FudmFzRnJvbUltYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgSFRNTFRleHRQaXBlIH0gZnJvbSAnLi9IVE1MVGV4dFBpcGUubWpzJztcbmltcG9ydCB7IEhUTUxUZXh0U3lzdGVtIH0gZnJvbSAnLi9IVE1MVGV4dFN5c3RlbS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmV4dGVuc2lvbnMuYWRkKEhUTUxUZXh0U3lzdGVtKTtcbmV4dGVuc2lvbnMuYWRkKEhUTUxUZXh0UGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB2YWx1ZXNUb0l0ZXJhdGVGb3JLZXlzID0gW1xuICBcImFsaWduXCIsXG4gIFwiYnJlYWtXb3Jkc1wiLFxuICBcImNzc092ZXJyaWRlc1wiLFxuICBcImZvbnRWYXJpYW50XCIsXG4gIFwiZm9udFdlaWdodFwiLFxuICBcImxlYWRpbmdcIixcbiAgXCJsZXR0ZXJTcGFjaW5nXCIsXG4gIFwibGluZUhlaWdodFwiLFxuICBcInBhZGRpbmdcIixcbiAgXCJ0ZXh0QmFzZWxpbmVcIixcbiAgXCJ0cmltXCIsXG4gIFwid2hpdGVTcGFjZVwiLFxuICBcIndvcmRXcmFwXCIsXG4gIFwid29yZFdyYXBXaWR0aFwiLFxuICBcImZvbnRGYW1pbHlcIixcbiAgXCJmb250U3R5bGVcIixcbiAgXCJmb250U2l6ZVwiXG5dO1xuZnVuY3Rpb24gZ2VuZXJhdGVUZXh0U3R5bGVLZXkoc3R5bGUpIHtcbiAgY29uc3Qga2V5ID0gW107XG4gIGxldCBpbmRleCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzVG9JdGVyYXRlRm9yS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByb3AgPSBgXyR7dmFsdWVzVG9JdGVyYXRlRm9yS2V5c1tpXX1gO1xuICAgIGtleVtpbmRleCsrXSA9IHN0eWxlW3Byb3BdO1xuICB9XG4gIGluZGV4ID0gYWRkRmlsbFN0eWxlS2V5KHN0eWxlLl9maWxsLCBrZXksIGluZGV4KTtcbiAgaW5kZXggPSBhZGRTdG9rZVN0eWxlS2V5KHN0eWxlLl9zdHJva2UsIGtleSwgaW5kZXgpO1xuICBpbmRleCA9IGFkZERyb3BTaGFkb3dLZXkoc3R5bGUuZHJvcFNoYWRvdywga2V5LCBpbmRleCk7XG4gIGluZGV4ID0gYWRkRmlsdGVyc0tleShzdHlsZS5maWx0ZXJzLCBrZXksIGluZGV4KTtcbiAgcmV0dXJuIGtleS5qb2luKFwiLVwiKTtcbn1cbmZ1bmN0aW9uIGFkZEZpbHRlcnNLZXkoZmlsdGVycywga2V5LCBpbmRleCkge1xuICBpZiAoIWZpbHRlcnMpXG4gICAgcmV0dXJuIGluZGV4O1xuICBmb3IgKGNvbnN0IGZpbHRlciBvZiBmaWx0ZXJzKSB7XG4gICAga2V5W2luZGV4KytdID0gZmlsdGVyLnVpZDtcbiAgfVxuICByZXR1cm4gaW5kZXg7XG59XG5mdW5jdGlvbiBhZGRGaWxsU3R5bGVLZXkoZmlsbFN0eWxlLCBrZXksIGluZGV4KSB7XG4gIGlmICghZmlsbFN0eWxlKVxuICAgIHJldHVybiBpbmRleDtcbiAga2V5W2luZGV4KytdID0gZmlsbFN0eWxlLmNvbG9yO1xuICBrZXlbaW5kZXgrK10gPSBmaWxsU3R5bGUuYWxwaGE7XG4gIGtleVtpbmRleCsrXSA9IGZpbGxTdHlsZS5maWxsPy5zdHlsZUtleTtcbiAgcmV0dXJuIGluZGV4O1xufVxuZnVuY3Rpb24gYWRkU3Rva2VTdHlsZUtleShzdHJva2VTdHlsZSwga2V5LCBpbmRleCkge1xuICBpZiAoIXN0cm9rZVN0eWxlKVxuICAgIHJldHVybiBpbmRleDtcbiAgaW5kZXggPSBhZGRGaWxsU3R5bGVLZXkoc3Ryb2tlU3R5bGUsIGtleSwgaW5kZXgpO1xuICBrZXlbaW5kZXgrK10gPSBzdHJva2VTdHlsZS53aWR0aDtcbiAga2V5W2luZGV4KytdID0gc3Ryb2tlU3R5bGUuYWxpZ25tZW50O1xuICBrZXlbaW5kZXgrK10gPSBzdHJva2VTdHlsZS5jYXA7XG4gIGtleVtpbmRleCsrXSA9IHN0cm9rZVN0eWxlLmpvaW47XG4gIGtleVtpbmRleCsrXSA9IHN0cm9rZVN0eWxlLm1pdGVyTGltaXQ7XG4gIHJldHVybiBpbmRleDtcbn1cbmZ1bmN0aW9uIGFkZERyb3BTaGFkb3dLZXkoZHJvcFNoYWRvdywga2V5LCBpbmRleCkge1xuICBpZiAoIWRyb3BTaGFkb3cpXG4gICAgcmV0dXJuIGluZGV4O1xuICBrZXlbaW5kZXgrK10gPSBkcm9wU2hhZG93LmFscGhhO1xuICBrZXlbaW5kZXgrK10gPSBkcm9wU2hhZG93LmFuZ2xlO1xuICBrZXlbaW5kZXgrK10gPSBkcm9wU2hhZG93LmJsdXI7XG4gIGtleVtpbmRleCsrXSA9IGRyb3BTaGFkb3cuZGlzdGFuY2U7XG4gIGtleVtpbmRleCsrXSA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShkcm9wU2hhZG93LmNvbG9yKS50b051bWJlcigpO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmV4cG9ydCB7IGdlbmVyYXRlVGV4dFN0eWxlS2V5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZVRleHRTdHlsZUtleS5tanMubWFwXG4iLCJpbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50ZW1pdHRlcjMnO1xuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi9jb2xvci9Db2xvci5tanMnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24sIHY4XzBfMCB9IGZyb20gJy4uLy4uL3V0aWxzL2xvZ2dpbmcvZGVwcmVjYXRpb24ubWpzJztcbmltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi8uLi91dGlscy9sb2dnaW5nL3dhcm4ubWpzJztcbmltcG9ydCB7IEZpbGxHcmFkaWVudCB9IGZyb20gJy4uL2dyYXBoaWNzL3NoYXJlZC9maWxsL0ZpbGxHcmFkaWVudC5tanMnO1xuaW1wb3J0IHsgRmlsbFBhdHRlcm4gfSBmcm9tICcuLi9ncmFwaGljcy9zaGFyZWQvZmlsbC9GaWxsUGF0dGVybi5tanMnO1xuaW1wb3J0IHsgR3JhcGhpY3NDb250ZXh0IH0gZnJvbSAnLi4vZ3JhcGhpY3Mvc2hhcmVkL0dyYXBoaWNzQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgdG9GaWxsU3R5bGUsIHRvU3Ryb2tlU3R5bGUgfSBmcm9tICcuLi9ncmFwaGljcy9zaGFyZWQvdXRpbHMvY29udmVydEZpbGxJbnB1dFRvRmlsbFN0eWxlLm1qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVRleHRTdHlsZUtleSB9IGZyb20gJy4vdXRpbHMvZ2VuZXJhdGVUZXh0U3R5bGVLZXkubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfVGV4dFN0eWxlID0gY2xhc3MgX1RleHRTdHlsZSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKHN0eWxlID0ge30pIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnZlcnRWN1RvdjhTdHlsZShzdHlsZSk7XG4gICAgY29uc3QgZnVsbFN0eWxlID0geyAuLi5fVGV4dFN0eWxlLmRlZmF1bHRUZXh0U3R5bGUsIC4uLnN0eWxlIH07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZnVsbFN0eWxlKSB7XG4gICAgICBjb25zdCB0aGlzS2V5ID0ga2V5O1xuICAgICAgdGhpc1t0aGlzS2V5XSA9IGZ1bGxTdHlsZVtrZXldO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0LCBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dC5cbiAgICogQHR5cGUgeydsZWZ0J3wnY2VudGVyJ3wncmlnaHQnfCdqdXN0aWZ5J31cbiAgICovXG4gIGdldCBhbGlnbigpIHtcbiAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gIH1cbiAgc2V0IGFsaWduKHZhbHVlKSB7XG4gICAgdGhpcy5fYWxpZ24gPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKiBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZS4gKi9cbiAgZ2V0IGJyZWFrV29yZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JyZWFrV29yZHM7XG4gIH1cbiAgc2V0IGJyZWFrV29yZHModmFsdWUpIHtcbiAgICB0aGlzLl9icmVha1dvcmRzID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogU2V0IGEgZHJvcCBzaGFkb3cgZm9yIHRoZSB0ZXh0LiAqL1xuICBnZXQgZHJvcFNoYWRvdygpIHtcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvdztcbiAgfVxuICBzZXQgZHJvcFNoYWRvdyh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHRoaXMuX2Ryb3BTaGFkb3cgPSB0aGlzLl9jcmVhdGVQcm94eSh7IC4uLl9UZXh0U3R5bGUuZGVmYXVsdERyb3BTaGFkb3csIC4uLnZhbHVlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kcm9wU2hhZG93ID0gdmFsdWUgPyB0aGlzLl9jcmVhdGVQcm94eSh7IC4uLl9UZXh0U3R5bGUuZGVmYXVsdERyb3BTaGFkb3cgfSkgOiBudWxsO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKiBUaGUgZm9udCBmYW1pbHksIGNhbiBiZSBhIHNpbmdsZSBmb250IG5hbWUsIG9yIGEgbGlzdCBvZiBuYW1lcyB3aGVyZSB0aGUgZmlyc3QgaXMgdGhlIHByZWZlcnJlZCBmb250LiAqL1xuICBnZXQgZm9udEZhbWlseSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udEZhbWlseTtcbiAgfVxuICBzZXQgZm9udEZhbWlseSh2YWx1ZSkge1xuICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKiBUaGUgZm9udCBzaXplIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLCBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJykgKi9cbiAgZ2V0IGZvbnRTaXplKCkge1xuICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgfVxuICBzZXQgZm9udFNpemUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aGlzLl9mb250U2l6ZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZvbnRTaXplID0gdmFsdWU7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBmb250IHN0eWxlLlxuICAgKiBAdHlwZSB7J25vcm1hbCd8J2l0YWxpYyd8J29ibGlxdWUnfVxuICAgKi9cbiAgZ2V0IGZvbnRTdHlsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udFN0eWxlO1xuICB9XG4gIHNldCBmb250U3R5bGUodmFsdWUpIHtcbiAgICB0aGlzLl9mb250U3R5bGUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBmb250IHZhcmlhbnQuXG4gICAqIEB0eXBlIHsnbm9ybWFsJ3wnc21hbGwtY2Fwcyd9XG4gICAqL1xuICBnZXQgZm9udFZhcmlhbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50O1xuICB9XG4gIHNldCBmb250VmFyaWFudCh2YWx1ZSkge1xuICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKipcbiAgICogVGhlIGZvbnQgd2VpZ2h0LlxuICAgKiBAdHlwZSB7J25vcm1hbCd8J2JvbGQnfCdib2xkZXInfCdsaWdodGVyJ3wnMTAwJ3wnMjAwJ3wnMzAwJ3wnNDAwJ3wnNTAwJ3wnNjAwJ3wnNzAwJ3wnODAwJ3wnOTAwJ31cbiAgICovXG4gIGdldCBmb250V2VpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLl9mb250V2VpZ2h0O1xuICB9XG4gIHNldCBmb250V2VpZ2h0KHZhbHVlKSB7XG4gICAgdGhpcy5fZm9udFdlaWdodCA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzLiAqL1xuICBnZXQgbGVhZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5fbGVhZGluZztcbiAgfVxuICBzZXQgbGVhZGluZyh2YWx1ZSkge1xuICAgIHRoaXMuX2xlYWRpbmcgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKiBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDAuICovXG4gIGdldCBsZXR0ZXJTcGFjaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICB9XG4gIHNldCBsZXR0ZXJTcGFjaW5nKHZhbHVlKSB7XG4gICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXMuICovXG4gIGdldCBsaW5lSGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLl9saW5lSGVpZ2h0O1xuICB9XG4gIHNldCBsaW5lSGVpZ2h0KHZhbHVlKSB7XG4gICAgdGhpcy5fbGluZUhlaWdodCA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nXG4gICAqIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAgICogPiBbIU5PVEVdIFRoaXMgd2lsbCBOT1QgYWZmZWN0IHRoZSBwb3NpdGlvbmluZyBvciBib3VuZHMgb2YgdGhlIHRleHQuXG4gICAqL1xuICBnZXQgcGFkZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFkZGluZztcbiAgfVxuICBzZXQgcGFkZGluZyh2YWx1ZSkge1xuICAgIHRoaXMuX3BhZGRpbmcgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBmaWx0ZXIgb3IgYXJyYXkgb2YgZmlsdGVycyB0byBhcHBseSB0byB0aGUgdGV4dCwgYWxsb3dpbmcgZm9yIGFkdmFuY2VkIHZpc3VhbCBlZmZlY3RzLlxuICAgKiBUaGVzZSBmaWx0ZXJzIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgdGV4dCBhcyBpdCBpcyBjcmVhdGVkLCByZXN1bHRpbmcgaW4gZmFzdGVyIHJlbmRlcmluZyBmb3Igc3RhdGljIHRleHRcbiAgICogY29tcGFyZWQgdG8gYXBwbHlpbmcgdGhlIGZpbHRlciBkaXJlY3RseSB0byB0aGUgdGV4dCBvYmplY3QgKHdoaWNoIHdvdWxkIGJlIGFwcGxpZWQgYXQgcnVuIHRpbWUpLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBnZXQgZmlsdGVycygpIHtcbiAgICByZXR1cm4gdGhpcy5fZmlsdGVycztcbiAgfVxuICBzZXQgZmlsdGVycyh2YWx1ZSkge1xuICAgIHRoaXMuX2ZpbHRlcnMgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnMgZnJvbSB0aGUgdGV4dCB0ZXh0dXJlLlxuICAgKiA+IFshSU1QT1JUQU5UXSBQRVJGT1JNQU5DRSBXQVJOSU5HOlxuICAgKiA+IFRoaXMgaXMgYSBjb3N0bHkgb3BlcmF0aW9uIGFzIGl0IHJlcXVpcmVzIHNjYW5uaW5nIHBpeGVsIGFscGhhIHZhbHVlcy5cbiAgICogPiBBdm9pZCB1c2luZyBgdHJpbTogdHJ1ZWAgZm9yIGR5bmFtaWMgdGV4dCwgYXMgaXQgY291bGQgc2lnbmlmaWNhbnRseSBpbXBhY3QgcGVyZm9ybWFuY2UuXG4gICAqL1xuICBnZXQgdHJpbSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdHJpbTtcbiAgfVxuICBzZXQgdHJpbSh2YWx1ZSkge1xuICAgIHRoaXMuX3RyaW0gPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgYmFzZWxpbmUgb2YgdGhlIHRleHQgdGhhdCBpcyByZW5kZXJlZC5cbiAgICogQHR5cGUgeydhbHBoYWJldGljJ3wndG9wJ3wnaGFuZ2luZyd8J21pZGRsZSd8J2lkZW9ncmFwaGljJ3wnYm90dG9tJ31cbiAgICovXG4gIGdldCB0ZXh0QmFzZWxpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RleHRCYXNlbGluZTtcbiAgfVxuICBzZXQgdGV4dEJhc2VsaW5lKHZhbHVlKSB7XG4gICAgdGhpcy5fdGV4dEJhc2VsaW5lID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKipcbiAgICogSG93IG5ld2xpbmVzIGFuZCBzcGFjZXMgc2hvdWxkIGJlIGhhbmRsZWQuXG4gICAqIERlZmF1bHQgaXMgJ3ByZScgKHByZXNlcnZlLCBwcmVzZXJ2ZSkuXG4gICAqXG4gICAqICB2YWx1ZSAgICAgICB8IE5ldyBsaW5lcyAgICAgfCAgIFNwYWNlc1xuICAgKiAgLS0tICAgICAgICAgfCAtLS0gICAgICAgICAgIHwgICAtLS1cbiAgICogJ25vcm1hbCcgICAgIHwgQ29sbGFwc2UgICAgICB8ICAgQ29sbGFwc2VcbiAgICogJ3ByZScgICAgICAgIHwgUHJlc2VydmUgICAgICB8ICAgUHJlc2VydmVcbiAgICogJ3ByZS1saW5lJyAgIHwgUHJlc2VydmUgICAgICB8ICAgQ29sbGFwc2VcbiAgICogQHR5cGUgeydub3JtYWwnfCdwcmUnfCdwcmUtbGluZSd9XG4gICAqL1xuICBnZXQgd2hpdGVTcGFjZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2hpdGVTcGFjZTtcbiAgfVxuICBzZXQgd2hpdGVTcGFjZSh2YWx1ZSkge1xuICAgIHRoaXMuX3doaXRlU3BhY2UgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKiBJbmRpY2F0ZXMgaWYgd29yZCB3cmFwIHNob3VsZCBiZSB1c2VkLiAqL1xuICBnZXQgd29yZFdyYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwO1xuICB9XG4gIHNldCB3b3JkV3JhcCh2YWx1ZSkge1xuICAgIHRoaXMuX3dvcmRXcmFwID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZS4gKi9cbiAgZ2V0IHdvcmRXcmFwV2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwV2lkdGg7XG4gIH1cbiAgc2V0IHdvcmRXcmFwV2lkdGgodmFsdWUpIHtcbiAgICB0aGlzLl93b3JkV3JhcFdpZHRoID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKipcbiAgICogVGhlIGZpbGwgc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgdG8gY29sb3IgdGhlIHRleHQuXG4gICAqIFRoaXMgY2FuIGJlOlxuICAgKiAtIEEgY29sb3Igc3RyaW5nIGxpa2UgJ3JlZCcsICcjMDBGRjAwJywgb3IgJ3JnYmEoMjU1LDAsMCwwLjUpJ1xuICAgKiAtIEEgaGV4IG51bWJlciBsaWtlIDB4ZmYwMDAwIGZvciByZWRcbiAgICogLSBBIEZpbGxTdHlsZSBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIGxpa2UgeyBjb2xvcjogMHhmZjAwMDAsIGFscGhhOiAwLjUgfVxuICAgKiAtIEEgRmlsbEdyYWRpZW50IGZvciBncmFkaWVudCBmaWxsc1xuICAgKiAtIEEgRmlsbFBhdHRlcm4gZm9yIHBhdHRlcm4vdGV4dHVyZSBmaWxsc1xuICAgKlxuICAgKiBXaGVuIHVzaW5nIGEgRmlsbEdyYWRpZW50LCB2ZXJ0aWNhbCBncmFkaWVudHMgKGFuZ2xlIG9mIDkwIGRlZ3JlZXMpIGFyZSBhcHBsaWVkIHBlciBsaW5lIG9mIHRleHQsXG4gICAqIHdoaWxlIGdyYWRpZW50cyBhdCBhbnkgb3RoZXIgYW5nbGUgYXJlIHNwcmVhZCBhY3Jvc3MgdGhlIGVudGlyZSB0ZXh0IGJvZHkgYXMgYSB3aG9sZS5cbiAgICogQGV4YW1wbGVcbiAgICogLy8gVmVydGljYWwgZ3JhZGllbnQgYXBwbGllZCBwZXIgbGluZVxuICAgKiBjb25zdCB2ZXJ0aWNhbEdyYWRpZW50ID0gbmV3IEZpbGxHcmFkaWVudCgwLCAwLCAwLCAxKVxuICAgKiAgICAgLmFkZENvbG9yU3RvcCgwLCAweGZmMDAwMClcbiAgICogICAgIC5hZGRDb2xvclN0b3AoMSwgMHgwMDAwZmYpO1xuICAgKlxuICAgKiBjb25zdCB0ZXh0ID0gbmV3IFRleHQoe1xuICAgKiAgICAgdGV4dDogJ0xpbmUgMVxcbkxpbmUgMicsXG4gICAqICAgICBzdHlsZTogeyBmaWxsOiB2ZXJ0aWNhbEdyYWRpZW50IH1cbiAgICogfSk7XG4gICAqXG4gICAqIFRvIG1hbmFnZSB0aGUgZ3JhZGllbnQgaW4gYSBnbG9iYWwgc2NvcGUsIHNldCB0aGUgdGV4dHVyZVNwYWNlIHByb3BlcnR5IG9mIHRoZSBGaWxsR3JhZGllbnQgdG8gJ2dsb2JhbCcuXG4gICAqIEB0eXBlIHtzdHJpbmd8bnVtYmVyfEZpbGxTdHlsZXxGaWxsR3JhZGllbnR8RmlsbFBhdHRlcm59XG4gICAqL1xuICBnZXQgZmlsbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JpZ2luYWxGaWxsO1xuICB9XG4gIHNldCBmaWxsKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB0aGlzLl9vcmlnaW5hbEZpbGwpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5fb3JpZ2luYWxGaWxsID0gdmFsdWU7XG4gICAgaWYgKHRoaXMuX2lzRmlsbFN0eWxlKHZhbHVlKSkge1xuICAgICAgdGhpcy5fb3JpZ2luYWxGaWxsID0gdGhpcy5fY3JlYXRlUHJveHkoeyAuLi5HcmFwaGljc0NvbnRleHQuZGVmYXVsdEZpbGxTdHlsZSwgLi4udmFsdWUgfSwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9maWxsID0gdG9GaWxsU3R5bGUoXG4gICAgICAgICAgeyAuLi50aGlzLl9vcmlnaW5hbEZpbGwgfSxcbiAgICAgICAgICBHcmFwaGljc0NvbnRleHQuZGVmYXVsdEZpbGxTdHlsZVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuX2ZpbGwgPSB0b0ZpbGxTdHlsZShcbiAgICAgIHZhbHVlID09PSAwID8gXCJibGFja1wiIDogdmFsdWUsXG4gICAgICBHcmFwaGljc0NvbnRleHQuZGVmYXVsdEZpbGxTdHlsZVxuICAgICk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogQSBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlLCBlLmcuLCAnYmx1ZScsICcjRkNGRjAwJy4gKi9cbiAgZ2V0IHN0cm9rZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JpZ2luYWxTdHJva2U7XG4gIH1cbiAgc2V0IHN0cm9rZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fb3JpZ2luYWxTdHJva2UpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5fb3JpZ2luYWxTdHJva2UgPSB2YWx1ZTtcbiAgICBpZiAodGhpcy5faXNGaWxsU3R5bGUodmFsdWUpKSB7XG4gICAgICB0aGlzLl9vcmlnaW5hbFN0cm9rZSA9IHRoaXMuX2NyZWF0ZVByb3h5KHsgLi4uR3JhcGhpY3NDb250ZXh0LmRlZmF1bHRTdHJva2VTdHlsZSwgLi4udmFsdWUgfSwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9zdHJva2UgPSB0b1N0cm9rZVN0eWxlKFxuICAgICAgICAgIHsgLi4udGhpcy5fb3JpZ2luYWxTdHJva2UgfSxcbiAgICAgICAgICBHcmFwaGljc0NvbnRleHQuZGVmYXVsdFN0cm9rZVN0eWxlXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fc3Ryb2tlID0gdG9TdHJva2VTdHlsZSh2YWx1ZSwgR3JhcGhpY3NDb250ZXh0LmRlZmF1bHRTdHJva2VTdHlsZSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICBfZ2VuZXJhdGVLZXkoKSB7XG4gICAgdGhpcy5fc3R5bGVLZXkgPSBnZW5lcmF0ZVRleHRTdHlsZUtleSh0aGlzKTtcbiAgICByZXR1cm4gdGhpcy5fc3R5bGVLZXk7XG4gIH1cbiAgdXBkYXRlKCkge1xuICAgIHRoaXMuX3N0eWxlS2V5ID0gbnVsbDtcbiAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgdGhpcyk7XG4gIH1cbiAgLyoqIFJlc2V0cyBhbGwgcHJvcGVydGllcyB0byB0aGUgZGVmYXVsdCB2YWx1ZXMgKi9cbiAgcmVzZXQoKSB7XG4gICAgY29uc3QgZGVmYXVsdFN0eWxlID0gX1RleHRTdHlsZS5kZWZhdWx0VGV4dFN0eWxlO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGRlZmF1bHRTdHlsZSkge1xuICAgICAgdGhpc1trZXldID0gZGVmYXVsdFN0eWxlW2tleV07XG4gICAgfVxuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0IHN0eWxlS2V5KCkge1xuICAgIHJldHVybiB0aGlzLl9zdHlsZUtleSB8fCB0aGlzLl9nZW5lcmF0ZUtleSgpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAqIEByZXR1cm5zIE5ldyBjbG9uZWQgVGV4dFN0eWxlIG9iamVjdFxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfVGV4dFN0eWxlKHtcbiAgICAgIGFsaWduOiB0aGlzLmFsaWduLFxuICAgICAgYnJlYWtXb3JkczogdGhpcy5icmVha1dvcmRzLFxuICAgICAgZHJvcFNoYWRvdzogdGhpcy5fZHJvcFNoYWRvdyA/IHsgLi4udGhpcy5fZHJvcFNoYWRvdyB9IDogbnVsbCxcbiAgICAgIGZpbGw6IHRoaXMuX2ZpbGwsXG4gICAgICBmb250RmFtaWx5OiB0aGlzLmZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogdGhpcy5mb250U2l6ZSxcbiAgICAgIGZvbnRTdHlsZTogdGhpcy5mb250U3R5bGUsXG4gICAgICBmb250VmFyaWFudDogdGhpcy5mb250VmFyaWFudCxcbiAgICAgIGZvbnRXZWlnaHQ6IHRoaXMuZm9udFdlaWdodCxcbiAgICAgIGxlYWRpbmc6IHRoaXMubGVhZGluZyxcbiAgICAgIGxldHRlclNwYWNpbmc6IHRoaXMubGV0dGVyU3BhY2luZyxcbiAgICAgIGxpbmVIZWlnaHQ6IHRoaXMubGluZUhlaWdodCxcbiAgICAgIHBhZGRpbmc6IHRoaXMucGFkZGluZyxcbiAgICAgIHN0cm9rZTogdGhpcy5fc3Ryb2tlLFxuICAgICAgdGV4dEJhc2VsaW5lOiB0aGlzLnRleHRCYXNlbGluZSxcbiAgICAgIHdoaXRlU3BhY2U6IHRoaXMud2hpdGVTcGFjZSxcbiAgICAgIHdvcmRXcmFwOiB0aGlzLndvcmRXcmFwLFxuICAgICAgd29yZFdyYXBXaWR0aDogdGhpcy53b3JkV3JhcFdpZHRoLFxuICAgICAgZmlsdGVyczogdGhpcy5fZmlsdGVycyA/IFsuLi50aGlzLl9maWx0ZXJzXSA6IHZvaWQgMFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBmaW5hbCBwYWRkaW5nIGZvciB0aGUgdGV4dCBzdHlsZSwgdGFraW5nIGludG8gYWNjb3VudCBhbnkgZmlsdGVycyBhcHBsaWVkLlxuICAgKiBVc2VkIGludGVybmFsbHkgZm9yIGNvcnJlY3QgbWVhc3VyZW1lbnRzXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgZmluYWwgcGFkZGluZyBmb3IgdGhlIHRleHQgc3R5bGUuXG4gICAqL1xuICBfZ2V0RmluYWxQYWRkaW5nKCkge1xuICAgIGxldCBmaWx0ZXJQYWRkaW5nID0gMDtcbiAgICBpZiAodGhpcy5fZmlsdGVycykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9maWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZpbHRlclBhZGRpbmcgKz0gdGhpcy5fZmlsdGVyc1tpXS5wYWRkaW5nO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5fcGFkZGluZywgZmlsdGVyUGFkZGluZyk7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoaXMgdGV4dCBzdHlsZS5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICogQGV4YW1wbGVcbiAgICogLy8gRGVzdHJveSB0aGUgdGV4dCBzdHlsZSBhbmQgaXRzIHRleHR1cmVzXG4gICAqIHRleHRTdHlsZS5kZXN0cm95KHsgdGV4dHVyZTogdHJ1ZSwgdGV4dHVyZVNvdXJjZTogdHJ1ZSB9KTtcbiAgICogdGV4dFN0eWxlLmRlc3Ryb3kodHJ1ZSk7XG4gICAqL1xuICBkZXN0cm95KG9wdGlvbnMgPSBmYWxzZSkge1xuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgY29uc3QgZGVzdHJveVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJib29sZWFuXCIgPyBvcHRpb25zIDogb3B0aW9ucz8udGV4dHVyZTtcbiAgICBpZiAoZGVzdHJveVRleHR1cmUpIHtcbiAgICAgIGNvbnN0IGRlc3Ryb3lUZXh0dXJlU291cmNlID0gdHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiID8gb3B0aW9ucyA6IG9wdGlvbnM/LnRleHR1cmVTb3VyY2U7XG4gICAgICBpZiAodGhpcy5fZmlsbD8udGV4dHVyZSkge1xuICAgICAgICB0aGlzLl9maWxsLnRleHR1cmUuZGVzdHJveShkZXN0cm95VGV4dHVyZVNvdXJjZSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fb3JpZ2luYWxGaWxsPy50ZXh0dXJlKSB7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsRmlsbC50ZXh0dXJlLmRlc3Ryb3koZGVzdHJveVRleHR1cmVTb3VyY2UpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX3N0cm9rZT8udGV4dHVyZSkge1xuICAgICAgICB0aGlzLl9zdHJva2UudGV4dHVyZS5kZXN0cm95KGRlc3Ryb3lUZXh0dXJlU291cmNlKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9vcmlnaW5hbFN0cm9rZT8udGV4dHVyZSkge1xuICAgICAgICB0aGlzLl9vcmlnaW5hbFN0cm9rZS50ZXh0dXJlLmRlc3Ryb3koZGVzdHJveVRleHR1cmVTb3VyY2UpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9maWxsID0gbnVsbDtcbiAgICB0aGlzLl9zdHJva2UgPSBudWxsO1xuICAgIHRoaXMuZHJvcFNoYWRvdyA9IG51bGw7XG4gICAgdGhpcy5fb3JpZ2luYWxTdHJva2UgPSBudWxsO1xuICAgIHRoaXMuX29yaWdpbmFsRmlsbCA9IG51bGw7XG4gIH1cbiAgX2NyZWF0ZVByb3h5KHZhbHVlLCBjYikge1xuICAgIHJldHVybiBuZXcgUHJveHkodmFsdWUsIHtcbiAgICAgIHNldDogKHRhcmdldCwgcHJvcGVydHksIG5ld1ZhbHVlKSA9PiB7XG4gICAgICAgIHRhcmdldFtwcm9wZXJ0eV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgY2I/Lihwcm9wZXJ0eSwgbmV3VmFsdWUpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBfaXNGaWxsU3R5bGUodmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlID8/IG51bGwpICE9PSBudWxsICYmICEoQ29sb3IuaXNDb2xvckxpa2UodmFsdWUpIHx8IHZhbHVlIGluc3RhbmNlb2YgRmlsbEdyYWRpZW50IHx8IHZhbHVlIGluc3RhbmNlb2YgRmlsbFBhdHRlcm4pO1xuICB9XG59O1xuLyoqXG4gKiBEZWZhdWx0IGRyb3Agc2hhZG93IHNldHRpbmdzIHVzZWQgd2hlbiBlbmFibGluZyBkcm9wIHNoYWRvd3Mgb24gdGV4dC5cbiAqIFRoZXNlIHZhbHVlcyBhcmUgdXNlZCBhcyB0aGUgYmFzZSBjb25maWd1cmF0aW9uIHdoZW4gZHJvcCBzaGFkb3dzIGFyZSBlbmFibGVkIHdpdGhvdXQgc3BlY2lmaWMgc2V0dGluZ3MuXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIC8vIEN1c3RvbWl6ZSBkZWZhdWx0IHNldHRpbmdzIGdsb2JhbGx5XG4gKiBUZXh0U3R5bGUuZGVmYXVsdERyb3BTaGFkb3cuYWxwaGEgPSAwLjU7ICAgIC8vIDUwJSBvcGFjaXR5IGZvciBhbGwgc2hhZG93c1xuICogVGV4dFN0eWxlLmRlZmF1bHREcm9wU2hhZG93LmJsdXIgPSAyOyAgICAgICAvLyAycHggYmx1ciBmb3IgYWxsIHNoYWRvd3NcbiAqIFRleHRTdHlsZS5kZWZhdWx0RHJvcFNoYWRvdy5jb2xvciA9ICdibHVlJzsgLy8gQmx1ZSBzaGFkb3dzIGJ5IGRlZmF1bHRcbiAqIGBgYFxuICovXG5fVGV4dFN0eWxlLmRlZmF1bHREcm9wU2hhZG93ID0ge1xuICBhbHBoYTogMSxcbiAgYW5nbGU6IE1hdGguUEkgLyA2LFxuICBibHVyOiAwLFxuICBjb2xvcjogXCJibGFja1wiLFxuICBkaXN0YW5jZTogNVxufTtcbi8qKlxuICogRGVmYXVsdCB0ZXh0IHN0eWxlIHNldHRpbmdzIHVzZWQgd2hlbiBjcmVhdGluZyBuZXcgdGV4dCBvYmplY3RzLlxuICogVGhlc2UgdmFsdWVzIHNlcnZlIGFzIHRoZSBiYXNlIGNvbmZpZ3VyYXRpb24gYW5kIGNhbiBiZSBjdXN0b21pemVkIGdsb2JhbGx5LlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiAvLyBDdXN0b21pemUgZGVmYXVsdCB0ZXh0IHN0eWxlIGdsb2JhbGx5XG4gKiBUZXh0U3R5bGUuZGVmYXVsdFRleHRTdHlsZS5mb250U2l6ZSA9IDE2O1xuICogVGV4dFN0eWxlLmRlZmF1bHRUZXh0U3R5bGUuZmlsbCA9IDB4MzMzMzMzO1xuICogVGV4dFN0eWxlLmRlZmF1bHRUZXh0U3R5bGUuZm9udEZhbWlseSA9IFsnQXJpYWwnLCAnSGVsdmV0aWNhJywgJ3NhbnMtc2VyaWYnXTtcbiAqIGBgYFxuICovXG5fVGV4dFN0eWxlLmRlZmF1bHRUZXh0U3R5bGUgPSB7XG4gIGFsaWduOiBcImxlZnRcIixcbiAgYnJlYWtXb3JkczogZmFsc2UsXG4gIGRyb3BTaGFkb3c6IG51bGwsXG4gIGZpbGw6IFwiYmxhY2tcIixcbiAgZm9udEZhbWlseTogXCJBcmlhbFwiLFxuICBmb250U2l6ZTogMjYsXG4gIGZvbnRTdHlsZTogXCJub3JtYWxcIixcbiAgZm9udFZhcmlhbnQ6IFwibm9ybWFsXCIsXG4gIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gIGxlYWRpbmc6IDAsXG4gIGxldHRlclNwYWNpbmc6IDAsXG4gIGxpbmVIZWlnaHQ6IDAsXG4gIHBhZGRpbmc6IDAsXG4gIHN0cm9rZTogbnVsbCxcbiAgdGV4dEJhc2VsaW5lOiBcImFscGhhYmV0aWNcIixcbiAgdHJpbTogZmFsc2UsXG4gIHdoaXRlU3BhY2U6IFwicHJlXCIsXG4gIHdvcmRXcmFwOiBmYWxzZSxcbiAgd29yZFdyYXBXaWR0aDogMTAwXG59O1xubGV0IFRleHRTdHlsZSA9IF9UZXh0U3R5bGU7XG5mdW5jdGlvbiBjb252ZXJ0VjdUb3Y4U3R5bGUoc3R5bGUpIHtcbiAgY29uc3Qgb2xkU3R5bGUgPSBzdHlsZTtcbiAgaWYgKHR5cGVvZiBvbGRTdHlsZS5kcm9wU2hhZG93ID09PSBcImJvb2xlYW5cIiAmJiBvbGRTdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgY29uc3QgZGVmYXVsdHMgPSBUZXh0U3R5bGUuZGVmYXVsdERyb3BTaGFkb3c7XG4gICAgc3R5bGUuZHJvcFNoYWRvdyA9IHtcbiAgICAgIGFscGhhOiBvbGRTdHlsZS5kcm9wU2hhZG93QWxwaGEgPz8gZGVmYXVsdHMuYWxwaGEsXG4gICAgICBhbmdsZTogb2xkU3R5bGUuZHJvcFNoYWRvd0FuZ2xlID8/IGRlZmF1bHRzLmFuZ2xlLFxuICAgICAgYmx1cjogb2xkU3R5bGUuZHJvcFNoYWRvd0JsdXIgPz8gZGVmYXVsdHMuYmx1cixcbiAgICAgIGNvbG9yOiBvbGRTdHlsZS5kcm9wU2hhZG93Q29sb3IgPz8gZGVmYXVsdHMuY29sb3IsXG4gICAgICBkaXN0YW5jZTogb2xkU3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlID8/IGRlZmF1bHRzLmRpc3RhbmNlXG4gICAgfTtcbiAgfVxuICBpZiAob2xkU3R5bGUuc3Ryb2tlVGhpY2tuZXNzICE9PSB2b2lkIDApIHtcbiAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwic3Ryb2tlVGhpY2tuZXNzIGlzIG5vdyBhIHBhcnQgb2Ygc3Ryb2tlXCIpO1xuICAgIGNvbnN0IGNvbG9yID0gb2xkU3R5bGUuc3Ryb2tlO1xuICAgIGxldCBvYmogPSB7fTtcbiAgICBpZiAoQ29sb3IuaXNDb2xvckxpa2UoY29sb3IpKSB7XG4gICAgICBvYmouY29sb3IgPSBjb2xvcjtcbiAgICB9IGVsc2UgaWYgKGNvbG9yIGluc3RhbmNlb2YgRmlsbEdyYWRpZW50IHx8IGNvbG9yIGluc3RhbmNlb2YgRmlsbFBhdHRlcm4pIHtcbiAgICAgIG9iai5maWxsID0gY29sb3I7XG4gICAgfSBlbHNlIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChjb2xvciwgXCJjb2xvclwiKSB8fCBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChjb2xvciwgXCJmaWxsXCIpKSB7XG4gICAgICBvYmogPSBjb2xvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJva2UgdmFsdWUuXCIpO1xuICAgIH1cbiAgICBzdHlsZS5zdHJva2UgPSB7XG4gICAgICAuLi5vYmosXG4gICAgICB3aWR0aDogb2xkU3R5bGUuc3Ryb2tlVGhpY2tuZXNzXG4gICAgfTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShvbGRTdHlsZS5maWxsR3JhZGllbnRTdG9wcykpIHtcbiAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiZ3JhZGllbnQgZmlsbCBpcyBub3cgYSBmaWxsIHBhdHRlcm46IGBuZXcgRmlsbEdyYWRpZW50KC4uLilgXCIpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShvbGRTdHlsZS5maWxsKSB8fCBvbGRTdHlsZS5maWxsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBmaWxsIHZhbHVlLiBFeHBlY3RlZCBhbiBhcnJheSBvZiBjb2xvcnMgZm9yIGdyYWRpZW50IGZpbGwuXCIpO1xuICAgIH1cbiAgICBpZiAob2xkU3R5bGUuZmlsbC5sZW5ndGggIT09IG9sZFN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLmxlbmd0aCkge1xuICAgICAgd2FybihcIlRoZSBudW1iZXIgb2YgZmlsbCBjb2xvcnMgbXVzdCBtYXRjaCB0aGUgbnVtYmVyIG9mIGZpbGwgZ3JhZGllbnQgc3RvcHMuXCIpO1xuICAgIH1cbiAgICBjb25zdCBncmFkaWVudEZpbGwgPSBuZXcgRmlsbEdyYWRpZW50KHtcbiAgICAgIHN0YXJ0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgIGVuZDogeyB4OiAwLCB5OiAxIH0sXG4gICAgICB0ZXh0dXJlU3BhY2U6IFwibG9jYWxcIlxuICAgIH0pO1xuICAgIGNvbnN0IGZpbGxHcmFkaWVudFN0b3BzID0gb2xkU3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcbiAgICBjb25zdCBmaWxscyA9IG9sZFN0eWxlLmZpbGwubWFwKChjb2xvcikgPT4gQ29sb3Iuc2hhcmVkLnNldFZhbHVlKGNvbG9yKS50b051bWJlcigpKTtcbiAgICBmaWxsR3JhZGllbnRTdG9wcy5mb3JFYWNoKChzdG9wLCBpbmRleCkgPT4ge1xuICAgICAgZ3JhZGllbnRGaWxsLmFkZENvbG9yU3RvcChzdG9wLCBmaWxsc1tpbmRleF0pO1xuICAgIH0pO1xuICAgIHN0eWxlLmZpbGwgPSB7XG4gICAgICBmaWxsOiBncmFkaWVudEZpbGxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCB7IFRleHRTdHlsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dFN0eWxlLm1qcy5tYXBcbiIsImltcG9ydCB7IERPTUFkYXB0ZXIgfSBmcm9tICcuLi8uLi8uLi9lbnZpcm9ubWVudC9hZGFwdGVyLm1qcyc7XG5pbXBvcnQgeyBmb250U3RyaW5nRnJvbVRleHRTdHlsZSB9IGZyb20gJy4vdXRpbHMvZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBjb250ZXh0U2V0dGluZ3MgPSB7XG4gIC8vIFRleHRNZXRyaWNzIHJlcXVpcmVzIGdldEltYWdlRGF0YSByZWFkYmFjayBmb3IgbWVhc3VyaW5nIGZvbnRzLlxuICB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWVcbn07XG5jb25zdCBfQ2FudmFzVGV4dE1ldHJpY3MgPSBjbGFzcyBfQ2FudmFzVGV4dE1ldHJpY3Mge1xuICAvKipcbiAgICogQ2hlY2tpbmcgdGhhdCB3ZSBjYW4gdXNlIG1vZGVybiBjYW52YXMgMkQgQVBJLlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIGlzIGFuIHVuc3RhYmxlIEFQSSwgQ2hyb21lIDwgOTQgdXNlIGB0ZXh0TGV0dGVyU3BhY2luZ2AsIGxhdGVyIHZlcnNpb25zIHVzZSBgbGV0dGVyU3BhY2luZ2AuXG4gICAqIEBzZWUgVGV4dE1ldHJpY3MuZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZ1xuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2xldHRlclNwYWNpbmdcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL29yaWdpbnRyaWFscy8jL3ZpZXdfdHJpYWwvMzU4NTk5MTIwMzI5Mzc1NzQ0MVxuICAgKi9cbiAgc3RhdGljIGdldCBleHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nU3VwcG9ydGVkKCkge1xuICAgIGxldCByZXN1bHQgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2V4cGVyaW1lbnRhbExldHRlclNwYWNpbmdTdXBwb3J0ZWQ7XG4gICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBwcm90byA9IERPTUFkYXB0ZXIuZ2V0KCkuZ2V0Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKCkucHJvdG90eXBlO1xuICAgICAgcmVzdWx0ID0gX0NhbnZhc1RleHRNZXRyaWNzLl9leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nU3VwcG9ydGVkID0gXCJsZXR0ZXJTcGFjaW5nXCIgaW4gcHJvdG8gfHwgXCJ0ZXh0TGV0dGVyU3BhY2luZ1wiIGluIHByb3RvO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gdGV4dCAtIHRoZSB0ZXh0IHRoYXQgd2FzIG1lYXN1cmVkXG4gICAqIEBwYXJhbSBzdHlsZSAtIHRoZSBzdHlsZSB0aGF0IHdhcyBtZWFzdXJlZFxuICAgKiBAcGFyYW0gd2lkdGggLSB0aGUgbWVhc3VyZWQgd2lkdGggb2YgdGhlIHRleHRcbiAgICogQHBhcmFtIGhlaWdodCAtIHRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICogQHBhcmFtIGxpbmVzIC0gYW4gYXJyYXkgb2YgdGhlIGxpbmVzIG9mIHRleHQgYnJva2VuIGJ5IG5ldyBsaW5lcyBhbmQgd3JhcHBpbmcgaWYgc3BlY2lmaWVkIGluIHN0eWxlXG4gICAqIEBwYXJhbSBsaW5lV2lkdGhzIC0gYW4gYXJyYXkgb2YgdGhlIGxpbmUgd2lkdGhzIGZvciBlYWNoIGxpbmUgbWF0Y2hlZCB0byBgbGluZXNgXG4gICAqIEBwYXJhbSBsaW5lSGVpZ2h0IC0gdGhlIG1lYXN1cmVkIGxpbmUgaGVpZ2h0IGZvciB0aGlzIHN0eWxlXG4gICAqIEBwYXJhbSBtYXhMaW5lV2lkdGggLSB0aGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICogQHBhcmFtIHtGb250TWV0cmljc30gZm9udFByb3BlcnRpZXMgLSB0aGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpIHtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5saW5lcyA9IGxpbmVzO1xuICAgIHRoaXMubGluZVdpZHRocyA9IGxpbmVXaWR0aHM7XG4gICAgdGhpcy5saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICB0aGlzLm1heExpbmVXaWR0aCA9IG1heExpbmVXaWR0aDtcbiAgICB0aGlzLmZvbnRQcm9wZXJ0aWVzID0gZm9udFByb3BlcnRpZXM7XG4gIH1cbiAgLyoqXG4gICAqIE1lYXN1cmVzIHRoZSBzdXBwbGllZCBzdHJpbmcgb2YgdGV4dCBhbmQgcmV0dXJucyBhIFJlY3RhbmdsZS5cbiAgICogQHBhcmFtIHRleHQgLSBUaGUgdGV4dCB0byBtZWFzdXJlLlxuICAgKiBAcGFyYW0gc3R5bGUgLSBUaGUgdGV4dCBzdHlsZSB0byB1c2UgZm9yIG1lYXN1cmluZ1xuICAgKiBAcGFyYW0gY2FudmFzIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICAgKiBAcGFyYW0gd29yZFdyYXBcbiAgICogQHJldHVybnMgTWVhc3VyZWQgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgdGV4dC5cbiAgICovXG4gIHN0YXRpYyBtZWFzdXJlVGV4dCh0ZXh0ID0gXCIgXCIsIHN0eWxlLCBjYW52YXMgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2NhbnZhcywgd29yZFdyYXAgPSBzdHlsZS53b3JkV3JhcCkge1xuICAgIGNvbnN0IGZvbnQgPSBmb250U3RyaW5nRnJvbVRleHRTdHlsZShzdHlsZSk7XG4gICAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBfQ2FudmFzVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgaWYgKGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID09PSAwKSB7XG4gICAgICBmb250UHJvcGVydGllcy5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgZm9udFByb3BlcnRpZXMuYXNjZW50ID0gc3R5bGUuZm9udFNpemU7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX19jb250ZXh0O1xuICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgY29uc3Qgb3V0cHV0VGV4dCA9IHdvcmRXcmFwID8gX0NhbnZhc1RleHRNZXRyaWNzLl93b3JkV3JhcCh0ZXh0LCBzdHlsZSwgY2FudmFzKSA6IHRleHQ7XG4gICAgY29uc3QgbGluZXMgPSBvdXRwdXRUZXh0LnNwbGl0KC8oPzpcXHJcXG58XFxyfFxcbikvKTtcbiAgICBjb25zdCBsaW5lV2lkdGhzID0gbmV3IEFycmF5KGxpbmVzLmxlbmd0aCk7XG4gICAgbGV0IG1heExpbmVXaWR0aCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbGluZVdpZHRoID0gX0NhbnZhc1RleHRNZXRyaWNzLl9tZWFzdXJlVGV4dChsaW5lc1tpXSwgc3R5bGUubGV0dGVyU3BhY2luZywgY29udGV4dCk7XG4gICAgICBsaW5lV2lkdGhzW2ldID0gbGluZVdpZHRoO1xuICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgIH1cbiAgICBjb25zdCBzdHJva2VXaWR0aCA9IHN0eWxlLl9zdHJva2U/LndpZHRoIHx8IDA7XG4gICAgbGV0IHdpZHRoID0gbWF4TGluZVdpZHRoICsgc3Ryb2tlV2lkdGg7XG4gICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3cuZGlzdGFuY2U7XG4gICAgfVxuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0IHx8IGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplO1xuICAgIGxldCBoZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0cm9rZVdpZHRoKSArIChsaW5lcy5sZW5ndGggLSAxKSAqIChsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZyk7XG4gICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgIGhlaWdodCArPSBzdHlsZS5kcm9wU2hhZG93LmRpc3RhbmNlO1xuICAgIH1cbiAgICBjb25zdCBtZWFzdXJlbWVudHMgPSBuZXcgX0NhbnZhc1RleHRNZXRyaWNzKFxuICAgICAgdGV4dCxcbiAgICAgIHN0eWxlLFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICBsaW5lcyxcbiAgICAgIGxpbmVXaWR0aHMsXG4gICAgICBsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZyxcbiAgICAgIG1heExpbmVXaWR0aCxcbiAgICAgIGZvbnRQcm9wZXJ0aWVzXG4gICAgKTtcbiAgICByZXR1cm4gbWVhc3VyZW1lbnRzO1xuICB9XG4gIHN0YXRpYyBfbWVhc3VyZVRleHQodGV4dCwgbGV0dGVyU3BhY2luZywgY29udGV4dCkge1xuICAgIGxldCB1c2VFeHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nID0gZmFsc2U7XG4gICAgaWYgKF9DYW52YXNUZXh0TWV0cmljcy5leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nU3VwcG9ydGVkKSB7XG4gICAgICBpZiAoX0NhbnZhc1RleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcpIHtcbiAgICAgICAgY29udGV4dC5sZXR0ZXJTcGFjaW5nID0gYCR7bGV0dGVyU3BhY2luZ31weGA7XG4gICAgICAgIGNvbnRleHQudGV4dExldHRlclNwYWNpbmcgPSBgJHtsZXR0ZXJTcGFjaW5nfXB4YDtcbiAgICAgICAgdXNlRXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LmxldHRlclNwYWNpbmcgPSBcIjBweFwiO1xuICAgICAgICBjb250ZXh0LnRleHRMZXR0ZXJTcGFjaW5nID0gXCIwcHhcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGV4dCk7XG4gICAgbGV0IG1ldHJpY1dpZHRoID0gbWV0cmljcy53aWR0aDtcbiAgICBjb25zdCBhY3R1YWxCb3VuZGluZ0JveExlZnQgPSAtbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQ7XG4gICAgY29uc3QgYWN0dWFsQm91bmRpbmdCb3hSaWdodCA9IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodDtcbiAgICBsZXQgYm91bmRzV2lkdGggPSBhY3R1YWxCb3VuZGluZ0JveFJpZ2h0IC0gYWN0dWFsQm91bmRpbmdCb3hMZWZ0O1xuICAgIGlmIChtZXRyaWNXaWR0aCA+IDApIHtcbiAgICAgIGlmICh1c2VFeHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgIG1ldHJpY1dpZHRoIC09IGxldHRlclNwYWNpbmc7XG4gICAgICAgIGJvdW5kc1dpZHRoIC09IGxldHRlclNwYWNpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB2YWwgPSAoX0NhbnZhc1RleHRNZXRyaWNzLmdyYXBoZW1lU2VnbWVudGVyKHRleHQpLmxlbmd0aCAtIDEpICogbGV0dGVyU3BhY2luZztcbiAgICAgICAgbWV0cmljV2lkdGggKz0gdmFsO1xuICAgICAgICBib3VuZHNXaWR0aCArPSB2YWw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1heChtZXRyaWNXaWR0aCwgYm91bmRzV2lkdGgpO1xuICB9XG4gIC8qKlxuICAgKiBBcHBsaWVzIG5ld2xpbmVzIHRvIGEgc3RyaW5nIHRvIGhhdmUgaXQgb3B0aW1hbGx5IGZpdCBpbnRvIHRoZSBob3Jpem9udGFsXG4gICAqIGJvdW5kcyBzZXQgYnkgdGhlIFRleHQgb2JqZWN0J3Mgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eS5cbiAgICogQHBhcmFtIHRleHQgLSBTdHJpbmcgdG8gYXBwbHkgd29yZCB3cmFwcGluZyB0b1xuICAgKiBAcGFyYW0gc3R5bGUgLSB0aGUgc3R5bGUgdG8gdXNlIHdoZW4gd3JhcHBpbmdcbiAgICogQHBhcmFtIGNhbnZhcyAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICogQHJldHVybnMgTmV3IHN0cmluZyB3aXRoIG5ldyBsaW5lcyBhcHBsaWVkIHdoZXJlIHJlcXVpcmVkXG4gICAqL1xuICBzdGF0aWMgX3dvcmRXcmFwKHRleHQsIHN0eWxlLCBjYW52YXMgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2NhbnZhcykge1xuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIsIGNvbnRleHRTZXR0aW5ncyk7XG4gICAgbGV0IHdpZHRoID0gMDtcbiAgICBsZXQgbGluZSA9IFwiXCI7XG4gICAgbGV0IGxpbmVzID0gXCJcIjtcbiAgICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGNvbnN0IHsgbGV0dGVyU3BhY2luZywgd2hpdGVTcGFjZSB9ID0gc3R5bGU7XG4gICAgY29uc3QgY29sbGFwc2VTcGFjZXMgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2NvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpO1xuICAgIGNvbnN0IGNvbGxhcHNlTmV3bGluZXMgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2NvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG4gICAgbGV0IGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG4gICAgY29uc3Qgd29yZFdyYXBXaWR0aCA9IHN0eWxlLndvcmRXcmFwV2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgIGNvbnN0IHRva2VucyA9IF9DYW52YXNUZXh0TWV0cmljcy5fdG9rZW5pemUodGV4dCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgIGlmIChfQ2FudmFzVGV4dE1ldHJpY3MuX2lzTmV3bGluZSh0b2tlbikpIHtcbiAgICAgICAgaWYgKCFjb2xsYXBzZU5ld2xpbmVzKSB7XG4gICAgICAgICAgbGluZXMgKz0gX0NhbnZhc1RleHRNZXRyaWNzLl9hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG4gICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRva2VuID0gXCIgXCI7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGFwc2VTcGFjZXMpIHtcbiAgICAgICAgY29uc3QgY3VycklzQnJlYWtpbmdTcGFjZSA9IF9DYW52YXNUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pO1xuICAgICAgICBjb25zdCBsYXN0SXNCcmVha2luZ1NwYWNlID0gX0NhbnZhc1RleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShsaW5lW2xpbmUubGVuZ3RoIC0gMV0pO1xuICAgICAgICBpZiAoY3VycklzQnJlYWtpbmdTcGFjZSAmJiBsYXN0SXNCcmVha2luZ1NwYWNlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHRva2VuV2lkdGggPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2dldEZyb21DYWNoZSh0b2tlbiwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuICAgICAgaWYgKHRva2VuV2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgIGlmIChsaW5lICE9PSBcIlwiKSB7XG4gICAgICAgICAgbGluZXMgKz0gX0NhbnZhc1RleHRNZXRyaWNzLl9hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgIGxpbmUgPSBcIlwiO1xuICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX0NhbnZhc1RleHRNZXRyaWNzLmNhbkJyZWFrV29yZHModG9rZW4sIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgY29uc3QgY2hhcmFjdGVycyA9IF9DYW52YXNUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0KHRva2VuKTtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoYXJhY3RlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGxldCBjaGFyID0gY2hhcmFjdGVyc1tqXTtcbiAgICAgICAgICAgIGxldCBsYXN0Q2hhciA9IGNoYXI7XG4gICAgICAgICAgICBsZXQgayA9IDE7XG4gICAgICAgICAgICB3aGlsZSAoY2hhcmFjdGVyc1tqICsga10pIHtcbiAgICAgICAgICAgICAgY29uc3QgbmV4dENoYXIgPSBjaGFyYWN0ZXJzW2ogKyBrXTtcbiAgICAgICAgICAgICAgaWYgKCFfQ2FudmFzVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyhsYXN0Q2hhciwgbmV4dENoYXIsIHRva2VuLCBqLCBzdHlsZS5icmVha1dvcmRzKSkge1xuICAgICAgICAgICAgICAgIGNoYXIgKz0gbmV4dENoYXI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGFzdENoYXIgPSBuZXh0Q2hhcjtcbiAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaiArPSBrIC0gMTtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcldpZHRoID0gX0NhbnZhc1RleHRNZXRyaWNzLl9nZXRGcm9tQ2FjaGUoY2hhciwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgaWYgKGNoYXJhY3RlcldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgIGxpbmVzICs9IF9DYW52YXNUZXh0TWV0cmljcy5fYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICBsaW5lID0gXCJcIjtcbiAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZSArPSBjaGFyO1xuICAgICAgICAgICAgd2lkdGggKz0gY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxpbmVzICs9IF9DYW52YXNUZXh0TWV0cmljcy5fYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgIGxpbmUgPSBcIlwiO1xuICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpc0xhc3RUb2tlbiA9IGkgPT09IHRva2Vucy5sZW5ndGggLSAxO1xuICAgICAgICAgIGxpbmVzICs9IF9DYW52YXNUZXh0TWV0cmljcy5fYWRkTGluZSh0b2tlbiwgIWlzTGFzdFRva2VuKTtcbiAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodG9rZW5XaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICBsaW5lcyArPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2FkZExpbmUobGluZSk7XG4gICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDAgfHwgIV9DYW52YXNUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pIHx8IGNhblByZXBlbmRTcGFjZXMpIHtcbiAgICAgICAgICBsaW5lICs9IHRva2VuO1xuICAgICAgICAgIHdpZHRoICs9IHRva2VuV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGluZXMgKz0gX0NhbnZhc1RleHRNZXRyaWNzLl9hZGRMaW5lKGxpbmUsIGZhbHNlKTtcbiAgICByZXR1cm4gbGluZXM7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIGZvciBsb2dnaW5nIGVhY2ggbGluZSBhZGRlZCBkdXJpbmcgdGhlIHdvcmRXcmFwIG1ldGhvZC5cbiAgICogQHBhcmFtIGxpbmUgICAgLSBUaGUgbGluZSBvZiB0ZXh0IHRvIGFkZFxuICAgKiBAcGFyYW0gbmV3TGluZSAtIEFkZCBuZXcgbGluZSBjaGFyYWN0ZXIgdG8gZW5kXG4gICAqIEByZXR1cm5zIEEgZm9ybWF0dGVkIGxpbmVcbiAgICovXG4gIHN0YXRpYyBfYWRkTGluZShsaW5lLCBuZXdMaW5lID0gdHJ1ZSkge1xuICAgIGxpbmUgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX3RyaW1SaWdodChsaW5lKTtcbiAgICBsaW5lID0gbmV3TGluZSA/IGAke2xpbmV9XG5gIDogbGluZTtcbiAgICByZXR1cm4gbGluZTtcbiAgfVxuICAvKipcbiAgICogR2V0cyAmIHNldHMgdGhlIHdpZHRocyBvZiBjYWxjdWxhdGVkIGNoYXJhY3RlcnMgaW4gYSBjYWNoZSBvYmplY3RcbiAgICogQHBhcmFtIGtleSAgICAgICAgICAgIC0gVGhlIGtleVxuICAgKiBAcGFyYW0gbGV0dGVyU3BhY2luZyAgLSBUaGUgbGV0dGVyIHNwYWNpbmdcbiAgICogQHBhcmFtIGNhY2hlICAgICAgICAgIC0gVGhlIGNhY2hlXG4gICAqIEBwYXJhbSBjb250ZXh0ICAgICAgICAtIFRoZSBjYW52YXMgY29udGV4dFxuICAgKiBAcmV0dXJucyBUaGUgZnJvbSBjYWNoZS5cbiAgICovXG4gIHN0YXRpYyBfZ2V0RnJvbUNhY2hlKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpIHtcbiAgICBsZXQgd2lkdGggPSBjYWNoZVtrZXldO1xuICAgIGlmICh0eXBlb2Ygd2lkdGggIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHdpZHRoID0gX0NhbnZhc1RleHRNZXRyaWNzLl9tZWFzdXJlVGV4dChrZXksIGxldHRlclNwYWNpbmcsIGNvbnRleHQpICsgbGV0dGVyU3BhY2luZztcbiAgICAgIGNhY2hlW2tleV0gPSB3aWR0aDtcbiAgICB9XG4gICAgcmV0dXJuIHdpZHRoO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIGJyZWFraW5nIHNwYWNlcy5cbiAgICogQHBhcmFtIHdoaXRlU3BhY2UgLSBUaGUgVGV4dFN0eWxlIHByb3BlcnR5IHdoaXRlU3BhY2VcbiAgICogQHJldHVybnMgU2hvdWxkIGNvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgX2NvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpIHtcbiAgICByZXR1cm4gd2hpdGVTcGFjZSA9PT0gXCJub3JtYWxcIiB8fCB3aGl0ZVNwYWNlID09PSBcInByZS1saW5lXCI7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgbmV3TGluZSBjaGFycy5cbiAgICogQHBhcmFtIHdoaXRlU3BhY2UgLSBUaGUgd2hpdGUgc3BhY2VcbiAgICogQHJldHVybnMgc2hvdWxkIGNvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgX2NvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSkge1xuICAgIHJldHVybiB3aGl0ZVNwYWNlID09PSBcIm5vcm1hbFwiO1xuICB9XG4gIC8qKlxuICAgKiBUcmltcyBicmVha2luZyB3aGl0ZXNwYWNlcyBmcm9tIHN0cmluZy5cbiAgICogQHBhcmFtIHRleHQgLSBUaGUgdGV4dFxuICAgKiBAcmV0dXJucyBUcmltbWVkIHN0cmluZ1xuICAgKi9cbiAgc3RhdGljIF90cmltUmlnaHQodGV4dCkge1xuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSB0ZXh0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBjaGFyID0gdGV4dFtpXTtcbiAgICAgIGlmICghX0NhbnZhc1RleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIG5ld2xpbmUuXG4gICAqIEBwYXJhbSBjaGFyIC0gVGhlIGNoYXJhY3RlclxuICAgKiBAcmV0dXJucyBUcnVlIGlmIG5ld2xpbmUsIEZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIHN0YXRpYyBfaXNOZXdsaW5lKGNoYXIpIHtcbiAgICBpZiAodHlwZW9mIGNoYXIgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIF9DYW52YXNUZXh0TWV0cmljcy5fbmV3bGluZXMuaW5jbHVkZXMoY2hhci5jaGFyQ29kZUF0KDApKTtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgYnJlYWtpbmcgd2hpdGVzcGFjZS5cbiAgICpcbiAgICogSXQgYWxsb3dzIG9uZSB0byBkZXRlcm1pbmUgd2hldGhlciBjaGFyIHNob3VsZCBiZSBhIGJyZWFraW5nIHdoaXRlc3BhY2VcbiAgICogRm9yIGV4YW1wbGUgY2VydGFpbiBjaGFyYWN0ZXJzIGluIENKSyBsYW5ncyBvciBudW1iZXJzLlxuICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAqIEBwYXJhbSBjaGFyIC0gVGhlIGNoYXJhY3RlclxuICAgKiBAcGFyYW0gW19uZXh0Q2hhcl0gLSBUaGUgbmV4dCBjaGFyYWN0ZXJcbiAgICogQHJldHVybnMgVHJ1ZSBpZiB3aGl0ZXNwYWNlLCBGYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBzdGF0aWMgaXNCcmVha2luZ1NwYWNlKGNoYXIsIF9uZXh0Q2hhcikge1xuICAgIGlmICh0eXBlb2YgY2hhciAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gX0NhbnZhc1RleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcy5pbmNsdWRlcyhjaGFyLmNoYXJDb2RlQXQoMCkpO1xuICB9XG4gIC8qKlxuICAgKiBTcGxpdHMgYSBzdHJpbmcgaW50byB3b3JkcywgYnJlYWtpbmctc3BhY2VzIGFuZCBuZXdMaW5lIGNoYXJhY3RlcnNcbiAgICogQHBhcmFtIHRleHQgLSBUaGUgdGV4dFxuICAgKiBAcmV0dXJucyBBIHRva2VuaXplZCBhcnJheVxuICAgKi9cbiAgc3RhdGljIF90b2tlbml6ZSh0ZXh0KSB7XG4gICAgY29uc3QgdG9rZW5zID0gW107XG4gICAgbGV0IHRva2VuID0gXCJcIjtcbiAgICBpZiAodHlwZW9mIHRleHQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hhciA9IHRleHRbaV07XG4gICAgICBjb25zdCBuZXh0Q2hhciA9IHRleHRbaSArIDFdO1xuICAgICAgaWYgKF9DYW52YXNUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhciwgbmV4dENoYXIpIHx8IF9DYW52YXNUZXh0TWV0cmljcy5faXNOZXdsaW5lKGNoYXIpKSB7XG4gICAgICAgIGlmICh0b2tlbiAhPT0gXCJcIikge1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICB0b2tlbiA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXIgPT09IFwiXFxyXCIgJiYgbmV4dENoYXIgPT09IFwiXFxuXCIpIHtcbiAgICAgICAgICB0b2tlbnMucHVzaChcIlxcclxcblwiKTtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9rZW5zLnB1c2goY2hhcik7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0b2tlbiArPSBjaGFyO1xuICAgIH1cbiAgICBpZiAodG9rZW4gIT09IFwiXCIpIHtcbiAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICB9XG4gICAgcmV0dXJuIHRva2VucztcbiAgfVxuICAvKipcbiAgICogT3ZlcnJpZGFibGUgaGVscGVyIG1ldGhvZCB1c2VkIGludGVybmFsbHkgYnkgVGV4dE1ldHJpY3MsIGV4cG9zZWQgdG8gYWxsb3cgY3VzdG9taXppbmcgdGhlIGNsYXNzJ3MgYmVoYXZpb3IuXG4gICAqXG4gICAqIEl0IGFsbG93cyBvbmUgdG8gY3VzdG9taXNlIHdoaWNoIHdvcmRzIHNob3VsZCBicmVha1xuICAgKiBFeGFtcGxlcyBhcmUgaWYgdGhlIHRva2VuIGlzIENKSyBvciBudW1iZXJzLlxuICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAqIEBwYXJhbSBfdG9rZW4gLSBUaGUgdG9rZW5cbiAgICogQHBhcmFtIGJyZWFrV29yZHMgLSBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICAgKiBAcmV0dXJucyBXaGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAqL1xuICBzdGF0aWMgY2FuQnJlYWtXb3JkcyhfdG9rZW4sIGJyZWFrV29yZHMpIHtcbiAgICByZXR1cm4gYnJlYWtXb3JkcztcbiAgfVxuICAvKipcbiAgICogT3ZlcnJpZGFibGUgaGVscGVyIG1ldGhvZCB1c2VkIGludGVybmFsbHkgYnkgVGV4dE1ldHJpY3MsIGV4cG9zZWQgdG8gYWxsb3cgY3VzdG9taXppbmcgdGhlIGNsYXNzJ3MgYmVoYXZpb3IuXG4gICAqXG4gICAqIEl0IGFsbG93cyBvbmUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWlyIG9mIGNoYXJhY3RlcnNcbiAgICogc2hvdWxkIGJlIGJyb2tlbiBieSBuZXdsaW5lc1xuICAgKiBGb3IgZXhhbXBsZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gQ0pLIGxhbmdzIG9yIG51bWJlcnMuXG4gICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICogQHBhcmFtIF9jaGFyIC0gVGhlIGNoYXJhY3RlclxuICAgKiBAcGFyYW0gX25leHRDaGFyIC0gVGhlIG5leHQgY2hhcmFjdGVyXG4gICAqIEBwYXJhbSBfdG9rZW4gLSBUaGUgdG9rZW4vd29yZCB0aGUgY2hhcmFjdGVycyBhcmUgZnJvbVxuICAgKiBAcGFyYW0gX2luZGV4IC0gVGhlIGluZGV4IGluIHRoZSB0b2tlbiBvZiB0aGUgY2hhclxuICAgKiBAcGFyYW0gX2JyZWFrV29yZHMgLSBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICAgKiBAcmV0dXJucyB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAqL1xuICBzdGF0aWMgY2FuQnJlYWtDaGFycyhfY2hhciwgX25leHRDaGFyLCBfdG9rZW4sIF9pbmRleCwgX2JyZWFrV29yZHMpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogT3ZlcnJpZGFibGUgaGVscGVyIG1ldGhvZCB1c2VkIGludGVybmFsbHkgYnkgVGV4dE1ldHJpY3MsIGV4cG9zZWQgdG8gYWxsb3cgY3VzdG9taXppbmcgdGhlIGNsYXNzJ3MgYmVoYXZpb3IuXG4gICAqXG4gICAqIEl0IGlzIGNhbGxlZCB3aGVuIGEgdG9rZW4gKHVzdWFsbHkgYSB3b3JkKSBoYXMgdG8gYmUgc3BsaXQgaW50byBzZXBhcmF0ZSBwaWVjZXNcbiAgICogaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIHRoZSBwb2ludCB0byBicmVhayBhIHdvcmQuXG4gICAqIEl0IG11c3QgcmV0dXJuIGFuIGFycmF5IG9mIGNoYXJhY3RlcnMuXG4gICAqIEBwYXJhbSB0b2tlbiAtIFRoZSB0b2tlbiB0byBzcGxpdFxuICAgKiBAcmV0dXJucyBUaGUgY2hhcmFjdGVycyBvZiB0aGUgdG9rZW5cbiAgICogQHNlZSBDYW52YXNUZXh0TWV0cmljcy5ncmFwaGVtZVNlZ21lbnRlclxuICAgKi9cbiAgc3RhdGljIHdvcmRXcmFwU3BsaXQodG9rZW4pIHtcbiAgICByZXR1cm4gX0NhbnZhc1RleHRNZXRyaWNzLmdyYXBoZW1lU2VnbWVudGVyKHRva2VuKTtcbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnQtc3R5bGVcbiAgICogQHBhcmFtIGZvbnQgLSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzdHlsZSBvZiB0aGUgZm9udFxuICAgKiBAcmV0dXJucyBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gICAqL1xuICBzdGF0aWMgbWVhc3VyZUZvbnQoZm9udCkge1xuICAgIGlmIChfQ2FudmFzVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdKSB7XG4gICAgICByZXR1cm4gX0NhbnZhc1RleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9IF9DYW52YXNUZXh0TWV0cmljcy5fY29udGV4dDtcbiAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgIGNvbnN0IG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KF9DYW52YXNUZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyArIF9DYW52YXNUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wpO1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7XG4gICAgICBhc2NlbnQ6IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQsXG4gICAgICBkZXNjZW50OiBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94RGVzY2VudCxcbiAgICAgIGZvbnRTaXplOiBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnRcbiAgICB9O1xuICAgIF9DYW52YXNUZXh0TWV0cmljcy5fZm9udHNbZm9udF0gPSBwcm9wZXJ0aWVzO1xuICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBmb250IG1ldHJpY3MgaW4gbWV0cmljcyBjYWNoZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb250XSAtIGZvbnQgbmFtZS4gSWYgZm9udCBuYW1lIG5vdCBzZXQgdGhlbiBjbGVhciBjYWNoZSBmb3IgYWxsIGZvbnRzLlxuICAgKi9cbiAgc3RhdGljIGNsZWFyTWV0cmljcyhmb250ID0gXCJcIikge1xuICAgIGlmIChmb250KSB7XG4gICAgICBkZWxldGUgX0NhbnZhc1RleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICB9IGVsc2Uge1xuICAgICAgX0NhbnZhc1RleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FjaGVkIGNhbnZhcyBlbGVtZW50IGZvciBtZWFzdXJpbmcgdGV4dFxuICAgKiBUT0RPOiB0aGlzIHNob3VsZCBiZSBwcml2YXRlLCBidXQgaXNuJ3QgYmVjYXVzZSBvZiBiYWNrd2FyZCBjb21wYXQsIHdpbGwgZml4IGxhdGVyLlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBzdGF0aWMgZ2V0IF9jYW52YXMoKSB7XG4gICAgaWYgKCFfQ2FudmFzVGV4dE1ldHJpY3MuX19jYW52YXMpIHtcbiAgICAgIGxldCBjYW52YXM7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjID0gbmV3IE9mZnNjcmVlbkNhbnZhcygwLCAwKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGMuZ2V0Q29udGV4dChcIjJkXCIsIGNvbnRleHRTZXR0aW5ncyk7XG4gICAgICAgIGlmIChjb250ZXh0Py5tZWFzdXJlVGV4dCkge1xuICAgICAgICAgIF9DYW52YXNUZXh0TWV0cmljcy5fX2NhbnZhcyA9IGM7XG4gICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH1cbiAgICAgICAgY2FudmFzID0gRE9NQWRhcHRlci5nZXQoKS5jcmVhdGVDYW52YXMoKTtcbiAgICAgIH0gY2F0Y2ggKF9jeCkge1xuICAgICAgICBjYW52YXMgPSBET01BZGFwdGVyLmdldCgpLmNyZWF0ZUNhbnZhcygpO1xuICAgICAgfVxuICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IDEwO1xuICAgICAgX0NhbnZhc1RleHRNZXRyaWNzLl9fY2FudmFzID0gY2FudmFzO1xuICAgIH1cbiAgICByZXR1cm4gX0NhbnZhc1RleHRNZXRyaWNzLl9fY2FudmFzO1xuICB9XG4gIC8qKlxuICAgKiBUT0RPOiB0aGlzIHNob3VsZCBiZSBwcml2YXRlLCBidXQgaXNuJ3QgYmVjYXVzZSBvZiBiYWNrd2FyZCBjb21wYXQsIHdpbGwgZml4IGxhdGVyLlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBzdGF0aWMgZ2V0IF9jb250ZXh0KCkge1xuICAgIGlmICghX0NhbnZhc1RleHRNZXRyaWNzLl9fY29udGV4dCkge1xuICAgICAgX0NhbnZhc1RleHRNZXRyaWNzLl9fY29udGV4dCA9IF9DYW52YXNUZXh0TWV0cmljcy5fY2FudmFzLmdldENvbnRleHQoXCIyZFwiLCBjb250ZXh0U2V0dGluZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gX0NhbnZhc1RleHRNZXRyaWNzLl9fY29udGV4dDtcbiAgfVxufTtcbi8qKlxuICogU3RyaW5nIHVzZWQgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKiBUaGVzZSBjaGFyYWN0ZXJzIGFyZSBhbGwgdGFsbCB0byBoZWxwIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IHJlcXVpcmVkIGZvciB0ZXh0LlxuICovXG5fQ2FudmFzVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgPSBcInxcXHhDOXFcXHhDNVwiO1xuLyoqIEJhc2VsaW5lIHN5bWJvbCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy4gKi9cbl9DYW52YXNUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wgPSBcIk1cIjtcbi8qKiBCYXNlbGluZSBtdWx0aXBsaWVyIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLiAqL1xuX0NhbnZhc1RleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgPSAxLjQ7XG4vKiogSGVpZ2h0IG11bHRpcGxpZXIgZm9yIHNldHRpbmcgaGVpZ2h0IG9mIGNhbnZhcyB0byBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLiAqL1xuX0NhbnZhc1RleHRNZXRyaWNzLkhFSUdIVF9NVUxUSVBMSUVSID0gMjtcbi8qKlxuICogQSBVbmljb2RlIFwiY2hhcmFjdGVyXCIsIG9yIFwiZ3JhcGhlbWUgY2x1c3RlclwiLCBjYW4gYmUgY29tcG9zZWQgb2YgbXVsdGlwbGUgVW5pY29kZSBjb2RlIHBvaW50cyxcbiAqIHN1Y2ggYXMgbGV0dGVycyB3aXRoIGRpYWNyaXRpY2FsIG1hcmtzIChlLmcuIGAnXFx1MDA2NVxcdTAzMDEnYCwgbGV0dGVyIGUgd2l0aCBhY3V0ZSlcbiAqIG9yIGVtb2ppcyB3aXRoIG1vZGlmaWVycyAoZS5nLiBgJ1xcdUQ4M0VcXHVEREQxXFx1MjAwRFxcdUQ4M0RcXHVEQ0JCJ2AsIHRlY2hub2xvZ2lzdCkuXG4gKiBUaGUgbmV3IGBJbnRsLlNlZ21lbnRlcmAgQVBJIGluIEVTMjAyMiBjYW4gc3BsaXQgdGhlIHN0cmluZyBpbnRvIGdyYXBoZW1lIGNsdXN0ZXJzIGNvcnJlY3RseS4gSWYgaXQgaXMgbm90IGF2YWlsYWJsZSxcbiAqIFBpeGlKUyB3aWxsIGZhbGxiYWNrIHRvIHVzZSB0aGUgaXRlcmF0b3Igb2YgU3RyaW5nLCB3aGljaCBjYW4gb25seSBzcGlsdCB0aGUgc3RyaW5nIGludG8gY29kZSBwb2ludHMuXG4gKiBJZiB5b3Ugd2FudCB0byBnZXQgZnVsbCBmdW5jdGlvbmFsaXR5IGluIGVudmlyb25tZW50cyB0aGF0IGRvbid0IHN1cHBvcnQgYEludGwuU2VnbWVudGVyYCAoc3VjaCBhcyBGaXJlZm94KSxcbiAqIHlvdSBjYW4gdXNlIG90aGVyIGxpYnJhcmllcyBzdWNoIGFzIFtncmFwaGVtZS1zcGxpdHRlcl17QGxpbmsgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvZ3JhcGhlbWUtc3BsaXR0ZXJ9XG4gKiBvciBbZ3JhcGhlbWVyXXtAbGluayBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9ncmFwaGVtZXJ9IHRvIGNyZWF0ZSBhIHBvbHlmaWxsLiBTaW5jZSB0aGVzZSBsaWJyYXJpZXMgY2FuIGJlXG4gKiByZWxhdGl2ZWx5IGxhcmdlIGluIHNpemUgdG8gaGFuZGxlIHZhcmlvdXMgVW5pY29kZSBncmFwaGVtZSBjbHVzdGVycyBwcm9wZXJseSwgUGl4aUpTIHdvbid0IHVzZSB0aGVtIGRpcmVjdGx5LlxuICovXG5fQ2FudmFzVGV4dE1ldHJpY3MuZ3JhcGhlbWVTZWdtZW50ZXIgPSAoKCkgPT4ge1xuICBpZiAodHlwZW9mIEludGw/LlNlZ21lbnRlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgY29uc3Qgc2VnbWVudGVyID0gbmV3IEludGwuU2VnbWVudGVyKCk7XG4gICAgcmV0dXJuIChzKSA9PiB7XG4gICAgICBjb25zdCBzZWdtZW50cyA9IHNlZ21lbnRlci5zZWdtZW50KHMpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgcmVzdWx0W2krK10gPSBzZWdtZW50LnNlZ21lbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIChzKSA9PiBbLi4uc107XG59KSgpO1xuLyoqXG4gKiBOZXcgcmVuZGVyaW5nIGJlaGF2aW9yIGZvciBsZXR0ZXItc3BhY2luZyB3aGljaCB1c2VzIENocm9tZSdzIG5ldyBuYXRpdmUgQVBJLiBUaGlzIHdpbGxcbiAqIGxlYWQgdG8gbW9yZSBhY2N1cmF0ZSBsZXR0ZXItc3BhY2luZyByZXN1bHRzIGJlY2F1c2UgaXQgZG9lcyBub3QgdHJ5IHRvIG1hbnVhbGx5IGRyYXdcbiAqIGVhY2ggY2hhcmFjdGVyLiBIb3dldmVyLCB0aGlzIENocm9tZSBBUEkgaXMgZXhwZXJpbWVudGFsIGFuZCBtYXkgbm90IHNlcnZlIGFsbCBjYXNlcyB5ZXQuXG4gKiBAc2VlIFRleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmdTdXBwb3J0ZWRcbiAqL1xuX0NhbnZhc1RleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcgPSBmYWxzZTtcbi8qKiBDYWNoZSBvZiB7QGxpbmsgVGV4dE1ldHJpY3MuRm9udE1ldHJpY3N9IG9iamVjdHMuICovXG5fQ2FudmFzVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG4vKiogQ2FjaGUgb2YgbmV3IGxpbmUgY2hhcnMuICovXG5fQ2FudmFzVGV4dE1ldHJpY3MuX25ld2xpbmVzID0gW1xuICAxMCxcbiAgLy8gbGluZSBmZWVkXG4gIDEzXG4gIC8vIGNhcnJpYWdlIHJldHVyblxuXTtcbi8qKiBDYWNoZSBvZiBicmVha2luZyBzcGFjZXMuICovXG5fQ2FudmFzVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzID0gW1xuICA5LFxuICAvLyBjaGFyYWN0ZXIgdGFidWxhdGlvblxuICAzMixcbiAgLy8gc3BhY2VcbiAgODE5MixcbiAgLy8gZW4gcXVhZFxuICA4MTkzLFxuICAvLyBlbSBxdWFkXG4gIDgxOTQsXG4gIC8vIGVuIHNwYWNlXG4gIDgxOTUsXG4gIC8vIGVtIHNwYWNlXG4gIDgxOTYsXG4gIC8vIHRocmVlLXBlci1lbSBzcGFjZVxuICA4MTk3LFxuICAvLyBmb3VyLXBlci1lbSBzcGFjZVxuICA4MTk4LFxuICAvLyBzaXgtcGVyLWVtIHNwYWNlXG4gIDgyMDAsXG4gIC8vIHB1bmN0dWF0aW9uIHNwYWNlXG4gIDgyMDEsXG4gIC8vIHRoaW4gc3BhY2VcbiAgODIwMixcbiAgLy8gaGFpciBzcGFjZVxuICA4Mjg3LFxuICAvLyBtZWRpdW0gbWF0aGVtYXRpY2FsIHNwYWNlXG4gIDEyMjg4XG4gIC8vIGlkZW9ncmFwaGljIHNwYWNlXG5dO1xubGV0IENhbnZhc1RleHRNZXRyaWNzID0gX0NhbnZhc1RleHRNZXRyaWNzO1xuXG5leHBvcnQgeyBDYW52YXNUZXh0TWV0cmljcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzVGV4dE1ldHJpY3MubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBnZW5lcmljRm9udEZhbWlsaWVzID0gW1xuICBcInNlcmlmXCIsXG4gIFwic2Fucy1zZXJpZlwiLFxuICBcIm1vbm9zcGFjZVwiLFxuICBcImN1cnNpdmVcIixcbiAgXCJmYW50YXN5XCIsXG4gIFwic3lzdGVtLXVpXCJcbl07XG5mdW5jdGlvbiBmb250U3RyaW5nRnJvbVRleHRTdHlsZShzdHlsZSkge1xuICBjb25zdCBmb250U2l6ZVN0cmluZyA9IHR5cGVvZiBzdHlsZS5mb250U2l6ZSA9PT0gXCJudW1iZXJcIiA/IGAke3N0eWxlLmZvbnRTaXplfXB4YCA6IHN0eWxlLmZvbnRTaXplO1xuICBsZXQgZm9udEZhbWlsaWVzID0gc3R5bGUuZm9udEZhbWlseTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHN0eWxlLmZvbnRGYW1pbHkpKSB7XG4gICAgZm9udEZhbWlsaWVzID0gc3R5bGUuZm9udEZhbWlseS5zcGxpdChcIixcIik7XG4gIH1cbiAgZm9yIChsZXQgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGxldCBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcbiAgICBpZiAoIS8oW1xcXCJcXCddKVteXFwnXFxcIl0rXFwxLy50ZXN0KGZvbnRGYW1pbHkpICYmICFnZW5lcmljRm9udEZhbWlsaWVzLmluY2x1ZGVzKGZvbnRGYW1pbHkpKSB7XG4gICAgICBmb250RmFtaWx5ID0gYFwiJHtmb250RmFtaWx5fVwiYDtcbiAgICB9XG4gICAgZm9udEZhbWlsaWVzW2ldID0gZm9udEZhbWlseTtcbiAgfVxuICByZXR1cm4gYCR7c3R5bGUuZm9udFN0eWxlfSAke3N0eWxlLmZvbnRWYXJpYW50fSAke3N0eWxlLmZvbnRXZWlnaHR9ICR7Zm9udFNpemVTdHJpbmd9ICR7Zm9udEZhbWlsaWVzLmpvaW4oXCIsXCIpfWA7XG59XG5cbmV4cG9ydCB7IGZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb250U3RyaW5nRnJvbVRleHRTdHlsZS5tanMubWFwXG4iLCJpbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbG9yL0NvbG9yLm1qcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5pbXBvcnQgeyBGaWxsR3JhZGllbnQgfSBmcm9tICcuLi8uLi8uLi9ncmFwaGljcy9zaGFyZWQvZmlsbC9GaWxsR3JhZGllbnQubWpzJztcbmltcG9ydCB7IEZpbGxQYXR0ZXJuIH0gZnJvbSAnLi4vLi4vLi4vZ3JhcGhpY3Mvc2hhcmVkL2ZpbGwvRmlsbFBhdHRlcm4ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBQUkVDSVNJT04gPSAxZTU7XG5mdW5jdGlvbiBnZXRDYW52YXNGaWxsU3R5bGUoZmlsbFN0eWxlLCBjb250ZXh0LCB0ZXh0TWV0cmljcywgcGFkZGluZyA9IDApIHtcbiAgaWYgKGZpbGxTdHlsZS50ZXh0dXJlID09PSBUZXh0dXJlLldISVRFICYmICFmaWxsU3R5bGUuZmlsbCkge1xuICAgIHJldHVybiBDb2xvci5zaGFyZWQuc2V0VmFsdWUoZmlsbFN0eWxlLmNvbG9yKS5zZXRBbHBoYShmaWxsU3R5bGUuYWxwaGEgPz8gMSkudG9IZXhhKCk7XG4gIH0gZWxzZSBpZiAoIWZpbGxTdHlsZS5maWxsKSB7XG4gICAgY29uc3QgcGF0dGVybiA9IGNvbnRleHQuY3JlYXRlUGF0dGVybihmaWxsU3R5bGUudGV4dHVyZS5zb3VyY2UucmVzb3VyY2UsIFwicmVwZWF0XCIpO1xuICAgIGNvbnN0IHRlbXBNYXRyaXggPSBmaWxsU3R5bGUubWF0cml4LmNvcHlUbyhNYXRyaXguc2hhcmVkKTtcbiAgICB0ZW1wTWF0cml4LnNjYWxlKGZpbGxTdHlsZS50ZXh0dXJlLmZyYW1lLndpZHRoLCBmaWxsU3R5bGUudGV4dHVyZS5mcmFtZS5oZWlnaHQpO1xuICAgIHBhdHRlcm4uc2V0VHJhbnNmb3JtKHRlbXBNYXRyaXgpO1xuICAgIHJldHVybiBwYXR0ZXJuO1xuICB9IGVsc2UgaWYgKGZpbGxTdHlsZS5maWxsIGluc3RhbmNlb2YgRmlsbFBhdHRlcm4pIHtcbiAgICBjb25zdCBmaWxsUGF0dGVybiA9IGZpbGxTdHlsZS5maWxsO1xuICAgIGNvbnN0IHBhdHRlcm4gPSBjb250ZXh0LmNyZWF0ZVBhdHRlcm4oZmlsbFBhdHRlcm4udGV4dHVyZS5zb3VyY2UucmVzb3VyY2UsIFwicmVwZWF0XCIpO1xuICAgIGNvbnN0IHRlbXBNYXRyaXggPSBmaWxsUGF0dGVybi50cmFuc2Zvcm0uY29weVRvKE1hdHJpeC5zaGFyZWQpO1xuICAgIHRlbXBNYXRyaXguc2NhbGUoXG4gICAgICBmaWxsUGF0dGVybi50ZXh0dXJlLmZyYW1lLndpZHRoLFxuICAgICAgZmlsbFBhdHRlcm4udGV4dHVyZS5mcmFtZS5oZWlnaHRcbiAgICApO1xuICAgIHBhdHRlcm4uc2V0VHJhbnNmb3JtKHRlbXBNYXRyaXgpO1xuICAgIHJldHVybiBwYXR0ZXJuO1xuICB9IGVsc2UgaWYgKGZpbGxTdHlsZS5maWxsIGluc3RhbmNlb2YgRmlsbEdyYWRpZW50KSB7XG4gICAgY29uc3QgZmlsbEdyYWRpZW50ID0gZmlsbFN0eWxlLmZpbGw7XG4gICAgY29uc3QgaXNMaW5lYXIgPSBmaWxsR3JhZGllbnQudHlwZSA9PT0gXCJsaW5lYXJcIjtcbiAgICBjb25zdCBpc0xvY2FsID0gZmlsbEdyYWRpZW50LnRleHR1cmVTcGFjZSA9PT0gXCJsb2NhbFwiO1xuICAgIGxldCB3aWR0aCA9IDE7XG4gICAgbGV0IGhlaWdodCA9IDE7XG4gICAgaWYgKGlzTG9jYWwgJiYgdGV4dE1ldHJpY3MpIHtcbiAgICAgIHdpZHRoID0gdGV4dE1ldHJpY3Mud2lkdGggKyBwYWRkaW5nO1xuICAgICAgaGVpZ2h0ID0gdGV4dE1ldHJpY3MuaGVpZ2h0ICsgcGFkZGluZztcbiAgICB9XG4gICAgbGV0IGdyYWRpZW50O1xuICAgIGxldCBpc05lYXJseVZlcnRpY2FsID0gZmFsc2U7XG4gICAgaWYgKGlzTGluZWFyKSB7XG4gICAgICBjb25zdCB7IHN0YXJ0LCBlbmQgfSA9IGZpbGxHcmFkaWVudDtcbiAgICAgIGdyYWRpZW50ID0gY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudChcbiAgICAgICAgc3RhcnQueCAqIHdpZHRoLFxuICAgICAgICBzdGFydC55ICogaGVpZ2h0LFxuICAgICAgICBlbmQueCAqIHdpZHRoLFxuICAgICAgICBlbmQueSAqIGhlaWdodFxuICAgICAgKTtcbiAgICAgIGlzTmVhcmx5VmVydGljYWwgPSBNYXRoLmFicyhlbmQueCAtIHN0YXJ0LngpIDwgTWF0aC5hYnMoKGVuZC55IC0gc3RhcnQueSkgKiAwLjEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7IGNlbnRlciwgaW5uZXJSYWRpdXMsIG91dGVyQ2VudGVyLCBvdXRlclJhZGl1cyB9ID0gZmlsbEdyYWRpZW50O1xuICAgICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZVJhZGlhbEdyYWRpZW50KFxuICAgICAgICBjZW50ZXIueCAqIHdpZHRoLFxuICAgICAgICBjZW50ZXIueSAqIGhlaWdodCxcbiAgICAgICAgaW5uZXJSYWRpdXMgKiB3aWR0aCxcbiAgICAgICAgb3V0ZXJDZW50ZXIueCAqIHdpZHRoLFxuICAgICAgICBvdXRlckNlbnRlci55ICogaGVpZ2h0LFxuICAgICAgICBvdXRlclJhZGl1cyAqIHdpZHRoXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoaXNOZWFybHlWZXJ0aWNhbCAmJiBpc0xvY2FsICYmIHRleHRNZXRyaWNzKSB7XG4gICAgICBjb25zdCByYXRpbyA9IHRleHRNZXRyaWNzLmxpbmVIZWlnaHQgLyBoZWlnaHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHRNZXRyaWNzLmxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gKGkgKiB0ZXh0TWV0cmljcy5saW5lSGVpZ2h0ICsgcGFkZGluZyAvIDIpIC8gaGVpZ2h0O1xuICAgICAgICBmaWxsR3JhZGllbnQuY29sb3JTdG9wcy5mb3JFYWNoKChzdG9wKSA9PiB7XG4gICAgICAgICAgY29uc3QgZ2xvYmFsU3RvcCA9IHN0YXJ0ICsgc3RvcC5vZmZzZXQgKiByYXRpbztcbiAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoXG4gICAgICAgICAgICAvLyBmaXggdG8gNSBkZWNpbWFsIHBsYWNlcyB0byBhdm9pZCBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gaXNzdWVzXG4gICAgICAgICAgICBNYXRoLmZsb29yKGdsb2JhbFN0b3AgKiBQUkVDSVNJT04pIC8gUFJFQ0lTSU9OLFxuICAgICAgICAgICAgQ29sb3Iuc2hhcmVkLnNldFZhbHVlKHN0b3AuY29sb3IpLnRvSGV4KClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZmlsbEdyYWRpZW50LmNvbG9yU3RvcHMuZm9yRWFjaCgoc3RvcCkgPT4ge1xuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcC5vZmZzZXQsIENvbG9yLnNoYXJlZC5zZXRWYWx1ZShzdG9wLmNvbG9yKS50b0hleCgpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZ3JhZGllbnQ7XG4gIH1cbiAgd2FybihcIkZpbGxTdHlsZSBub3QgcmVjb2duaXNlZFwiLCBmaWxsU3R5bGUpO1xuICByZXR1cm4gXCJyZWRcIjtcbn1cblxuZXhwb3J0IHsgZ2V0Q2FudmFzRmlsbFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRDYW52YXNGaWxsU3R5bGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgQmF0Y2hhYmxlU3ByaXRlIH0gZnJvbSAnLi4vLi4vc3ByaXRlL0JhdGNoYWJsZVNwcml0ZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEJhdGNoYWJsZVRleHQgZXh0ZW5kcyBCYXRjaGFibGVTcHJpdGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICByZW5kZXJlci5ydW5uZXJzLnJlc29sdXRpb25DaGFuZ2UuYWRkKHRoaXMpO1xuICB9XG4gIHJlc29sdXRpb25DaGFuZ2UoKSB7XG4gICAgY29uc3QgdGV4dCA9IHRoaXMucmVuZGVyYWJsZTtcbiAgICBpZiAodGV4dC5fYXV0b1Jlc29sdXRpb24pIHtcbiAgICAgIHRleHQub25WaWV3VXBkYXRlKCk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIuY2FudmFzVGV4dC5yZXR1cm5UZXh0dXJlKHRoaXMudGV4dHVyZSk7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IEJhdGNoYWJsZVRleHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoYWJsZVRleHQubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgdXBkYXRlVGV4dEJvdW5kcyB9IGZyb20gJy4uL3V0aWxzL3VwZGF0ZVRleHRCb3VuZHMubWpzJztcbmltcG9ydCB7IEJhdGNoYWJsZVRleHQgfSBmcm9tICcuL0JhdGNoYWJsZVRleHQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBDYW52YXNUZXh0UGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUodGV4dCkge1xuICAgIHJldHVybiB0ZXh0Ll9kaWRUZXh0VXBkYXRlO1xuICB9XG4gIGFkZFJlbmRlcmFibGUodGV4dCwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBiYXRjaGFibGVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dCh0ZXh0KTtcbiAgICBpZiAodGV4dC5fZGlkVGV4dFVwZGF0ZSkge1xuICAgICAgdGhpcy5fdXBkYXRlR3B1VGV4dCh0ZXh0KTtcbiAgICAgIHRleHQuX2RpZFRleHRVcGRhdGUgPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYWRkVG9CYXRjaChiYXRjaGFibGVUZXh0LCBpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZSh0ZXh0KSB7XG4gICAgY29uc3QgYmF0Y2hhYmxlVGV4dCA9IHRoaXMuX2dldEdwdVRleHQodGV4dCk7XG4gICAgYmF0Y2hhYmxlVGV4dC5fYmF0Y2hlci51cGRhdGVFbGVtZW50KGJhdGNoYWJsZVRleHQpO1xuICB9XG4gIF91cGRhdGVHcHVUZXh0KHRleHQpIHtcbiAgICBjb25zdCBiYXRjaGFibGVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dCh0ZXh0KTtcbiAgICBpZiAoYmF0Y2hhYmxlVGV4dC50ZXh0dXJlKSB7XG4gICAgICB0aGlzLl9yZW5kZXJlci5jYW52YXNUZXh0LnJldHVyblRleHR1cmUoYmF0Y2hhYmxlVGV4dC50ZXh0dXJlKTtcbiAgICB9XG4gICAgdGV4dC5fcmVzb2x1dGlvbiA9IHRleHQuX2F1dG9SZXNvbHV0aW9uID8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbiA6IHRleHQucmVzb2x1dGlvbjtcbiAgICBiYXRjaGFibGVUZXh0LnRleHR1cmUgPSB0aGlzLl9yZW5kZXJlci5jYW52YXNUZXh0LmdldFRleHR1cmUodGV4dCk7XG4gICAgdXBkYXRlVGV4dEJvdW5kcyhiYXRjaGFibGVUZXh0LCB0ZXh0KTtcbiAgfVxuICBfZ2V0R3B1VGV4dCh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQuX2dwdURhdGFbdGhpcy5fcmVuZGVyZXIudWlkXSB8fCB0aGlzLmluaXRHcHVUZXh0KHRleHQpO1xuICB9XG4gIGluaXRHcHVUZXh0KHRleHQpIHtcbiAgICBjb25zdCBiYXRjaGFibGVUZXh0ID0gbmV3IEJhdGNoYWJsZVRleHQodGhpcy5fcmVuZGVyZXIpO1xuICAgIGJhdGNoYWJsZVRleHQucmVuZGVyYWJsZSA9IHRleHQ7XG4gICAgYmF0Y2hhYmxlVGV4dC50cmFuc2Zvcm0gPSB0ZXh0Lmdyb3VwVHJhbnNmb3JtO1xuICAgIGJhdGNoYWJsZVRleHQuYm91bmRzID0geyBtaW5YOiAwLCBtYXhYOiAxLCBtaW5ZOiAwLCBtYXhZOiAwIH07XG4gICAgYmF0Y2hhYmxlVGV4dC5yb3VuZFBpeGVscyA9IHRoaXMuX3JlbmRlcmVyLl9yb3VuZFBpeGVscyB8IHRleHQuX3JvdW5kUGl4ZWxzO1xuICAgIHRleHQuX2dwdURhdGFbdGhpcy5fcmVuZGVyZXIudWlkXSA9IGJhdGNoYWJsZVRleHQ7XG4gICAgcmV0dXJuIGJhdGNoYWJsZVRleHQ7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5DYW52YXNUZXh0UGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwidGV4dFwiXG59O1xuXG5leHBvcnQgeyBDYW52YXNUZXh0UGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzVGV4dFBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRE9NQWRhcHRlciB9IGZyb20gJy4uLy4uL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzJztcbmltcG9ydCB7IG5leHRQb3cyIH0gZnJvbSAnLi4vLi4vbWF0aHMvbWlzYy9wb3cyLm1qcyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICcuLi8uLi9tYXRocy9zaGFwZXMvUmVjdGFuZ2xlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xubGV0IF9pbnRlcm5hbENhbnZhcyA9IG51bGw7XG5sZXQgX2ludGVybmFsQ29udGV4dCA9IG51bGw7XG5mdW5jdGlvbiBlbnN1cmVJbnRlcm5hbENhbnZhcyh3aWR0aCwgaGVpZ2h0KSB7XG4gIGlmICghX2ludGVybmFsQ2FudmFzKSB7XG4gICAgX2ludGVybmFsQ2FudmFzID0gRE9NQWRhcHRlci5nZXQoKS5jcmVhdGVDYW52YXMoMjU2LCAxMjgpO1xuICAgIF9pbnRlcm5hbENvbnRleHQgPSBfaW50ZXJuYWxDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIsIHsgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlIH0pO1xuICAgIF9pbnRlcm5hbENvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJjb3B5XCI7XG4gICAgX2ludGVybmFsQ29udGV4dC5nbG9iYWxBbHBoYSA9IDE7XG4gIH1cbiAgaWYgKF9pbnRlcm5hbENhbnZhcy53aWR0aCA8IHdpZHRoIHx8IF9pbnRlcm5hbENhbnZhcy5oZWlnaHQgPCBoZWlnaHQpIHtcbiAgICBfaW50ZXJuYWxDYW52YXMud2lkdGggPSBuZXh0UG93Mih3aWR0aCk7XG4gICAgX2ludGVybmFsQ2FudmFzLmhlaWdodCA9IG5leHRQb3cyKGhlaWdodCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNoZWNrUm93KGRhdGEsIHdpZHRoLCB5KSB7XG4gIGZvciAobGV0IHggPSAwLCBpbmRleCA9IDQgKiB5ICogd2lkdGg7IHggPCB3aWR0aDsgKyt4LCBpbmRleCArPSA0KSB7XG4gICAgaWYgKGRhdGFbaW5kZXggKyAzXSAhPT0gMClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGNoZWNrQ29sdW1uKGRhdGEsIHdpZHRoLCB4LCB0b3AsIGJvdHRvbSkge1xuICBjb25zdCBzdHJpZGUgPSA0ICogd2lkdGg7XG4gIGZvciAobGV0IHkgPSB0b3AsIGluZGV4ID0gdG9wICogc3RyaWRlICsgNCAqIHg7IHkgPD0gYm90dG9tOyArK3ksIGluZGV4ICs9IHN0cmlkZSkge1xuICAgIGlmIChkYXRhW2luZGV4ICsgM10gIT09IDApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBnZXRDYW52YXNCb3VuZGluZ0JveCguLi5hcmdzKSB7XG4gIGxldCBvcHRpb25zID0gYXJnc1swXTtcbiAgaWYgKCFvcHRpb25zLmNhbnZhcykge1xuICAgIG9wdGlvbnMgPSB7IGNhbnZhczogYXJnc1swXSwgcmVzb2x1dGlvbjogYXJnc1sxXSB9O1xuICB9XG4gIGNvbnN0IHsgY2FudmFzIH0gPSBvcHRpb25zO1xuICBjb25zdCByZXNvbHV0aW9uID0gTWF0aC5taW4ob3B0aW9ucy5yZXNvbHV0aW9uID8/IDEsIDEpO1xuICBjb25zdCB3aWR0aCA9IG9wdGlvbnMud2lkdGggPz8gY2FudmFzLndpZHRoO1xuICBjb25zdCBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCA/PyBjYW52YXMuaGVpZ2h0O1xuICBsZXQgb3V0cHV0ID0gb3B0aW9ucy5vdXRwdXQ7XG4gIGVuc3VyZUludGVybmFsQ2FudmFzKHdpZHRoLCBoZWlnaHQpO1xuICBpZiAoIV9pbnRlcm5hbENvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGdldCBjYW52YXMgMkQgY29udGV4dFwiKTtcbiAgfVxuICBfaW50ZXJuYWxDb250ZXh0LmRyYXdJbWFnZShcbiAgICBjYW52YXMsXG4gICAgMCxcbiAgICAwLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICAwLFxuICAgIDAsXG4gICAgd2lkdGggKiByZXNvbHV0aW9uLFxuICAgIGhlaWdodCAqIHJlc29sdXRpb25cbiAgKTtcbiAgY29uc3QgaW1hZ2VEYXRhID0gX2ludGVybmFsQ29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gIGNvbnN0IGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcbiAgbGV0IGxlZnQgPSAwO1xuICBsZXQgdG9wID0gMDtcbiAgbGV0IHJpZ2h0ID0gd2lkdGggLSAxO1xuICBsZXQgYm90dG9tID0gaGVpZ2h0IC0gMTtcbiAgd2hpbGUgKHRvcCA8IGhlaWdodCAmJiBjaGVja1JvdyhkYXRhLCB3aWR0aCwgdG9wKSlcbiAgICArK3RvcDtcbiAgaWYgKHRvcCA9PT0gaGVpZ2h0KVxuICAgIHJldHVybiBSZWN0YW5nbGUuRU1QVFk7XG4gIHdoaWxlIChjaGVja1JvdyhkYXRhLCB3aWR0aCwgYm90dG9tKSlcbiAgICAtLWJvdHRvbTtcbiAgd2hpbGUgKGNoZWNrQ29sdW1uKGRhdGEsIHdpZHRoLCBsZWZ0LCB0b3AsIGJvdHRvbSkpXG4gICAgKytsZWZ0O1xuICB3aGlsZSAoY2hlY2tDb2x1bW4oZGF0YSwgd2lkdGgsIHJpZ2h0LCB0b3AsIGJvdHRvbSkpXG4gICAgLS1yaWdodDtcbiAgKytyaWdodDtcbiAgKytib3R0b207XG4gIF9pbnRlcm5hbENvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xuICBfaW50ZXJuYWxDb250ZXh0LnN0cm9rZVJlY3QobGVmdCwgdG9wLCByaWdodCAtIGxlZnQsIGJvdHRvbSAtIHRvcCk7XG4gIF9pbnRlcm5hbENvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJjb3B5XCI7XG4gIG91dHB1dCA/PyAob3V0cHV0ID0gbmV3IFJlY3RhbmdsZSgpKTtcbiAgb3V0cHV0LnNldChsZWZ0IC8gcmVzb2x1dGlvbiwgdG9wIC8gcmVzb2x1dGlvbiwgKHJpZ2h0IC0gbGVmdCkgLyByZXNvbHV0aW9uLCAoYm90dG9tIC0gdG9wKSAvIHJlc29sdXRpb24pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5leHBvcnQgeyBnZXRDYW52YXNCb3VuZGluZ0JveCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Q2FudmFzQm91bmRpbmdCb3gubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi9jb2xvci9Db2xvci5tanMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnLi4vLi4vLi4vbWF0aHMvc2hhcGVzL1JlY3RhbmdsZS5tanMnO1xuaW1wb3J0IHsgQ2FudmFzUG9vbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvQ2FudmFzUG9vbC5tanMnO1xuaW1wb3J0IHsgZ2V0Q2FudmFzQm91bmRpbmdCb3ggfSBmcm9tICcuLi8uLi8uLi91dGlscy9jYW52YXMvZ2V0Q2FudmFzQm91bmRpbmdCb3gubWpzJztcbmltcG9ydCB7IENhbnZhc1RleHRNZXRyaWNzIH0gZnJvbSAnLi9DYW52YXNUZXh0TWV0cmljcy5tanMnO1xuaW1wb3J0IHsgZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUgfSBmcm9tICcuL3V0aWxzL2ZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlLm1qcyc7XG5pbXBvcnQgeyBnZXRDYW52YXNGaWxsU3R5bGUgfSBmcm9tICcuL3V0aWxzL2dldENhbnZhc0ZpbGxTdHlsZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuY2xhc3MgQ2FudmFzVGV4dEdlbmVyYXRvckNsYXNzIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjYW52YXMgd2l0aCB0aGUgc3BlY2lmaWVkIHRleHQgcmVuZGVyZWQgdG8gaXQuXG4gICAqXG4gICAqIEdlbmVyYXRlcyBhIGNhbnZhcyBvZiBhcHByb3ByaWF0ZSBzaXplLCByZW5kZXJzIHRoZSB0ZXh0IHdpdGggdGhlIHByb3ZpZGVkIHN0eWxlLFxuICAgKiBhbmQgcmV0dXJucyBib3RoIHRoZSBjYW52YXMvY29udGV4dCBhbmQgYSBSZWN0YW5nbGUgcmVwcmVzZW50aW5nIHRoZSB0ZXh0IGJvdW5kcy5cbiAgICpcbiAgICogV2hlbiB0cmltIGlzIGVuYWJsZWQgaW4gdGhlIHN0eWxlLCB0aGUgZnJhbWUgd2lsbCByZXByZXNlbnQgdGhlIGJvdW5kcyBvZiB0aGVcbiAgICogbm9uLXRyYW5zcGFyZW50IHBpeGVscywgd2hpY2ggY2FuIGJlIHNtYWxsZXIgdGhhbiB0aGUgZnVsbCBjYW52YXMuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGdlbmVyYXRpbmcgdGhlIHRleHQgY2FudmFzXG4gICAqIEBwYXJhbSBvcHRpb25zLnRleHQgLSBUaGUgdGV4dCB0byByZW5kZXJcbiAgICogQHBhcmFtIG9wdGlvbnMuc3R5bGUgLSBUaGUgc3R5bGUgdG8gYXBwbHkgdG8gdGhlIHRleHRcbiAgICogQHBhcmFtIG9wdGlvbnMucmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBjYW52YXMgKGRlZmF1bHRzIHRvIDEpXG4gICAqIEBwYXJhbSBvcHRpb25zLnBhZGRpbmdcbiAgICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNhbnZhcy9jb250ZXh0IGFuZCB0aGUgZnJhbWUgKGJvdW5kcykgb2YgdGhlIHRleHRcbiAgICovXG4gIGdldENhbnZhc0FuZENvbnRleHQob3B0aW9ucykge1xuICAgIGNvbnN0IHsgdGV4dCwgc3R5bGUsIHJlc29sdXRpb24gPSAxIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHBhZGRpbmcgPSBzdHlsZS5fZ2V0RmluYWxQYWRkaW5nKCk7XG4gICAgY29uc3QgbWVhc3VyZWQgPSBDYW52YXNUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCh0ZXh0IHx8IFwiIFwiLCBzdHlsZSk7XG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLmNlaWwoTWF0aC5jZWlsKE1hdGgubWF4KDEsIG1lYXN1cmVkLndpZHRoKSArIHBhZGRpbmcgKiAyKSAqIHJlc29sdXRpb24pO1xuICAgIGNvbnN0IGhlaWdodCA9IE1hdGguY2VpbChNYXRoLmNlaWwoTWF0aC5tYXgoMSwgbWVhc3VyZWQuaGVpZ2h0KSArIHBhZGRpbmcgKiAyKSAqIHJlc29sdXRpb24pO1xuICAgIGNvbnN0IGNhbnZhc0FuZENvbnRleHQgPSBDYW52YXNQb29sLmdldE9wdGltYWxDYW52YXNBbmRDb250ZXh0KHdpZHRoLCBoZWlnaHQpO1xuICAgIHRoaXMuX3JlbmRlclRleHRUb0NhbnZhcyh0ZXh0LCBzdHlsZSwgcGFkZGluZywgcmVzb2x1dGlvbiwgY2FudmFzQW5kQ29udGV4dCk7XG4gICAgY29uc3QgZnJhbWUgPSBzdHlsZS50cmltID8gZ2V0Q2FudmFzQm91bmRpbmdCb3goeyBjYW52YXM6IGNhbnZhc0FuZENvbnRleHQuY2FudmFzLCB3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uOiAxLCBvdXRwdXQ6IHRlbXBSZWN0IH0pIDogdGVtcFJlY3Quc2V0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHJldHVybiB7XG4gICAgICBjYW52YXNBbmRDb250ZXh0LFxuICAgICAgZnJhbWVcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgY2FudmFzIGFuZCBjb250ZXh0IHRvIHRoZSBwb29sLlxuICAgKlxuICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgd2hlbiB5b3UncmUgZG9uZSB3aXRoIHRoZSBjYW52YXMgdG8gYWxsb3cgcmV1c2VcbiAgICogYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzLlxuICAgKiBAcGFyYW0gY2FudmFzQW5kQ29udGV4dCAtIFRoZSBjYW52YXMgYW5kIGNvbnRleHQgdG8gcmV0dXJuIHRvIHRoZSBwb29sXG4gICAqL1xuICByZXR1cm5DYW52YXNBbmRDb250ZXh0KGNhbnZhc0FuZENvbnRleHQpIHtcbiAgICBDYW52YXNQb29sLnJldHVybkNhbnZhc0FuZENvbnRleHQoY2FudmFzQW5kQ29udGV4dCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGV4dCB0byBpdHMgY2FudmFzLCBhbmQgdXBkYXRlcyBpdHMgdGV4dHVyZS5cbiAgICogQHBhcmFtIHRleHQgLSBUaGUgdGV4dCB0byByZW5kZXJcbiAgICogQHBhcmFtIHN0eWxlIC0gVGhlIHN0eWxlIG9mIHRoZSB0ZXh0XG4gICAqIEBwYXJhbSBwYWRkaW5nIC0gVGhlIHBhZGRpbmcgb2YgdGhlIHRleHRcbiAgICogQHBhcmFtIHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdGV4dFxuICAgKiBAcGFyYW0gY2FudmFzQW5kQ29udGV4dCAtIFRoZSBjYW52YXMgYW5kIGNvbnRleHQgdG8gcmVuZGVyIHRoZSB0ZXh0IHRvXG4gICAqL1xuICBfcmVuZGVyVGV4dFRvQ2FudmFzKHRleHQsIHN0eWxlLCBwYWRkaW5nLCByZXNvbHV0aW9uLCBjYW52YXNBbmRDb250ZXh0KSB7XG4gICAgY29uc3QgeyBjYW52YXMsIGNvbnRleHQgfSA9IGNhbnZhc0FuZENvbnRleHQ7XG4gICAgY29uc3QgZm9udCA9IGZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlKHN0eWxlKTtcbiAgICBjb25zdCBtZWFzdXJlZCA9IENhbnZhc1RleHRNZXRyaWNzLm1lYXN1cmVUZXh0KHRleHQgfHwgXCIgXCIsIHN0eWxlKTtcbiAgICBjb25zdCBsaW5lcyA9IG1lYXN1cmVkLmxpbmVzO1xuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBtZWFzdXJlZC5saW5lSGVpZ2h0O1xuICAgIGNvbnN0IGxpbmVXaWR0aHMgPSBtZWFzdXJlZC5saW5lV2lkdGhzO1xuICAgIGNvbnN0IG1heExpbmVXaWR0aCA9IG1lYXN1cmVkLm1heExpbmVXaWR0aDtcbiAgICBjb25zdCBmb250UHJvcGVydGllcyA9IG1lYXN1cmVkLmZvbnRQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgY29udGV4dC5yZXNldFRyYW5zZm9ybSgpO1xuICAgIGNvbnRleHQuc2NhbGUocmVzb2x1dGlvbiwgcmVzb2x1dGlvbik7XG4gICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgaWYgKHN0eWxlLl9zdHJva2U/LndpZHRoKSB7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZSA9IHN0eWxlLl9zdHJva2U7XG4gICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVN0eWxlLndpZHRoO1xuICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3Ryb2tlU3R5bGUubWl0ZXJMaW1pdDtcbiAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHJva2VTdHlsZS5qb2luO1xuICAgICAgY29udGV4dC5saW5lQ2FwID0gc3Ryb2tlU3R5bGUuY2FwO1xuICAgIH1cbiAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgIGxldCBsaW5lUG9zaXRpb25YO1xuICAgIGxldCBsaW5lUG9zaXRpb25ZO1xuICAgIGNvbnN0IHBhc3Nlc0NvdW50ID0gc3R5bGUuZHJvcFNoYWRvdyA/IDIgOiAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzc2VzQ291bnQ7ICsraSkge1xuICAgICAgY29uc3QgaXNTaGFkb3dQYXNzID0gc3R5bGUuZHJvcFNoYWRvdyAmJiBpID09PSAwO1xuICAgICAgY29uc3QgZHNPZmZzZXRUZXh0ID0gaXNTaGFkb3dQYXNzID8gTWF0aC5jZWlsKE1hdGgubWF4KDEsIGhlaWdodCkgKyBwYWRkaW5nICogMikgOiAwO1xuICAgICAgY29uc3QgZHNPZmZzZXRTaGFkb3cgPSBkc09mZnNldFRleHQgKiByZXNvbHV0aW9uO1xuICAgICAgaWYgKGlzU2hhZG93UGFzcykge1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgY29uc3Qgc2hhZG93T3B0aW9ucyA9IHN0eWxlLmRyb3BTaGFkb3c7XG4gICAgICAgIGNvbnN0IGRyb3BTaGFkb3dDb2xvciA9IHNoYWRvd09wdGlvbnMuY29sb3I7XG4gICAgICAgIGNvbnN0IGRyb3BTaGFkb3dBbHBoYSA9IHNoYWRvd09wdGlvbnMuYWxwaGE7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBDb2xvci5zaGFyZWQuc2V0VmFsdWUoZHJvcFNoYWRvd0NvbG9yKS5zZXRBbHBoYShkcm9wU2hhZG93QWxwaGEpLnRvUmdiYVN0cmluZygpO1xuICAgICAgICBjb25zdCBkcm9wU2hhZG93Qmx1ciA9IHNoYWRvd09wdGlvbnMuYmx1ciAqIHJlc29sdXRpb247XG4gICAgICAgIGNvbnN0IGRyb3BTaGFkb3dEaXN0YW5jZSA9IHNoYWRvd09wdGlvbnMuZGlzdGFuY2UgKiByZXNvbHV0aW9uO1xuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBkcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gTWF0aC5jb3Moc2hhZG93T3B0aW9ucy5hbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IE1hdGguc2luKHNoYWRvd09wdGlvbnMuYW5nbGUpICogZHJvcFNoYWRvd0Rpc3RhbmNlICsgZHNPZmZzZXRTaGFkb3c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHN0eWxlLl9maWxsID8gZ2V0Q2FudmFzRmlsbFN0eWxlKHN0eWxlLl9maWxsLCBjb250ZXh0LCBtZWFzdXJlZCwgcGFkZGluZyAqIDIpIDogbnVsbDtcbiAgICAgICAgaWYgKHN0eWxlLl9zdHJva2U/LndpZHRoKSB7XG4gICAgICAgICAgY29uc3Qgc3Ryb2tlUGFkZGluZyA9IHN0eWxlLl9zdHJva2Uud2lkdGggKiAwLjUgKyBwYWRkaW5nICogMjtcbiAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gZ2V0Q2FudmFzRmlsbFN0eWxlKHN0eWxlLl9zdHJva2UsIGNvbnRleHQsIG1lYXN1cmVkLCBzdHJva2VQYWRkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gXCJibGFja1wiO1xuICAgICAgfVxuICAgICAgbGV0IGxpbmVQb3NpdGlvbllTaGlmdCA9IChsaW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZm9udFNpemUpIC8gMjtcbiAgICAgIGlmIChsaW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZm9udFNpemUgPCAwKSB7XG4gICAgICAgIGxpbmVQb3NpdGlvbllTaGlmdCA9IDA7XG4gICAgICB9XG4gICAgICBjb25zdCBzdHJva2VXaWR0aCA9IHN0eWxlLl9zdHJva2U/LndpZHRoID8/IDA7XG4gICAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgbGluZXMubGVuZ3RoOyBpMisrKSB7XG4gICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHJva2VXaWR0aCAvIDI7XG4gICAgICAgIGxpbmVQb3NpdGlvblkgPSBzdHJva2VXaWR0aCAvIDIgKyBpMiAqIGxpbmVIZWlnaHQgKyBmb250UHJvcGVydGllcy5hc2NlbnQgKyBsaW5lUG9zaXRpb25ZU2hpZnQ7XG4gICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gXCJyaWdodFwiKSB7XG4gICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2kyXTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gXCJjZW50ZXJcIikge1xuICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaTJdKSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlLl9zdHJva2U/LndpZHRoKSB7XG4gICAgICAgICAgdGhpcy5fZHJhd0xldHRlclNwYWNpbmcoXG4gICAgICAgICAgICBsaW5lc1tpMl0sXG4gICAgICAgICAgICBzdHlsZSxcbiAgICAgICAgICAgIGNhbnZhc0FuZENvbnRleHQsXG4gICAgICAgICAgICBsaW5lUG9zaXRpb25YICsgcGFkZGluZyxcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgKyBwYWRkaW5nIC0gZHNPZmZzZXRUZXh0LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlLl9maWxsICE9PSB2b2lkIDApIHtcbiAgICAgICAgICB0aGlzLl9kcmF3TGV0dGVyU3BhY2luZyhcbiAgICAgICAgICAgIGxpbmVzW2kyXSxcbiAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICAgY2FudmFzQW5kQ29udGV4dCxcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKyBwYWRkaW5nLFxuICAgICAgICAgICAgbGluZVBvc2l0aW9uWSArIHBhZGRpbmcgLSBkc09mZnNldFRleHRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZW5kZXIgdGhlIHRleHQgd2l0aCBsZXR0ZXItc3BhY2luZy5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaGFuZGxlcyByZW5kZXJpbmcgdGV4dCB3aXRoIHRoZSBjb3JyZWN0IGxldHRlciBzcGFjaW5nLCB1c2luZyBlaXRoZXI6XG4gICAqIDEuIE5hdGl2ZSBsZXR0ZXIgc3BhY2luZyBpZiBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXJcbiAgICogMi4gTWFudWFsIGxldHRlciBzcGFjaW5nIGNhbGN1bGF0aW9uIGlmIG5vdCBuYXRpdmVseSBzdXBwb3J0ZWRcbiAgICpcbiAgICogRm9yIG1hbnVhbCBsZXR0ZXIgc3BhY2luZywgaXQgY2FsY3VsYXRlcyB0aGUgcG9zaXRpb24gb2YgZWFjaCBjaGFyYWN0ZXJcbiAgICogYmFzZWQgb24gaXRzIHdpZHRoIGFuZCB0aGUgZGVzaXJlZCBzcGFjaW5nLlxuICAgKiBAcGFyYW0gdGV4dCAtIFRoZSB0ZXh0IHRvIGRyYXdcbiAgICogQHBhcmFtIHN0eWxlIC0gVGhlIHRleHQgc3R5bGUgdG8gYXBwbHlcbiAgICogQHBhcmFtIGNhbnZhc0FuZENvbnRleHQgLSBUaGUgY2FudmFzIGFuZCBjb250ZXh0IHRvIGRyYXcgdG9cbiAgICogQHBhcmFtIHggLSBIb3Jpem9udGFsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICogQHBhcmFtIHkgLSBWZXJ0aWNhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAqIEBwYXJhbSBpc1N0cm9rZSAtIFdoZXRoZXIgdG8gcmVuZGVyIHRoZSBzdHJva2UgKHRydWUpIG9yIGZpbGwgKGZhbHNlKVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RyYXdMZXR0ZXJTcGFjaW5nKHRleHQsIHN0eWxlLCBjYW52YXNBbmRDb250ZXh0LCB4LCB5LCBpc1N0cm9rZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgeyBjb250ZXh0IH0gPSBjYW52YXNBbmRDb250ZXh0O1xuICAgIGNvbnN0IGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuICAgIGxldCB1c2VFeHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nID0gZmFsc2U7XG4gICAgaWYgKENhbnZhc1RleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmdTdXBwb3J0ZWQpIHtcbiAgICAgIGlmIChDYW52YXNUZXh0TWV0cmljcy5leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgIGNvbnRleHQubGV0dGVyU3BhY2luZyA9IGAke2xldHRlclNwYWNpbmd9cHhgO1xuICAgICAgICBjb250ZXh0LnRleHRMZXR0ZXJTcGFjaW5nID0gYCR7bGV0dGVyU3BhY2luZ31weGA7XG4gICAgICAgIHVzZUV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5sZXR0ZXJTcGFjaW5nID0gXCIwcHhcIjtcbiAgICAgICAgY29udGV4dC50ZXh0TGV0dGVyU3BhY2luZyA9IFwiMHB4XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsZXR0ZXJTcGFjaW5nID09PSAwIHx8IHVzZUV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcpIHtcbiAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgY3VycmVudFBvc2l0aW9uID0geDtcbiAgICBjb25zdCBzdHJpbmdBcnJheSA9IENhbnZhc1RleHRNZXRyaWNzLmdyYXBoZW1lU2VnbWVudGVyKHRleHQpO1xuICAgIGxldCBwcmV2aW91c1dpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcbiAgICBsZXQgY3VycmVudFdpZHRoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ0FycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBjdXJyZW50Q2hhciA9IHN0cmluZ0FycmF5W2ldO1xuICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoY3VycmVudENoYXIsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICB9XG4gICAgICBsZXQgdGV4dFN0ciA9IFwiXCI7XG4gICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBzdHJpbmdBcnJheS5sZW5ndGg7ICsraikge1xuICAgICAgICB0ZXh0U3RyICs9IHN0cmluZ0FycmF5W2pdO1xuICAgICAgfVxuICAgICAgY3VycmVudFdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0U3RyKS53aWR0aDtcbiAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSBwcmV2aW91c1dpZHRoIC0gY3VycmVudFdpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgIHByZXZpb3VzV2lkdGggPSBjdXJyZW50V2lkdGg7XG4gICAgfVxuICB9XG59XG5jb25zdCBDYW52YXNUZXh0R2VuZXJhdG9yID0gbmV3IENhbnZhc1RleHRHZW5lcmF0b3JDbGFzcygpO1xuXG5leHBvcnQgeyBDYW52YXNUZXh0R2VuZXJhdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNUZXh0R2VuZXJhdG9yLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFRleHR1cmVQb29sIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlUG9vbC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVN0eWxlIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlU3R5bGUubWpzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuaW1wb3J0IHsgVGV4dFN0eWxlIH0gZnJvbSAnLi4vVGV4dFN0eWxlLm1qcyc7XG5pbXBvcnQgeyBnZXRQbzJUZXh0dXJlRnJvbVNvdXJjZSB9IGZyb20gJy4uL3V0aWxzL2dldFBvMlRleHR1cmVGcm9tU291cmNlLm1qcyc7XG5pbXBvcnQgeyBDYW52YXNUZXh0R2VuZXJhdG9yIH0gZnJvbSAnLi9DYW52YXNUZXh0R2VuZXJhdG9yLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQ2FudmFzVGV4dFN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKF9yZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gX3JlbmRlcmVyO1xuICB9XG4gIGdldFRleHR1cmUob3B0aW9ucywgX3Jlc29sdXRpb24sIF9zdHlsZSwgX3RleHRLZXkpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGRlcHJlY2F0aW9uKFwiOC4wLjBcIiwgXCJDYW52YXNUZXh0U3lzdGVtLmdldFRleHR1cmU6IFVzZSBvYmplY3QgVGV4dE9wdGlvbnMgaW5zdGVhZCBvZiBzZXBhcmF0ZSBhcmd1bWVudHNcIik7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICB0ZXh0OiBvcHRpb25zLFxuICAgICAgICBzdHlsZTogX3N0eWxlLFxuICAgICAgICByZXNvbHV0aW9uOiBfcmVzb2x1dGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCEob3B0aW9ucy5zdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSkpIHtcbiAgICAgIG9wdGlvbnMuc3R5bGUgPSBuZXcgVGV4dFN0eWxlKG9wdGlvbnMuc3R5bGUpO1xuICAgIH1cbiAgICBpZiAoIShvcHRpb25zLnRleHR1cmVTdHlsZSBpbnN0YW5jZW9mIFRleHR1cmVTdHlsZSkpIHtcbiAgICAgIG9wdGlvbnMudGV4dHVyZVN0eWxlID0gbmV3IFRleHR1cmVTdHlsZShvcHRpb25zLnRleHR1cmVTdHlsZSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50ZXh0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICBvcHRpb25zLnRleHQgPSBvcHRpb25zLnRleHQudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgY29uc3QgeyB0ZXh0LCBzdHlsZSwgdGV4dHVyZVN0eWxlIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24gPz8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICBjb25zdCB7IGZyYW1lLCBjYW52YXNBbmRDb250ZXh0IH0gPSBDYW52YXNUZXh0R2VuZXJhdG9yLmdldENhbnZhc0FuZENvbnRleHQoe1xuICAgICAgdGV4dCxcbiAgICAgIHN0eWxlLFxuICAgICAgcmVzb2x1dGlvblxuICAgIH0pO1xuICAgIGNvbnN0IHRleHR1cmUgPSBnZXRQbzJUZXh0dXJlRnJvbVNvdXJjZShjYW52YXNBbmRDb250ZXh0LmNhbnZhcywgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgaWYgKHRleHR1cmVTdHlsZSlcbiAgICAgIHRleHR1cmUuc291cmNlLnN0eWxlID0gdGV4dHVyZVN0eWxlO1xuICAgIGlmIChzdHlsZS50cmltKSB7XG4gICAgICBmcmFtZS5wYWQoc3R5bGUucGFkZGluZyk7XG4gICAgICB0ZXh0dXJlLmZyYW1lLmNvcHlGcm9tKGZyYW1lKTtcbiAgICAgIHRleHR1cmUuZnJhbWUuc2NhbGUoMSAvIHJlc29sdXRpb24pO1xuICAgICAgdGV4dHVyZS51cGRhdGVVdnMoKTtcbiAgICB9XG4gICAgaWYgKHN0eWxlLmZpbHRlcnMpIHtcbiAgICAgIGNvbnN0IGZpbHRlcmVkVGV4dHVyZSA9IHRoaXMuX2FwcGx5RmlsdGVycyh0ZXh0dXJlLCBzdHlsZS5maWx0ZXJzKTtcbiAgICAgIHRoaXMucmV0dXJuVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgIENhbnZhc1RleHRHZW5lcmF0b3IucmV0dXJuQ2FudmFzQW5kQ29udGV4dChjYW52YXNBbmRDb250ZXh0KTtcbiAgICAgIHJldHVybiBmaWx0ZXJlZFRleHR1cmU7XG4gICAgfVxuICAgIHRoaXMuX3JlbmRlcmVyLnRleHR1cmUuaW5pdFNvdXJjZSh0ZXh0dXJlLl9zb3VyY2UpO1xuICAgIENhbnZhc1RleHRHZW5lcmF0b3IucmV0dXJuQ2FudmFzQW5kQ29udGV4dChjYW52YXNBbmRDb250ZXh0KTtcbiAgICByZXR1cm4gdGV4dHVyZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHRleHR1cmUgdGhhdCB3YXMgY3JlYXRlZCB3aXQgdGhlIGFib3ZlIGBnZXRUZXh0dXJlYCBmdW5jdGlvbi5cbiAgICogSGFuZHkgaWYgeW91IGFyZSBkb25lIHdpdGggYSB0ZXh0dXJlIGFuZCB3YW50IHRvIHJldHVybiBpdCB0byB0aGUgcG9vbC5cbiAgICogQHBhcmFtIHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byBiZSByZXR1cm5lZC5cbiAgICovXG4gIHJldHVyblRleHR1cmUodGV4dHVyZSkge1xuICAgIGNvbnN0IHNvdXJjZSA9IHRleHR1cmUuc291cmNlO1xuICAgIHNvdXJjZS5yZXNvdXJjZSA9IG51bGw7XG4gICAgc291cmNlLnVwbG9hZE1ldGhvZElkID0gXCJ1bmtub3duXCI7XG4gICAgc291cmNlLmFscGhhTW9kZSA9IFwibm8tcHJlbXVsdGlwbHktYWxwaGFcIjtcbiAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBSZW5kZXJzIHRleHQgdG8gaXRzIGNhbnZhcywgYW5kIHVwZGF0ZXMgaXRzIHRleHR1cmUuXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDguMTAuMFxuICAgKi9cbiAgcmVuZGVyVGV4dFRvQ2FudmFzKCkge1xuICAgIGRlcHJlY2F0aW9uKFxuICAgICAgXCI4LjEwLjBcIixcbiAgICAgIFwiQ2FudmFzVGV4dFN5c3RlbS5yZW5kZXJUZXh0VG9DYW52YXM6IG5vIGxvbmdlciBzdXBwb3J0ZWQsIHVzZSBDYW52YXNUZXh0U3lzdGVtLmdldFRleHR1cmUgaW5zdGVhZFwiXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQXBwbGllcyB0aGUgc3BlY2lmaWVkIGZpbHRlcnMgdG8gdGhlIGdpdmVuIHRleHR1cmUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHRha2VzIGEgdGV4dHVyZSBhbmQgYSBsaXN0IG9mIGZpbHRlcnMsIGFwcGxpZXMgdGhlIGZpbHRlcnMgdG8gdGhlIHRleHR1cmUsXG4gICAqIGFuZCByZXR1cm5zIHRoZSByZXN1bHRpbmcgdGV4dHVyZS4gSXQgYWxzbyBlbnN1cmVzIHRoYXQgdGhlIGFscGhhIG1vZGUgb2YgdGhlIHJlc3VsdGluZ1xuICAgKiB0ZXh0dXJlIGlzIHNldCB0byAncHJlbXVsdGlwbGllZC1hbHBoYScuXG4gICAqIEBwYXJhbSB7VGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHdoaWNoIHRoZSBmaWx0ZXJzIHdpbGwgYmUgYXBwbGllZC5cbiAgICogQHBhcmFtIHtGaWx0ZXJbXX0gZmlsdGVycyAtIFRoZSBmaWx0ZXJzIHRvIGFwcGx5IHRvIHRoZSB0ZXh0dXJlLlxuICAgKiBAcmV0dXJucyB7VGV4dHVyZX0gVGhlIHJlc3VsdGluZyB0ZXh0dXJlIGFmdGVyIGFsbCBmaWx0ZXJzIGhhdmUgYmVlbiBhcHBsaWVkLlxuICAgKi9cbiAgX2FwcGx5RmlsdGVycyh0ZXh0dXJlLCBmaWx0ZXJzKSB7XG4gICAgY29uc3QgY3VycmVudFJlbmRlclRhcmdldCA9IHRoaXMuX3JlbmRlcmVyLnJlbmRlclRhcmdldC5yZW5kZXJUYXJnZXQ7XG4gICAgY29uc3QgcmVzdWx0VGV4dHVyZSA9IHRoaXMuX3JlbmRlcmVyLmZpbHRlci5nZW5lcmF0ZUZpbHRlcmVkVGV4dHVyZSh7XG4gICAgICB0ZXh0dXJlLFxuICAgICAgZmlsdGVyc1xuICAgIH0pO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclRhcmdldC5iaW5kKGN1cnJlbnRSZW5kZXJUYXJnZXQsIGZhbHNlKTtcbiAgICByZXR1cm4gcmVzdWx0VGV4dHVyZTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkNhbnZhc1RleHRTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcImNhbnZhc1RleHRcIlxufTtcblxuZXhwb3J0IHsgQ2FudmFzVGV4dFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzVGV4dFN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBDYW52YXNUZXh0UGlwZSB9IGZyb20gJy4vY2FudmFzL0NhbnZhc1RleHRQaXBlLm1qcyc7XG5pbXBvcnQgeyBDYW52YXNUZXh0U3lzdGVtIH0gZnJvbSAnLi9jYW52YXMvQ2FudmFzVGV4dFN5c3RlbS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmV4dGVuc2lvbnMuYWRkKENhbnZhc1RleHRTeXN0ZW0pO1xuZXh0ZW5zaW9ucy5hZGQoQ2FudmFzVGV4dFBpcGUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5tanMubWFwXG4iLCJpbXBvcnQgeyBUZXh0dXJlUG9vbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVBvb2wubWpzJztcbmltcG9ydCB7IEJvdW5kcyB9IGZyb20gJy4uLy4uL2NvbnRhaW5lci9ib3VuZHMvQm91bmRzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbmZ1bmN0aW9uIGdldFBvMlRleHR1cmVGcm9tU291cmNlKGltYWdlLCB3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gIGNvbnN0IGJvdW5kcyA9IHRlbXBCb3VuZHM7XG4gIGJvdW5kcy5taW5YID0gMDtcbiAgYm91bmRzLm1pblkgPSAwO1xuICBib3VuZHMubWF4WCA9IGltYWdlLndpZHRoIC8gcmVzb2x1dGlvbiB8IDA7XG4gIGJvdW5kcy5tYXhZID0gaW1hZ2UuaGVpZ2h0IC8gcmVzb2x1dGlvbiB8IDA7XG4gIGNvbnN0IHRleHR1cmUgPSBUZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShcbiAgICBib3VuZHMud2lkdGgsXG4gICAgYm91bmRzLmhlaWdodCxcbiAgICByZXNvbHV0aW9uLFxuICAgIGZhbHNlXG4gICk7XG4gIHRleHR1cmUuc291cmNlLnVwbG9hZE1ldGhvZElkID0gXCJpbWFnZVwiO1xuICB0ZXh0dXJlLnNvdXJjZS5yZXNvdXJjZSA9IGltYWdlO1xuICB0ZXh0dXJlLnNvdXJjZS5hbHBoYU1vZGUgPSBcInByZW11bHRpcGx5LWFscGhhLW9uLXVwbG9hZFwiO1xuICB0ZXh0dXJlLmZyYW1lLndpZHRoID0gd2lkdGggLyByZXNvbHV0aW9uO1xuICB0ZXh0dXJlLmZyYW1lLmhlaWdodCA9IGhlaWdodCAvIHJlc29sdXRpb247XG4gIHRleHR1cmUuc291cmNlLmVtaXQoXCJ1cGRhdGVcIiwgdGV4dHVyZS5zb3VyY2UpO1xuICB0ZXh0dXJlLnVwZGF0ZVV2cygpO1xuICByZXR1cm4gdGV4dHVyZTtcbn1cblxuZXhwb3J0IHsgZ2V0UG8yVGV4dHVyZUZyb21Tb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFBvMlRleHR1cmVGcm9tU291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IHVwZGF0ZVF1YWRCb3VuZHMgfSBmcm9tICcuLi8uLi8uLi91dGlscy9kYXRhL3VwZGF0ZVF1YWRCb3VuZHMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiB1cGRhdGVUZXh0Qm91bmRzKGJhdGNoYWJsZVNwcml0ZSwgdGV4dCkge1xuICBjb25zdCB7IHRleHR1cmUsIGJvdW5kcyB9ID0gYmF0Y2hhYmxlU3ByaXRlO1xuICBjb25zdCBwYWRkaW5nID0gdGV4dC5fc3R5bGUuX2dldEZpbmFsUGFkZGluZygpO1xuICB1cGRhdGVRdWFkQm91bmRzKGJvdW5kcywgdGV4dC5fYW5jaG9yLCB0ZXh0dXJlKTtcbiAgY29uc3QgcGFkZGluZ09mZnNldCA9IHRleHQuX2FuY2hvci5feCAqIHBhZGRpbmcgKiAyO1xuICBjb25zdCBwYWRkaW5nT2Zmc2V0WSA9IHRleHQuX2FuY2hvci5feSAqIHBhZGRpbmcgKiAyO1xuICBib3VuZHMubWluWCAtPSBwYWRkaW5nIC0gcGFkZGluZ09mZnNldDtcbiAgYm91bmRzLm1pblkgLT0gcGFkZGluZyAtIHBhZGRpbmdPZmZzZXRZO1xuICBib3VuZHMubWF4WCAtPSBwYWRkaW5nIC0gcGFkZGluZ09mZnNldDtcbiAgYm91bmRzLm1heFkgLT0gcGFkZGluZyAtIHBhZGRpbmdPZmZzZXRZO1xufVxuXG5leHBvcnQgeyB1cGRhdGVUZXh0Qm91bmRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGVUZXh0Qm91bmRzLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJSZXNpemVQbHVnaW4iLCJpbml0Iiwib3B0aW9ucyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidGhpcyIsInNldCIsImRvbSIsImdsb2JhbFRoaXMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicXVldWVSZXNpemUiLCJfcmVzaXplVG8iLCJhZGRFdmVudExpc3RlbmVyIiwicmVzaXplIiwiZ2V0IiwiX2NhbmNlbFJlc2l6ZSIsIl9yZXNpemVJZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2lkdGgiLCJoZWlnaHQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInJlbmRlcmVyIiwicmVuZGVyIiwicmVzaXplVG8iLCJkZXN0cm95IiwiZXh0ZW5zaW9uIiwiQXBwbGljYXRpb24iLCJUaWNrZXJQbHVnaW4iLCJhc3NpZ24iLCJhdXRvU3RhcnQiLCJzaGFyZWRUaWNrZXIiLCJ0aWNrZXIiLCJfdGlja2VyIiwicmVtb3ZlIiwiYWRkIiwiTE9XIiwic3RvcCIsInN0YXJ0IiwiVGlja2VyIiwic2hhcmVkIiwib2xkVGlja2VyIiwiRmlsdGVyUGlwZSIsImNvbnN0cnVjdG9yIiwiX3JlbmRlcmVyIiwicHVzaCIsImZpbHRlckVmZmVjdCIsImNvbnRhaW5lciIsImluc3RydWN0aW9uU2V0IiwicmVuZGVyUGlwZXMiLCJiYXRjaCIsImJyZWFrIiwicmVuZGVyUGlwZUlkIiwiY2FuQnVuZGxlIiwiYWN0aW9uIiwicG9wIiwiX2ZpbHRlckVmZmVjdCIsIl9jb250YWluZXIiLCJleGVjdXRlIiwiaW5zdHJ1Y3Rpb24iLCJmaWx0ZXIiLCJ0eXBlIiwiV2ViR0xQaXBlcyIsIldlYkdQVVBpcGVzIiwiQ2FudmFzUGlwZXMiLCJuYW1lIiwicXVhZEdlb21ldHJ5IiwiR2VvbWV0cnkiLCJhdHRyaWJ1dGVzIiwiYVBvc2l0aW9uIiwiYnVmZmVyIiwiRmxvYXQzMkFycmF5IiwiZm9ybWF0Iiwic3RyaWRlIiwib2Zmc2V0IiwiaW5kZXhCdWZmZXIiLCJVaW50MzJBcnJheSIsIkZpbHRlckRhdGEiLCJza2lwIiwiaW5wdXRUZXh0dXJlIiwiYmFja1RleHR1cmUiLCJmaWx0ZXJzIiwiYm91bmRzIiwiQm91bmRzIiwiYmxlbmRSZXF1aXJlZCIsIm91dHB1dFJlbmRlclN1cmZhY2UiLCJnbG9iYWxGcmFtZSIsIngiLCJ5IiwiRmlsdGVyU3lzdGVtIiwiX2ZpbHRlclN0YWNrSW5kZXgiLCJfZmlsdGVyU3RhY2siLCJfZmlsdGVyR2xvYmFsVW5pZm9ybXMiLCJVbmlmb3JtR3JvdXAiLCJ1SW5wdXRTaXplIiwidmFsdWUiLCJ1SW5wdXRQaXhlbCIsInVJbnB1dENsYW1wIiwidU91dHB1dEZyYW1lIiwidUdsb2JhbEZyYW1lIiwidU91dHB1dFRleHR1cmUiLCJfZ2xvYmFsRmlsdGVyQmluZEdyb3VwIiwiQmluZEdyb3VwIiwiYWN0aXZlQmFja1RleHR1cmUiLCJfYWN0aXZlRmlsdGVyRGF0YSIsImZpbHRlckRhdGEiLCJfcHVzaEZpbHRlckRhdGEiLCJyZW5kZXJUYXJnZXQiLCJyZW5kZXJTdXJmYWNlIiwiY29sb3JUZXh0dXJlU291cmNlIiwiY29sb3JUZXh0dXJlIiwic291cmNlIiwicm9vdFJlc29sdXRpb24iLCJyZXNvbHV0aW9uIiwicm9vdEFudGlhbGlhcyIsImFudGlhbGlhcyIsImxlbmd0aCIsIl9jYWxjdWxhdGVGaWx0ZXJBcmVhIiwiX2NhbGN1bGF0ZUZpbHRlckJvdW5kcyIsInJvb3RWaWV3UG9ydCIsInByZXZpb3VzRmlsdGVyRGF0YSIsIl9nZXRQcmV2aW91c0ZpbHRlckRhdGEiLCJnbG9iYWxSZXNvbHV0aW9uIiwiX2ZpbmRGaWx0ZXJSZXNvbHV0aW9uIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJtaW5YIiwibWluWSIsIl9jYWxjdWxhdGVHbG9iYWxGcmFtZSIsIl9zZXR1cEZpbHRlclRleHR1cmVzIiwiZ2VuZXJhdGVGaWx0ZXJlZFRleHR1cmUiLCJ0ZXh0dXJlIiwiYWRkUmVjdCIsImZyYW1lIiwicmVjdGFuZ2xlIiwiVGV4dHVyZVBvb2wiLCJnZXRPcHRpbWFsVGV4dHVyZSIsIlRleHR1cmUiLCJFTVBUWSIsImZpbmlzaFJlbmRlclBhc3MiLCJfYXBwbHlGaWx0ZXJzVG9UZXh0dXJlIiwib3V0cHV0VGV4dHVyZSIsImFscGhhTW9kZSIsIl9wb3BGaWx0ZXJEYXRhIiwiZ2xvYmFsVW5pZm9ybXMiLCJyZXR1cm5UZXh0dXJlIiwiZ2V0QmFja1RleHR1cmUiLCJsYXN0UmVuZGVyU3VyZmFjZSIsInByZXZpb3VzQm91bmRzIiwiYmFja2dyb3VuZFJlc29sdXRpb24iLCJfcmVzb2x1dGlvbiIsIk1hdGgiLCJmbG9vciIsImNlaWwiLCJjb3B5VG9UZXh0dXJlIiwiYXBwbHlGaWx0ZXIiLCJpbnB1dCIsIm91dHB1dCIsImNsZWFyIiwiaXNGaW5hbFRhcmdldCIsInJvb3RSZW5kZXJUYXJnZXQiLCJfZmluZFByZXZpb3VzRmlsdGVyT2Zmc2V0IiwiX3VwZGF0ZUZpbHRlclVuaWZvcm1zIiwiX3NldHVwQmluZEdyb3Vwc0FuZFJlbmRlciIsImNhbGN1bGF0ZVNwcml0ZU1hdHJpeCIsIm91dHB1dE1hdHJpeCIsInNwcml0ZSIsImRhdGEiLCJtYXBwZWRNYXRyaXgiLCJfc291cmNlIiwid29ybGRUcmFuc2Zvcm0iLCJjb3B5VG8iLCJNYXRyaXgiLCJyZW5kZXJHcm91cCIsInBhcmVudFJlbmRlckdyb3VwIiwiY2FjaGVUb0xvY2FsVHJhbnNmb3JtIiwicHJlcGVuZCIsImludmVydCIsInNjYWxlIiwib3JpZyIsInRyYW5zbGF0ZSIsImFuY2hvciIsInVuaWZvcm1CYXRjaCIsImJhdGNoVW5pZm9ybXMiLCJnZXRVYm9SZXNvdXJjZSIsInNldFJlc291cmNlIiwic3R5bGUiLCJncm91cHMiLCJlbmNvZGVyIiwiZHJhdyIsImdlb21ldHJ5Iiwic2hhZGVyIiwic3RhdGUiLCJfc3RhdGUiLCJ0b3BvbG9neSIsIldFQkdMIiwiZ2V0UmVuZGVyVGFyZ2V0IiwiYmluZCIsInNvdXJjZVdpZHRoIiwic291cmNlSGVpZ2h0IiwidW5pZm9ybXMiLCJvdXRwdXRGcmFtZSIsImlucHV0U2l6ZSIsImlucHV0UGl4ZWwiLCJpbnB1dENsYW1wIiwicGl4ZWxXaWR0aCIsInBpeGVsSGVpZ2h0Iiwicm9vdFRleHR1cmUiLCJyZXNvdXJjZSIsImlzUm9vdCIsInVwZGF0ZSIsImN1cnJlbnRJbmRleCIsImxhc3RJbmRleCIsInByZXZGaWx0ZXJEYXRhIiwicmVuZGVyYWJsZXMiLCJ0ZW1wTWF0cml4IiwibWF0cml4IiwiaSIsInJlbmRlcmFibGUiLCJnbG9iYWxEaXNwbGF5U3RhdHVzIiwiYWRkQm91bmRzIiwiZ2V0R2xvYmFsUmVuZGVyYWJsZUJvdW5kcyIsImZpbHRlckFyZWEiLCJhcHBseU1hdHJpeCIsImdldEZhc3RHbG9iYWxCb3VuZHMiLCJmaWx0ZXJGcmFtZVRyYW5zZm9ybSIsImFwcGx5IiwiZmxpcCIsInRlbXBUZXh0dXJlIiwiZmxvcCIsInQiLCJ2aWV3UG9ydCIsInBhZGRpbmdNdWx0aXBsaWVyIiwiSW5maW5pdHkiLCJwYWRkaW5nIiwiZW5hYmxlZCIsImNsaXBUb1ZpZXdwb3J0IiwibWluIiwiY29tcGF0aWJsZVJlbmRlcmVycyIsImJhY2tCdWZmZXIiLCJ1c2VCYWNrQnVmZmVyIiwid2FybiIsImZpdEJvdW5kcyIsInBhZCIsImlzUG9zaXRpdmUiLCJpbmRleCIsIldlYkdMU3lzdGVtIiwiV2ViR1BVU3lzdGVtIiwibG9jYWxVbmlmb3JtQml0IiwidmVydGV4IiwiaGVhZGVyIiwibWFpbiIsImVuZCIsImxvY2FsVW5pZm9ybUJpdEdyb3VwMiIsInJlcGxhY2UiLCJsb2NhbFVuaWZvcm1CaXRHbCIsImJsZW5kTW9kZUlkcyIsIm5vcm1hbCIsIm11bHRpcGx5Iiwic2NyZWVuIiwib3ZlcmxheSIsImVyYXNlIiwibWF4IiwiX1N0YXRlIiwiYmxlbmRNb2RlIiwicG9seWdvbk9mZnNldCIsImJsZW5kIiwiZGVwdGhNYXNrIiwib2Zmc2V0cyIsImN1bGxNb2RlIiwiY3VsbGluZyIsImNsb2Nrd2lzZUZyb250RmFjZSIsImRlcHRoVGVzdCIsIl9ibGVuZE1vZGUiLCJfYmxlbmRNb2RlSWQiLCJfcG9seWdvbk9mZnNldCIsInRvU3RyaW5nIiwiZm9yMmQiLCJkZWZhdWx0MmQiLCJTdGF0ZSIsIkNhbnZhc1Bvb2wiLCJjYW52YXNPcHRpb25zIiwiX2NhbnZhc1Bvb2wiLCJjcmVhdGUiLCJlbmFibGVGdWxsU2NyZWVuIiwiX2NyZWF0ZUNhbnZhc0FuZENvbnRleHQiLCJjYW52YXMiLCJjcmVhdGVDYW52YXMiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImdldE9wdGltYWxDYW52YXNBbmRDb250ZXh0IiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJrZXkiLCJjYW52YXNBbmRDb250ZXh0IiwicmV0dXJuQ2FudmFzQW5kQ29udGV4dCIsInJlc2V0VHJhbnNmb3JtIiwiY2xlYXJSZWN0IiwiY29sb3IzMkJpdFRvVW5pZm9ybSIsImFiZ3IiLCJvdXQiLCJhbHBoYSIsIkdyYXBoaWNzR3B1RGF0YSIsImJhdGNoZXMiLCJiYXRjaGVkIiwiZm9yRWFjaCIsInJldHVybiIsIkdyYXBoaWNzUGlwZSIsImFkYXB0b3IiLCJfYWRhcHRvciIsInJ1bm5lcnMiLCJjb250ZXh0Q2hhbmdlIiwidmFsaWRhdGVSZW5kZXJhYmxlIiwiZ3JhcGhpY3MiLCJ3YXNCYXRjaGVkIiwiX2dwdURhdGEiLCJncHVDb250ZXh0IiwiZ3JhcGhpY3NDb250ZXh0IiwidXBkYXRlR3B1Q29udGV4dCIsImlzQmF0Y2hhYmxlIiwiYWRkUmVuZGVyYWJsZSIsImRpZFZpZXdVcGRhdGUiLCJfcmVidWlsZCIsIl9hZGRUb0JhdGNoZXIiLCJ1cGRhdGVSZW5kZXJhYmxlIiwiX2dldEdwdURhdGFGb3JSZW5kZXJhYmxlIiwiX2JhdGNoZXIiLCJ1cGRhdGVFbGVtZW50IiwiaXNSZW5kZXJhYmxlIiwiZ2V0R3B1Q29udGV4dCIsImN1c3RvbVNoYWRlciIsImdyb3VwQmxlbmRNb2RlIiwibG9jYWxVbmlmb3JtcyIsInJlc291cmNlcyIsInVUcmFuc2Zvcm1NYXRyaXgiLCJncm91cFRyYW5zZm9ybSIsInVSb3VuZCIsIl9yb3VuZFBpeGVscyIsImdyb3VwQ29sb3JBbHBoYSIsInVDb2xvciIsImdwdURhdGEiLCJfdXBkYXRlQmF0Y2hlc0ZvclJlbmRlcmFibGUiLCJiYXRjaFBpcGUiLCJhZGRUb0JhdGNoIiwidWlkIiwiX2luaXRHcHVEYXRhRm9yUmVuZGVyYWJsZSIsInJvdW5kUGl4ZWxzIiwibWFwIiwiYmF0Y2hDbG9uZSIsIkJhdGNoYWJsZUdyYXBoaWNzIiwiR3JhcGhpY3NDb250ZXh0U3lzdGVtIiwiTWVzaEdwdURhdGEiLCJNZXNoUGlwZSIsImxvY2FsVW5pZm9ybXNCaW5kR3JvdXAiLCJtZXNoIiwibWVzaERhdGEiLCJfZ2V0TWVzaERhdGEiLCJpc0JhdGNoZWQiLCJfZ2VvbWV0cnkiLCJpbmRpY2VzIiwiaW5kZXhTaXplIiwicG9zaXRpb25zIiwidmVydGV4U2l6ZSIsImJhdGNoYWJsZU1lc2giLCJfZ2V0QmF0Y2hhYmxlTWVzaCIsIl90ZXh0dXJlIiwiX3RleHR1cmVNYXRyaXhVcGRhdGVJZCIsImNoZWNrQW5kVXBkYXRlVGV4dHVyZSIsImJhdGNoZXIiLCJncHVCYXRjaGFibGVNZXNoIiwic2V0VGV4dHVyZSIsImdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQiLCJfYSIsIl9iIiwiX2luaXRNZXNoRGF0YSIsIl9pbml0QmF0Y2hhYmxlTWVzaCIsImdwdU1lc2giLCJCYXRjaGFibGVNZXNoIiwidHJhbnNmb3JtIiwiYmF0Y2hlck5hbWUiLCJwYWNrQXNRdWFkIiwiaW5kZXhPZmZzZXQiLCJhdHRyaWJ1dGVPZmZzZXQiLCJfYmF0Y2giLCJfdXZVcGRhdGVJZCIsIl90b3BvbG9neSIsInJlc2V0IiwidXZzIiwidXZCdWZmZXIiLCJnZXRCdWZmZXIiLCJ0cmFuc2Zvcm1lZFV2cyIsInRleHR1cmVNYXRyaXgiLCJpc1NpbXBsZSIsIl90cmFuc2Zvcm1lZFV2cyIsIl91cGRhdGVJRCIsIm11bHRpcGx5VXZzIiwiY29sb3IiLCJhdHRyaWJ1dGVTaXplIiwiR2xQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IiLCJwYXJ0aWNsZUNvbnRhaW5lclBpcGUiLCJkZWZhdWx0U2hhZGVyIiwidVRleHR1cmUiLCJnbCIsImdldEJ1ZmZlcnMiLCJnbFByb2dyYW0iLCJnbFR5cGUiLCJCWVRFU19QRVJfRUxFTUVOVCIsIlVOU0lHTkVEX1NIT1JUIiwiVU5TSUdORURfSU5UIiwiZHJhd0VsZW1lbnRzIiwiVFJJQU5HTEVTIiwicGFydGljbGVDaGlsZHJlbiIsImNyZWF0ZUluZGljZXNGb3JRdWFkcyIsInNpemUiLCJvdXRCdWZmZXIiLCJ0b3RhbEluZGljZXMiLCJVaW50MTZBcnJheSIsIkVycm9yIiwiaiIsImdlbmVyYXRlVXBkYXRlRnVuY3Rpb24iLCJwcm9wZXJ0aWVzIiwiZHluYW1pYyIsImZ1bmNGcmFnbWVudHMiLCJwcm9wZXJ0eSIsImNvZGUiLCJnZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdCIsInVuc2hpZnQiLCJmdW5jdGlvblNvdXJjZSIsImpvaW4iLCJGdW5jdGlvbiIsIlBhcnRpY2xlQnVmZmVyIiwiX3NpemUiLCJfZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUNhY2hlIiwic3RhdGljVmVydGV4U2l6ZSIsImR5bmFtaWNWZXJ0ZXhTaXplIiwiYXR0cmlidXRlSW5mbyIsIl9keW5hbWljU3RyaWRlIiwiX3N0YXRpY1N0cmlkZSIsInN0YXRpY0F0dHJpYnV0ZUJ1ZmZlciIsIlZpZXdhYmxlQnVmZmVyIiwiZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlciIsImR5bmFtaWNPZmZzZXQiLCJzdGF0aWNPZmZzZXQiLCJfc3RhdGljQnVmZmVyIiwiQnVmZmVyIiwibGFiZWwiLCJzaHJpbmtUb0ZpdCIsInVzYWdlIiwiVkVSVEVYIiwiQ09QWV9EU1QiLCJfZHluYW1pY0J1ZmZlciIsImFkZEF0dHJpYnV0ZSIsImF0dHJpYnV0ZU5hbWUiLCJhZGRJbmRleCIsInVwbG9hZEZ1bmN0aW9uIiwiZ2V0UGFydGljbGVVcGRhdGUiLCJfZHluYW1pY1VwbG9hZCIsImR5bmFtaWNVcGRhdGUiLCJfc3RhdGljVXBsb2FkIiwic3RhdGljVXBkYXRlIiwia2V5R2VuIiwiZ2V0UGFydGljbGVTeW5jS2V5IiwiZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZSIsImdlbmVyYXRlUGFydGljbGVVcGRhdGVGdW5jdGlvbiIsInBhcnRpY2xlcyIsInVwbG9hZFN0YXRpYyIsInNldERhdGFXaXRoU2l6ZSIsImJ5dGVMZW5ndGgiLCJmbG9hdDMyVmlldyIsInVpbnQzMlZpZXciLCJ3Z3NsIiwiUGFydGljbGVTaGFkZXIiLCJTaGFkZXIiLCJzdXBlciIsIkdsUHJvZ3JhbSIsImZyb20iLCJmcmFnbWVudCIsImdwdVByb2dyYW0iLCJHcHVQcm9ncmFtIiwiZW50cnlQb2ludCIsIldISVRFIiwidVNhbXBsZXIiLCJUZXh0dXJlU3R5bGUiLCJ1VHJhbnNsYXRpb25NYXRyaXgiLCJDb2xvciIsInVSZXNvbHV0aW9uIiwiUGFydGljbGVDb250YWluZXJQaXBlIiwiX3JlbmRlcmFibGUiLCJfaW5pdEJ1ZmZlciIsIl9wcm9wZXJ0aWVzIiwiY2hpbGRyZW4iLCJfY2hpbGRyZW5EaXJ0eSIsInRyYW5zZm9ybWF0aW9uTWF0cml4IiwiZ2xvYmFsVW5pZm9ybURhdGEiLCJwcm9qZWN0aW9uTWF0cml4IiwiR2xQYXJ0aWNsZUNvbnRhaW5lclBpcGUiLCJHcHVQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IiLCJnZXRVbmlmb3JtQmluZEdyb3VwIiwiZ2V0VGV4dHVyZUJpbmRHcm91cCIsIkdwdVBhcnRpY2xlQ29udGFpbmVyUGlwZSIsIk5pbmVTbGljZVNwcml0ZUdwdURhdGEiLCJOaW5lU2xpY2VHZW9tZXRyeSIsIk5pbmVTbGljZVNwcml0ZVBpcGUiLCJncHVTcHJpdGUiLCJfZ2V0R3B1U3ByaXRlIiwiX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZSIsImJhdGNoYWJsZVNwcml0ZSIsIl9pbml0R1BVU3ByaXRlIiwidGlsaW5nQml0IiwidGlsaW5nQml0R2wiLCJUaWxpbmdTcHJpdGVTaGFkZXIiLCJiaXRzIiwicm91bmRQaXhlbHNCaXQiLCJ0aWxpbmdVbmlmb3JtcyIsInVNYXBDb29yZCIsInVDbGFtcEZyYW1lIiwidUNsYW1wT2Zmc2V0IiwidVRleHR1cmVUcmFuc2Zvcm0iLCJ1U2l6ZUFuY2hvciIsInVwZGF0ZVVuaWZvcm1zIiwiYW5jaG9yWCIsImFuY2hvclkiLCJ0ZXh0dXJlV2lkdGgiLCJ0ZXh0dXJlSGVpZ2h0IiwiYSIsImIiLCJjIiwiZCIsInR4IiwidHkiLCJtYXBDb29yZCIsIlF1YWRHZW9tZXRyeSIsIk1lc2hHZW9tZXRyeSIsInNoYXJlZFF1YWQiLCJUaWxpbmdTcHJpdGVHcHVEYXRhIiwiY2FuQmF0Y2giLCJzbGljZSIsIlRpbGluZ1Nwcml0ZVBpcGUiLCJ0aWxpbmdTcHJpdGVEYXRhIiwiX2dldFRpbGluZ1Nwcml0ZURhdGEiLCJjb3VsZEJhdGNoIiwiX3VwZGF0ZUNhbkJhdGNoIiwidGlsaW5nU3ByaXRlIiwiX3VwZGF0ZUJhdGNoYWJsZU1lc2giLCJiaW5kR3JvdXAiLCJfdGlsZVRyYW5zZm9ybSIsIl9pbml0VGlsaW5nU3ByaXRlRGF0YSIsInJlbmRlcmFibGVEYXRhIiwiYWRkcmVzc01vZGUiLCJhcHBseUFuY2hvclRvVGV4dHVyZSIsImNvcHlGcm9tIiwiYXJyYXkiLCJzZXRVdnMiLCJzZXRQb3NpdGlvbnMiLCJfbm9uUG93T2Yyd3JhcHBpbmciLCJzdXBwb3J0cyIsIm5vblBvd09mMndyYXBwaW5nIiwiaXNQb3dlck9mVHdvIiwiQmF0Y2hhYmxlU3ByaXRlIiwiX2F0dHJpYnV0ZVN0YXJ0IiwibG9jYWxVbmlmb3JtTVNERkJpdCIsImxvY2FsVW5pZm9ybU1TREZCaXRHbCIsIm1TREZCaXQiLCJtU0RGQml0R2wiLCJTZGZTaGFkZXIiLCJtYXhUZXh0dXJlcyIsInVEaXN0YW5jZSIsImNvbG9yQml0IiwiZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXQiLCJiYXRjaFNhbXBsZXJzIiwiZ2V0QmF0Y2hTYW1wbGVyc1VuaWZvcm1Hcm91cCIsIkFic3RyYWN0Qml0bWFwRm9udCIsImFyZ3VtZW50cyIsImNoYXJzIiwibGluZUhlaWdodCIsImZvbnRGYW1pbHkiLCJmb250TWV0cmljcyIsImZvbnRTaXplIiwiYXNjZW50IiwiZGVzY2VudCIsImJhc2VMaW5lT2Zmc2V0IiwiZGlzdGFuY2VGaWVsZCIsInJhbmdlIiwicGFnZXMiLCJhcHBseUZpbGxBc1RpbnQiLCJiYXNlTWVhc3VyZW1lbnRGb250U2l6ZSIsImJhc2VSZW5kZXJlZEZvbnRTaXplIiwiZm9udCIsImRlcHJlY2F0aW9uIiwicGFnZVRleHR1cmVzIiwiZGlzdGFuY2VGaWVsZFJhbmdlIiwiZGlzdGFuY2VGaWVsZFR5cGUiLCJkZXN0cm95VGV4dHVyZXMiLCJlbWl0IiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicGFnZSIsIl9EeW5hbWljQml0bWFwRm9udCIsIl9wYWRkaW5nIiwiX21lYXN1cmVDYWNoZSIsIl9jdXJyZW50Q2hhcnMiLCJfY3VycmVudFgiLCJfY3VycmVudFkiLCJfY3VycmVudE1heENoYXJIZWlnaHQiLCJfY3VycmVudFBhZ2VJbmRleCIsIl9za2lwS2VybmluZyIsImR5bmFtaWNPcHRpb25zIiwiZGVmYXVsdE9wdGlvbnMiLCJfdGV4dHVyZVNpemUiLCJ0ZXh0dXJlU2l6ZSIsIl9taXBtYXAiLCJtaXBtYXAiLCJjbG9uZSIsIm92ZXJyaWRlRmlsbCIsIl9maWxsIiwiZmlsbCIsInJlcXVlc3RlZEZvbnRTaXplIiwiZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUiLCJvdmVycmlkZVNpemUiLCJfc3Ryb2tlIiwiX3N0eWxlIiwic2tpcEtlcm5pbmciLCJ0ZXh0dXJlU3R5bGUiLCJfdGV4dHVyZVN0eWxlIiwiQ2FudmFzVGV4dE1ldHJpY3MiLCJtZWFzdXJlRm9udCIsImVuc3VyZUNoYXJhY3RlcnMiLCJjaGFyTGlzdCIsImdyYXBoZW1lU2VnbWVudGVyIiwiY2hhciIsImluY2x1ZGVzIiwic2VsZiIsImluZGV4T2YiLCJwYWdlRGF0YSIsIl9uZXh0UGFnZSIsInRleHR1cmVTb3VyY2UiLCJjdXJyZW50WCIsImN1cnJlbnRZIiwiY3VycmVudE1heENoYXJIZWlnaHQiLCJmb250U2NhbGUiLCJza2lwVGV4dHVyZSIsIm1heFRleHR1cmVXaWR0aCIsIm1heFRleHR1cmVIZWlnaHQiLCJtZXRyaWNzIiwibWVhc3VyZVRleHQiLCJwYWRkZWRXaWR0aCIsImZvbnRTdHlsZSIsInBhZGRlZEhlaWdodCIsInBhZ2VEYXRhMiIsInhBZHZhbmNlIiwiZHJvcFNoYWRvdyIsImRpc3RhbmNlIiwiaWQiLCJjb2RlUG9pbnRBdCIsInhPZmZzZXQiLCJ5T2Zmc2V0Iiwia2VybmluZyIsIl9kcmF3R2x5cGgiLCJweCIsInB5IiwiUmVjdGFuZ2xlIiwiX2FwcGx5S2VybmluZyIsIm5ld0NoYXJzIiwibWVhc3VyZUNhY2hlIiwiZmlyc3QiLCJzZWNvbmQiLCJjMSIsImMyIiwidG90YWwiLCJhbW91bnQiLCJ0ZXh0dXJlUmVzb2x1dGlvbiIsIl9zZXR1cENvbnRleHQiLCJJbWFnZVNvdXJjZSIsImF1dG9HZW5lcmF0ZU1pcG1hcHMiLCJ0ZXh0QmFzZWxpbmUiLCJzdHJva2UiLCJzdHJva2VUaGlja25lc3MiLCJsaW5lV2lkdGgiLCJsaW5lSm9pbiIsIm1pdGVyTGltaXQiLCJzdHJva2VTdHlsZSIsImdldENhbnZhc0ZpbGxTdHlsZSIsImZpbGxTdHlsZSIsInNoYWRvd09wdGlvbnMiLCJyZ2IiLCJzZXRWYWx1ZSIsInRvQXJyYXkiLCJkcm9wU2hhZG93Qmx1ciIsImJsdXIiLCJkcm9wU2hhZG93RGlzdGFuY2UiLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwiY29zIiwiYW5nbGUiLCJzaGFkb3dPZmZzZXRZIiwic2luIiwidGV4dCIsImZvbnRQcm9wZXJ0aWVzIiwicmVtb3ZlU2hhZG93Iiwic3Ryb2tlVGV4dCIsImZpbGxUZXh0IiwiVGV4dFN0eWxlIiwiRHluYW1pY0JpdG1hcEZvbnQiLCJnZXRCaXRtYXBUZXh0TGF5b3V0IiwidHJpbUVuZCIsImxheW91dERhdGEiLCJsaW5lcyIsImNoYXJQb3NpdGlvbnMiLCJzcGFjZVdpZHRoIiwic3BhY2VzSW5kZXgiLCJjdXJyZW50TGluZSIsInByZXZpb3VzQ2hhciIsImZpcnN0V29yZCIsImN1cnJlbnRXb3JkIiwic3BhY2VXb3JkIiwiYWRqdXN0ZWRMZXR0ZXJTcGFjaW5nIiwibGV0dGVyU3BhY2luZyIsImFkanVzdGVkV29yZFdyYXBXaWR0aCIsIndvcmRXcmFwV2lkdGgiLCJhZGp1c3RlZExpbmVIZWlnaHQiLCJicmVha1dvcmRzIiwid29yZFdyYXAiLCJuZXh0V29yZCIsIndvcmQiLCJwb3NpdGlvbiIsIm5leHRMaW5lIiwibGFzdENoYXIiLCJjaGVja0lzT3ZlcmZsb3ciLCJpc0VuZCIsImNoYXJEYXRhIiwidGVzdCIsIm5leHRDaGFyV2lkdGgiLCJhbGlnbiIsIm1lYXN1cmVtZW50RGF0YSIsImxpbmUiLCJhbGlnbkNlbnRlciIsImFsaWduUmlnaHQiLCJpbmR5Iiwic3BhY2VJbmRleCIsInRvdGFsU3BhY2VzIiwiYWxpZ25KdXN0aWZ5IiwiZm9udENvdW50IiwiQml0bWFwRm9udE1hbmFnZXIiLCJBTFBIQSIsIk5VTUVSSUMiLCJBTFBIQU5VTUVSSUMiLCJBU0NJSSIsImdldEZvbnQiLCJmb250RmFtaWx5S2V5Iiwic3R5bGVLZXkiLCJzdWJzdHJpbmciLCJsYXN0SW5kZXhPZiIsIkNhY2hlIiwiaGFzIiwic3R5bGVDb3B5IiwiZm50Iiwib25jZSIsImR5bmFtaWNGb250IiwiZ2V0TGF5b3V0IiwiYml0bWFwRm9udCIsImluc3RhbGwiLCJhcmdzIiwidGV4dFN0eWxlIiwiZHluYW1pY0ZpbGwiLCJfY2FuVXNlVGludEZvclN0eWxlIiwiZmxhdENoYXJzIiwicmVzdWx0IiwiaXRlbSIsIkFycmF5IiwiaXNBcnJheSIsInN0YXJ0Q29kZSIsImNoYXJDb2RlQXQiLCJlbmRDb2RlIiwiaTIiLCJqMiIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInJlc29sdmVDaGFyYWN0ZXJzIiwidW5pbnN0YWxsIiwiY2FjaGVLZXkiLCJCaXRtYXBUZXh0R3JhcGhpY3MiLCJHcmFwaGljcyIsIkJpdG1hcFRleHRQaXBlIiwicmVuZGVyYWJsZUdDIiwiYWRkTWFuYWdlZEhhc2giLCJiaXRtYXBUZXh0IiwiZ3JhcGhpY3NSZW5kZXJhYmxlIiwiX2dldEdwdUJpdG1hcFRleHQiLCJzeW5jV2l0aFByb3h5IiwiX2RpZFRleHRVcGRhdGUiLCJfdXBkYXRlQ29udGV4dCIsIl91cGRhdGVEaXN0YW5jZUZpZWxkIiwicHJveHlHcmFwaGljcyIsImxpbWl0cyIsIm1heEJhdGNoYWJsZVRleHR1cmVzIiwiYml0bWFwVGV4dExheW91dCIsIl9hbmNob3IiLCJfeCIsIl95IiwidGludCIsImxpbmVQb3NpdGlvbllTaGlmdCIsInJvdW5kIiwiaW5pdEdwdVRleHQiLCJwcm94eVJlbmRlcmFibGUiLCJkeCIsInNxcnQiLCJkeSIsIndvcmxkU2NhbGUiLCJhYnMiLCJwcm94eSIsImdyb3VwQ29sb3IiLCJsb2NhbERpc3BsYXlTdGF0dXMiLCJncm91cEFscGhhIiwiQmF0Y2hhYmxlSFRNTFRleHQiLCJnZW5lcmF0aW5nVGV4dHVyZSIsInJlc29sdXRpb25DaGFuZ2UiLCJfYXV0b1Jlc29sdXRpb24iLCJvblZpZXdVcGRhdGUiLCJodG1sVGV4dCIsInJldHVyblRleHR1cmVQcm9taXNlIiwidGV4dHVyZVByb21pc2UiLCJIVE1MVGV4dFBpcGUiLCJiYXRjaGFibGVIVE1MVGV4dCIsIl9nZXRHcHVUZXh0IiwiX3VwZGF0ZUdwdVRleHQiLCJjYXRjaCIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJ1cGRhdGVUZXh0Qm91bmRzIiwiZ2V0VGV4dHVyZVByb21pc2UiLCJzdHJ1Y3R1cmVEaWRDaGFuZ2UiLCJtYXhYIiwibWF4WSIsIm5zc3ZnIiwibnN4aHRtbCIsIkhUTUxUZXh0UmVuZGVyRGF0YSIsInN2Z1Jvb3QiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImZvcmVpZ25PYmplY3QiLCJkb21FbGVtZW50Iiwic3R5bGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwib3ZlcmZsb3ciLCJhcHBlbmRDaGlsZCIsImltYWdlIiwiY3JlYXRlSW1hZ2UiLCJGb250U3R5bGVQcm9taXNlQ2FjaGUiLCJNYXAiLCJ0ZW1wSFRNTFRleHRSZW5kZXJEYXRhIiwiSFRNTFRleHRTeXN0ZW0iLCJfY3JlYXRlQ2FudmFzIiwiV0VCR1BVIiwiZ2V0VGV4dHVyZSIsIl9idWlsZFRleHR1cmVQcm9taXNlIiwiaHRtbFRleHREYXRhIiwiZm9udEZhbWlsaWVzIiwiZGVkdXBlIiwibWF0Y2hlcyIsIm1hdGNoIiwiYWRkRm9udEZhbWlseSIsImZvbnRGYW1pbHkyIiwic3BsaXQiLCJ0cmltIiwidGFnU3R5bGVzIiwiZXh0cmFjdEZvbnRGYW1pbGllcyIsImZvbnRDU1MiLCJhc3luYyIsImZvbnRQcm9taXNlcyIsImVudHJpZXMiLCJwcm9taXNlcyIsImVudHJ5IiwidXJsIiwiZmFjZXMiLCJmYWNlIiwid2VpZ2h0IiwiZGF0YVNyYyIsInJlc3BvbnNlIiwiZmV0Y2giLCJibG9iIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwib25sb2FkZW5kIiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJsb2FkRm9udEFzQmFzZTY0IiwiZm9udFdlaWdodCIsImxvYWRGb250Q1NTIiwiYWxsIiwidGhlbiIsImNzcyIsImdldEZvbnRDc3MiLCJtZWFzdXJlZCIsImZvbnRTdHlsZUNTUyIsImh0bWxUZXh0UmVuZGVyRGF0YSIsImlubmVySFRNTCIsImNzc1N0eWxlIiwidGV4dENvbnRlbnQiLCJib2R5IiwiY29udGVudEJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImRvdWJsZVBhZGRpbmciLCJtZWFzdXJlSHRtbFRleHQiLCJzdmdVUkwiLCJYTUxTZXJpYWxpemVyIiwic2VyaWFsaXplVG9TdHJpbmciLCJnZXRTVkdVcmwiLCJkZWxheSIsInJlc29sdmUyIiwic2V0VGltZW91dCIsIm9ubG9hZCIsInNyYyIsImVuY29kZVVSSUNvbXBvbmVudCIsImNyb3NzT3JpZ2luIiwibG9hZFNWR0ltYWdlIiwidXNlckFnZW50IiwiZ2V0TmF2aWdhdG9yIiwiaXNTYWZhcmkiLCJkcmF3SW1hZ2UiLCJnZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UiLCJnZXRQbzJUZXh0dXJlRnJvbVNvdXJjZSIsImluaXRTb3VyY2UiLCJfY2xlYW5VcCIsInVwbG9hZE1ldGhvZElkIiwiQ2FudmFzU3lzdGVtIiwidmFsdWVzVG9JdGVyYXRlRm9yS2V5cyIsImFkZEZpbGxTdHlsZUtleSIsIl9UZXh0U3R5bGUiLCJvbGRTdHlsZSIsImRlZmF1bHRzIiwiZGVmYXVsdERyb3BTaGFkb3ciLCJkcm9wU2hhZG93QWxwaGEiLCJkcm9wU2hhZG93QW5nbGUiLCJkcm9wU2hhZG93Q29sb3IiLCJvYmoiLCJpc0NvbG9yTGlrZSIsIkZpbGxHcmFkaWVudCIsIkZpbGxQYXR0ZXJuIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZmlsbEdyYWRpZW50U3RvcHMiLCJncmFkaWVudEZpbGwiLCJ0ZXh0dXJlU3BhY2UiLCJmaWxscyIsInRvTnVtYmVyIiwiYWRkQ29sb3JTdG9wIiwiY29udmVydFY3VG92OFN0eWxlIiwiZnVsbFN0eWxlIiwiZGVmYXVsdFRleHRTdHlsZSIsIl9hbGlnbiIsIl9icmVha1dvcmRzIiwiX2Ryb3BTaGFkb3ciLCJfY3JlYXRlUHJveHkiLCJfZm9udEZhbWlseSIsIl9mb250U2l6ZSIsInBhcnNlSW50IiwiX2ZvbnRTdHlsZSIsInRvTG93ZXJDYXNlIiwiZm9udFZhcmlhbnQiLCJfZm9udFZhcmlhbnQiLCJfZm9udFdlaWdodCIsImxlYWRpbmciLCJfbGVhZGluZyIsIl9sZXR0ZXJTcGFjaW5nIiwiX2xpbmVIZWlnaHQiLCJfZmlsdGVycyIsIl90cmltIiwiX3RleHRCYXNlbGluZSIsIndoaXRlU3BhY2UiLCJfd2hpdGVTcGFjZSIsIl93b3JkV3JhcCIsIl93b3JkV3JhcFdpZHRoIiwiX29yaWdpbmFsRmlsbCIsIl9pc0ZpbGxTdHlsZSIsIkdyYXBoaWNzQ29udGV4dCIsImRlZmF1bHRGaWxsU3R5bGUiLCJfb3JpZ2luYWxTdHJva2UiLCJkZWZhdWx0U3Ryb2tlU3R5bGUiLCJfZ2VuZXJhdGVLZXkiLCJfc3R5bGVLZXkiLCJwcm9wIiwiYWxpZ25tZW50IiwiY2FwIiwiYWRkU3Rva2VTdHlsZUtleSIsImFkZERyb3BTaGFkb3dLZXkiLCJhZGRGaWx0ZXJzS2V5IiwiZ2VuZXJhdGVUZXh0U3R5bGVLZXkiLCJkZWZhdWx0U3R5bGUiLCJfZ2V0RmluYWxQYWRkaW5nIiwiZmlsdGVyUGFkZGluZyIsImRlc3Ryb3lUZXh0dXJlU291cmNlIiwiY2IiLCJQcm94eSIsInRhcmdldCIsIm5ld1ZhbHVlIiwiUEkiLCJjb250ZXh0U2V0dGluZ3MiLCJ3aWxsUmVhZEZyZXF1ZW50bHkiLCJfQ2FudmFzVGV4dE1ldHJpY3MiLCJleHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nU3VwcG9ydGVkIiwiX2V4cGVyaW1lbnRhbExldHRlclNwYWNpbmdTdXBwb3J0ZWQiLCJwcm90byIsImdldENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCIsInByb3RvdHlwZSIsImxpbmVXaWR0aHMiLCJtYXhMaW5lV2lkdGgiLCJfY2FudmFzIiwiX19jb250ZXh0IiwiX21lYXN1cmVUZXh0Iiwic3Ryb2tlV2lkdGgiLCJ1c2VFeHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nIiwiZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZyIsInRleHRMZXR0ZXJTcGFjaW5nIiwibWV0cmljV2lkdGgiLCJhY3R1YWxCb3VuZGluZ0JveExlZnQiLCJib3VuZHNXaWR0aCIsImFjdHVhbEJvdW5kaW5nQm94UmlnaHQiLCJ2YWwiLCJjYWNoZSIsImNvbGxhcHNlU3BhY2VzIiwiX2NvbGxhcHNlU3BhY2VzIiwiY29sbGFwc2VOZXdsaW5lcyIsIl9jb2xsYXBzZU5ld2xpbmVzIiwiY2FuUHJlcGVuZFNwYWNlcyIsInRva2VucyIsIl90b2tlbml6ZSIsInRva2VuIiwiX2lzTmV3bGluZSIsIl9hZGRMaW5lIiwiY3VycklzQnJlYWtpbmdTcGFjZSIsImlzQnJlYWtpbmdTcGFjZSIsImxhc3RJc0JyZWFraW5nU3BhY2UiLCJ0b2tlbldpZHRoIiwiX2dldEZyb21DYWNoZSIsImNhbkJyZWFrV29yZHMiLCJjaGFyYWN0ZXJzIiwid29yZFdyYXBTcGxpdCIsImsiLCJuZXh0Q2hhciIsImNhbkJyZWFrQ2hhcnMiLCJjaGFyYWN0ZXJXaWR0aCIsImlzTGFzdFRva2VuIiwibmV3TGluZSIsIl90cmltUmlnaHQiLCJfbmV3bGluZXMiLCJfbmV4dENoYXIiLCJfYnJlYWtpbmdTcGFjZXMiLCJfdG9rZW4iLCJfY2hhciIsIl9pbmRleCIsIl9mb250cyIsIl9jb250ZXh0IiwiTUVUUklDU19TVFJJTkciLCJCQVNFTElORV9TWU1CT0wiLCJhY3R1YWxCb3VuZGluZ0JveEFzY2VudCIsImFjdHVhbEJvdW5kaW5nQm94RGVzY2VudCIsImNsZWFyTWV0cmljcyIsIl9fY2FudmFzIiwiT2Zmc2NyZWVuQ2FudmFzIiwiX2N4IiwiQkFTRUxJTkVfTVVMVElQTElFUiIsIkhFSUdIVF9NVUxUSVBMSUVSIiwiSW50bCIsIlNlZ21lbnRlciIsInNlZ21lbnRlciIsInMiLCJzZWdtZW50cyIsInNlZ21lbnQiLCJnZW5lcmljRm9udEZhbWlsaWVzIiwiZm9udFNpemVTdHJpbmciLCJQUkVDSVNJT04iLCJ0ZXh0TWV0cmljcyIsInNldEFscGhhIiwidG9IZXhhIiwicGF0dGVybiIsImNyZWF0ZVBhdHRlcm4iLCJzZXRUcmFuc2Zvcm0iLCJmaWxsUGF0dGVybiIsImZpbGxHcmFkaWVudCIsImlzTGluZWFyIiwiaXNMb2NhbCIsImdyYWRpZW50IiwiaXNOZWFybHlWZXJ0aWNhbCIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwiY2VudGVyIiwiaW5uZXJSYWRpdXMiLCJvdXRlckNlbnRlciIsIm91dGVyUmFkaXVzIiwiY3JlYXRlUmFkaWFsR3JhZGllbnQiLCJyYXRpbyIsImNvbG9yU3RvcHMiLCJnbG9iYWxTdG9wIiwidG9IZXgiLCJCYXRjaGFibGVUZXh0IiwiY2FudmFzVGV4dCIsIkNhbnZhc1RleHRQaXBlIiwiYmF0Y2hhYmxlVGV4dCIsIl9pbnRlcm5hbENhbnZhcyIsIl9pbnRlcm5hbENvbnRleHQiLCJjaGVja1JvdyIsImNoZWNrQ29sdW1uIiwidG9wIiwiYm90dG9tIiwiZ2V0Q2FudmFzQm91bmRpbmdCb3giLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJnbG9iYWxBbHBoYSIsImVuc3VyZUludGVybmFsQ2FudmFzIiwiVHlwZUVycm9yIiwiZ2V0SW1hZ2VEYXRhIiwibGVmdCIsInJpZ2h0Iiwic3Ryb2tlUmVjdCIsInRlbXBSZWN0IiwiQ2FudmFzVGV4dEdlbmVyYXRvciIsImdldENhbnZhc0FuZENvbnRleHQiLCJfcmVuZGVyVGV4dFRvQ2FudmFzIiwibGluZUNhcCIsImxpbmVQb3NpdGlvblgiLCJsaW5lUG9zaXRpb25ZIiwicGFzc2VzQ291bnQiLCJpc1NoYWRvd1Bhc3MiLCJkc09mZnNldFRleHQiLCJkc09mZnNldFNoYWRvdyIsInRvUmdiYVN0cmluZyIsInN0cm9rZVBhZGRpbmciLCJfZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwicHJldmlvdXNXaWR0aCIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRDaGFyIiwidGV4dFN0ciIsIkNhbnZhc1RleHRTeXN0ZW0iLCJfdGV4dEtleSIsInVwZGF0ZVV2cyIsImZpbHRlcmVkVGV4dHVyZSIsIl9hcHBseUZpbHRlcnMiLCJyZW5kZXJUZXh0VG9DYW52YXMiLCJjdXJyZW50UmVuZGVyVGFyZ2V0IiwicmVzdWx0VGV4dHVyZSIsInRlbXBCb3VuZHMiLCJwYWRkaW5nT2Zmc2V0IiwicGFkZGluZ09mZnNldFkiXSwic291cmNlUm9vdCI6IiJ9